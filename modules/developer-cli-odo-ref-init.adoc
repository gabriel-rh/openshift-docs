// Module included in the following assemblies:
//
// * cli_reference/developer_cli_odo/odo-cli-reference.adoc

:_content-type: REFERENCE
[id="odo-init_{context}"]
= odo init

The `odo init` command is the first command you run when you want to bootstrap a brand new component using `odo`. If you already have source code available, you should consider using `odo dev` instead.

This command must be executed from an empty directory. A `devfile.yaml` file is downloaded along with an optional starter project. The command can be executed in two modes, either interactive or non-interactive.

== Interactive mode

In interactive mode, you are guided to:

- Choose a Devfile from the list of Devfiles present in the default registry, or in any registry referenced using the `odo registry` command.
- Configure the Devfile if there is an existing project.
- Choose a starter project referenced by the selected Devfile.
- Choose a name for the component present in the Devfile. This name must follow the link:https://kubernetes.io/docs/concepts/overview/working-with-objects/names/#dns-label-names[Kubernetes naming convention] and must not be all-numeric.

.Sample command
[source,terminal]
----
$ odo init
----

.Sample interactive mode
[source,terminal]
----
$ odo init
? Select language: java
? Select project type: Maven Java (java-maven, registry: DefaultDevfileRegistry)
? Which starter project do you want to use? springbootproject
? Enter component name: my-java-maven-app
 ✓  Downloading devfile "java-maven" from registry "DefaultDevfileRegistry" [949ms]
 ✓  Downloading starter project "springbootproject" [430ms]

Your new component "my-java-maven-app" is ready in the current directory.
To start editing your component, use "odo dev" and open this folder in your favorite IDE.
Changes will be directly reflected on the cluster.
To deploy your component to a cluster use "odo deploy".
----

== Non-interactive mode

In non-interactive mode, you specify the information needed to produce a Devfile from the command line.

`--devfile`:: If you want to download a Devfile from a registry, you must specify the Devfile name with the `--devfile` flag. The Devfile with the specified name will be searched in the registries referenced (using `odo preference view`), and the first one matching will be downloaded. 

`--devfile-registry`:: If you want to download the Devfile from a specific registry in the list of referenced registries, you can use the `--devfile-registry` flag to specify the name of this registry. By default, `odo` uses the official devfile registry link:https://registry.devfile.io[registry.devfile.io]. You can use the registry's link:https://registry.devfile.io/viewer[web interface] to view its content.

`--devfile-path`:: If you prefer to download a Devfile from a URL or from the local filesystem, you can use the `--devfile-path` instead.

`--starter`:: The `--starter` flag indicates the name of the starter project, as referenced in the selected Devfile, that you want to use to start your development. To see the available starter projects for Devfile stacks in the official devfile registry, use the registry's link:https://registry.devfile.io/viewer[web interface] to view its content.  

`--name`:: The required `--name` flag indicates how the component initialized by this command should be named. The name must follow the link:https://kubernetes.io/docs/concepts/overview/working-with-objects/names/#dns-label-names[Kubernetes naming convention] and must not be all-numeric.

=== Non-interactive mode from the default registry

Use the `odo preference view` command to see the list of registries:

.List registries
[source,terminal]
----
$ odo preference view
...

Devfile registries:
 NAME                       URL                                   SECURE
 Staging                    https://registry.stage.devfile.io     No
 DefaultDevfileRegistry     https://registry.devfile.io           No
----

Run the `odo init` command as follows:

.Sample command
[source,terminal]
----
$ odo init --name <component-name> --devfile <devfile> [--starter STARTER]
----

In this example, the Devfile is downloaded from the **Staging** registry, which is the first one in the list containing the `nodejs-react` devfile.

=== Non-interactive mode from a specific registry

To download the Devfile from the **DefaultDevfileRegistry** registry in the preceding example, use the `--devfile-registry` flag:

.Sample command specifying explicit registry
[source,terminal]
----
$ odo init --name my-spring-app --devfile java-springboot --devfile-registry DefaultDevfileRegistry --starter springbootproject
----

.Sample output specifying explicit registry
[source,terminal]
----
 ✓  Downloading devfile "java-springboot" from registry "DefaultDevfileRegistry" [980ms]
 ✓  Downloading starter project "springbootproject" [399ms]

Your new component "my-spring-app" is ready in the current directory.
To start editing your component, use "odo dev" and open this folder in your favorite IDE.
Changes will be directly reflected on the cluster.
To deploy your component to a cluster use "odo deploy".
----

=== Non-interactive mode from a URL

Use the `--devfile-path` path to load the devfile from a URL:

.Sample command specifying path to devfile
[source,terminal]
----
$ odo init --devfile-path <URL> --name <component-name> [--starter STARTER]
----

.Sample output specifying path to devfile
[source,terminal]
----
$ odo init --devfile-path https://registry.devfile.io/devfiles/nodejs-angular --name my-nodejs-app --starter nodejs-angular-starter
 ✓  Downloading devfile from "https://registry.devfile.io/devfiles/nodejs-angular" [415ms]
 ✓  Downloading starter project "nodejs-angular-starter" [484ms]

Your new component "my-nodejs-app" is ready in the current directory.
To start editing your component, use "odo dev" and open this folder in your favorite IDE.
Changes will be directly reflected on the cluster.
To deploy your component to a cluster use "odo deploy".
----
