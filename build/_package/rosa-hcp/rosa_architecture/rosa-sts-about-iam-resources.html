

<!DOCTYPE html>
<!--[if IE 8]> <html class="ie8"> <![endif]-->
<!--[if IE 9]> <html class="ie9"> <![endif]-->
<!--[if gt IE 9]><!-->
<html>
<!--<![endif]-->

<head>
  <meta charset="utf-8">
  <meta content="IE=edge" http-equiv="X-UA-Compatible">
  <meta content="width=device-width, initial-scale=1.0" name="viewport">
  
  
  
  <title>About IAM resources | Introduction to ROSA | Red Hat OpenShift Service on AWS </title>
  <link href="https://assets.openshift.net/content/subdomain.css" rel="stylesheet" type="text/css"/>
  <link href="https://docs.okd.io/latest/_stylesheets/search.css" rel="stylesheet" media="screen"/>
  <link href="https://docs.okd.io/latest/_stylesheets/autumn.css" rel="stylesheet"  media="screen"/>
  <link href="https://assets.openshift.net/content/subdomain/touch-icon-precomposed.png" rel="apple-touch-icon-precomposed" type="image/png"/>
  <link href="https://assets.openshift.net/content/subdomain/favicon32x32.png" rel="shortcut icon" type="text/css"/>
  <link href="https://assets.openshift.net/content/osh-nav-footer.css" rel="stylesheet" type="text/css" media="screen"/>
  <link href="https://docs.okd.io/latest/_stylesheets/docs.css" rel="stylesheet"  media="screen"/>
  <link href="https://docs.okd.io/latest/_stylesheets/print.css" rel="stylesheet" type="text/css" media="print"/>
  <!--[if IE]><link rel="shortcut icon" href="https://assets.openshift.net/content/subdomain/favicon.ico"><![endif]-->
  <!-- or, set /favicon.ico for IE10 win -->
  <meta content="OpenShift" name="application-name">
  <meta content="#000000" name="msapplication-TileColor">
  <meta content="https://assets.openshift.net/content/subdomain/touch-icon-precomposed.png" name="msapplication-TileImage">

  <!-- Adobe DTM -->
  <script src="//www.redhat.com/dtm.js" type="text/javascript"></script>
  <!-- End Adobe DTM -->

  <script id="trustarc" src="https://static.redhat.com/libs/redhat/marketing/latest/trustarc/trustarc.js"></script>

  <link href="https://fonts.googleapis.com/icon?family=Material+Icons+Outlined"
        rel="stylesheet">

</head>

<body onload="selectVersion('');">
  
<nav id="main">
  <div class="container">
    <div class="row">
      <div class="navbar navbar-default navbar-openshift" role="navigation">
        <div class="navbar-header">
            <a href="#nav-main" class="dropdown-toggle navbar-menu-toggle hidden visible-xs" data-toggle="collapse">
              <span class="icon-bar"></span>
              <span class="icon-bar"></span>
              <span class="icon-bar"></span>
            </a>
          <a class="navbar-brand" href="/"></a>
        </div>
        <div id="nav-main" class="navbar-collapse collapse">
          <ul class="nav navbar-nav">
            <li id="products" class="dropdown">
              <a href="#" class="dropdown-toggle" data-toggle="dropdown" aria-expanded="true">
                Products <span class="fa fa-angle-down"></span>
              </a>
              <div class="dropdown-menu">
                <div class="row flex-column flex-md-row">
                  <div class="col-xs-12 col-sm-3">
                    <h3>Overview</h3>
                    <ul class="nav flex-column">
                      <li><a target="_blank" href="https://www.openshift.com/products/features/">Features</a></li>
                      <li><a target="_blank" href="https://www.openshift.com/products/pricing/">Pricing</a></li>
                    </ul>
                  </div>
                  <div class="col-xs-12 col-sm-9">
                    <h3>Featured Products</h3>
                    <ul class="nav">
                      <li>
                        <a target="_blank" href="https://www.openshift.com/products/container-platform/">Red Hat OpenShift Container&nbsp;Platform</a>
                        <p class="d-none d-md-block">Build, deploy and manage your applications across cloud- and on-premise infrastructure</p>
                      </li>
                      <li>
                        <a target="_blank" href="https://www.openshift.com/products/dedicated/">Red Hat OpenShift Dedicated</a>
                        <p class="d-none d-md-block">Single-tenant, high-availability Kubernetes clusters in the public cloud</p>
                      </li>

                      <li>
                        <a target="_blank" href="https://www.openshift.com/products/online/">Red Hat OpenShift Online</a>
                        <p class="d-none d-md-block">The fastest way for developers to build, host and scale applications in the public cloud</p>
                      </li>

                      <li class="nav-item">
                        <a target="_blank" href="https://www.openshift.com/products/">All products <span class="fa fa-angle-right"></span></a>
                      </li>
                    </ul>
                  </div>
                </div>
              </div>
            </li>

            <li id="learn" class="dropdown">
              <a href="#" class="dropdown-toggle" data-toggle="dropdown">
                Learn <span class="fa fa-angle-down"></span>
              </a>
              <div class="dropdown-menu">
                <div class="row flex-md-nowrap">
                  <div class="col-xs-12 col-sm-6">
                    <h3>Learn</h3>
                    <ul class="nav">
                      <li><a target="_blank" href="https://www.openshift.com/learn/what-is-openshift/">What is OpenShift</a></li>
                      <li><a target="_blank" href="https://www.openshift.com/learn/get-started/">Get started</a></li>
                      <li><a target="_blank" href="https://www.openshift.com/learn/partners/">Partners</a></li>
                      <li><a target="_blank" href="https://www.openshift.com/learn/success-stories/">Customer success stories</a></li>
                      <li><a target="_blank" href="https://blog.openshift.com">Blog</a></li>
                      <li><a target="_blank" href="https://www.openshift.com/learn/resources/">Resources</a></li>
                    </ul>
                  </div>
                  <div class="col-xs-12 col-sm-6">
                    <h3>Technology Topics</h3>
                    <ul class="nav">
                      <li><a target="_blank" href="https://www.openshift.com/learn/topics/knative/">Knative</a></li>
                      <li><a target="_blank" href="https://www.openshift.com/learn/topics/security/">Security</a></li>
                      <li><a target="_blank" href="https://www.openshift.com/learn/topics/kubernetes/">Kubernetes</a></li>
                      <li><a target="_blank" href="https://www.openshift.com/learn/topics/service-brokers/">Service Brokers</a></li>
                    </ul>
                  </div>
                </div>
              </div>
            </li>

            <li class="dropdown">
              <a href="#" class="dropdown-toggle" data-toggle="dropdown">
                Community <span class="fa fa-angle-down"></span>
              </a>
              <ul class="dropdown-menu">
                <li><a target="_blank" href="https://commons.openshift.org">OpenShift Commons</a></li>
                <li><a target="_blank" href="https://www.okd.io">Open Source (OKD)</a></li>
                <li><a target="_blank" href="https://www.openshift.com/community/programs/startups/">Startups</a></li>
                <li><a target="_blank" href="https://www.openshift.com/community/programs/grants/">Grants</a></li>
              </ul>
            </li>

            <li class="dropdown">
              <a href="#" class="dropdown-toggle" data-toggle="dropdown">
                Support <span class="fa fa-angle-down"></span>
              </a>
              <ul class="dropdown-menu">
                <li><a target="_blank" href="https://help.openshift.com">Help Center</a></li>
                <li><a href="https://docs.openshift.com">OpenShift Docs</a></li>
              </ul>
            </li>

            <li><a target="_blank" class="nav-sign-up" href="https://www.openshift.com/trial/">Free Trial</a></li>

            <li><a target="_blank" href="https://console.redhat.com/openshift" class="nav-sign-in">Log In <span class="fa fa-angle-right"></span></a></li>
          </ul>
        </div>
      </div>
    </div>
  </div>
</nav>

  
  <div class="container">
    <button id="hc-open-btn" class="open-btn-sm" onclick="openNav()" aria-label="Open"><span class="fa fa-bars" /></button>
    <ol class="breadcrumb hide-for-print">
      
      <span>
        <div class="alert alert-info" role="primary" id="support-info">
          <strong>Starting on March 12, 2025, OpenShift docs will only be available at <a href="https://docs.redhat.com/en/" style="color: #0C5460 !important" class="link-primary">docs.redhat.com</a>. From that time on, docs.openshift.com links will automatically redirect to their locations on docs.redhat.com.
          </strong>
        </div>
      </span>
      

      

      

      

      

      

      

      
      

      

      


      

      


      

      

      <li class="sitename">
        <a href="/">
          Documentation</a>
      </li>
      <li class="hidden-xs active">
        
          <a href="../rosa_release_notes/rosa-release-notes.html">Red Hat OpenShift Service on AWS </a>
        
      </li>
      <li class="hidden-xs active">
        <a href="../rosa_architecture/index.html">Introduction to ROSA</a>
      </li>
      
      
      <li class="hidden-xs active">
        About IAM resources
      </li>
      
      <span text-align="right" style="float: right !important">
        <a href="https://github.com/openshift/openshift-docs/commits/main/rosa_architecture/rosa-sts-about-iam-resources.adoc"><span class="material-icons-outlined" title="Page history">history</span></a>
        
        <a href="https://issues.redhat.com/secure/CreateIssueDetails!init.jspa?pid=12332330&issuetype=1&components=12367614&priority=4&summary=Issue+in+file+rosa_architecture/rosa-sts-about-iam-resources.adoc">
          <span class="material-icons-outlined" title="Open an issue">bug_report</span>
        </a>
        <a href="javascript: void(0);" onclick="window.print()"><span class="material-icons-outlined" title="Print page (Save as PDF)">picture_as_pdf</span></a>
        
        
      </span>
      
    </ol>
    <div class="row row-offcanvas row-offcanvas-left">
      <div class="col-xs-8 col-sm-3 col-md-3 sidebar sidebar-offcanvas hide-for-print">
        <div class="row-fluid">
          <div id="btn-close">
            <button id="hc-close-btn" onclick="closeNav()" class="close-btn-sm" aria-label="close"><span class="fa fa-times" /></button>
          </div>
          <div id="hc-search">
            <input id="hc-search-input" type="text" aria-label="search">
            <button id="hc-search-btn" aria-label="search"><span class="fa fa-search" /></button>
          </div>
        </div>
        <ul class="nav nav-sidebar">
    <li class="nav-header"><a class="" href="javascript:void(0);" data-toggle="collapse" data-target="#topicGroup0"><span id="tgSpan0" class="fa fa-angle-right"></span>What's new</a>
      <ul id="topicGroup0" class="collapse  list-unstyled">
            <li><a class="" href="../rosa_release_notes/rosa-release-notes.html">What's new with Red Hat OpenShift Service on AWS</a></li>
      </ul>
    </li>
    <li class="nav-header"><a class="" href="javascript:void(0);" data-toggle="collapse" data-target="#topicGroup1"><span id="tgSpan1" class="fa fa-angle-down"></span>Introduction to ROSA</a>
      <ul id="topicGroup1" class="collapse in list-unstyled">
            <li><a class="" href="../rosa_architecture/index.html">Welcome</a></li>
            <li><a class="" href="../rosa_architecture/legal-notice.html">Legal notice</a></li>
            <li><a class="" href="../rosa_architecture/about-hcp.html">ROSA with HCP overview</a></li>
            <li><a class="" href="../rosa_architecture/cloud-experts-rosa-hcp-sts-explained.html">AWS STS and ROSA with HCP explained</a></li>
            <li><a class="" href="../rosa_architecture/rosa-architecture-models.html">Architecture models</a></li>
            <li class="nav-header"><a class="" href="javascript:void(0);" data-toggle="collapse" data-target="#topicSubGroup-1-5"><span id="sgSpan-1-5" class="fa fa-caret-right"></span>&nbsp;Policies and service definition</a>
              <ul id="topicSubGroup-1-5" class="nav-tertiary list-unstyled collapse">

                  <li><a class="" href="../rosa_architecture/rosa_policy_service_definition/rosa-policy-understand-availability.html">About availability for ROSA</a></li>
                  <li><a class="" href="../rosa_architecture/rosa_policy_service_definition/rosa-policy-responsibility-matrix.html">Overview of responsibilities for ROSA</a></li>
                  <li><a class="" href="../rosa_architecture/rosa_policy_service_definition/rosa-hcp-service-definition.html">ROSA with HCP service definition</a></li>
                  <li><a class="" href="../rosa_architecture/rosa_policy_service_definition/rosa-hcp-instance-types.html">ROSA with HCP instance types</a></li>
                  <li><a class="" href="../rosa_architecture/rosa_policy_service_definition/rosa-hcp-life-cycle.html">ROSA with HCP update life cycle</a></li>
                  <li><a class="" href="../rosa_architecture/rosa_policy_service_definition/rosa-sre-access.html">SRE and service account access</a></li>
                  <li><a class="" href="../rosa_architecture/rosa_policy_service_definition/rosa-policy-process-security.html">Understanding security for ROSA</a></li>              </ul>
            </li>
            <li><a class=" active" href="../rosa_architecture/rosa-sts-about-iam-resources.html">About IAM resources</a></li>
      </ul>
    </li>
    <li class="nav-header"><a class="" href="javascript:void(0);" data-toggle="collapse" data-target="#topicGroup2"><span id="tgSpan2" class="fa fa-angle-right"></span>Learning about ROSA</a>
      <ul id="topicGroup2" class="collapse  list-unstyled">
            <li class="nav-header"><a class="" href="javascript:void(0);" data-toggle="collapse" data-target="#topicSubGroup-2-0"><span id="sgSpan-2-0" class="fa fa-caret-right"></span>&nbsp;Creating a cluster workshop</a>
              <ul id="topicSubGroup-2-0" class="nav-tertiary list-unstyled collapse">

                  <li><a class="" href="../rosa_learning/creating_cluster_workshop/learning-getting-started-hcp-for-hcp.html">Deploying a cluster</a></li>
                  <li><a class="" href="../rosa_learning/creating_cluster_workshop/learning-getting-started-admin.html">Creating an admin user</a></li>
                  <li><a class="" href="../rosa_learning/creating_cluster_workshop/learning-getting-started-idp.html">Setting up an identity provider</a></li>
                  <li><a class="" href="../rosa_learning/creating_cluster_workshop/learning-getting-started-admin-rights.html">Granting admin rights</a></li>
                  <li><a class="" href="../rosa_learning/creating_cluster_workshop/learning-getting-started-accessing.html">Accessing your cluster</a></li>
                  <li><a class="" href="../rosa_learning/creating_cluster_workshop/learning-getting-started-managing-worker-nodes.html">Managing worker nodes</a></li>
                  <li><a class="" href="../rosa_learning/creating_cluster_workshop/learning-getting-started-autoscaling.html">Autoscaling</a></li>
                  <li><a class="" href="../rosa_learning/creating_cluster_workshop/learning-getting-started-upgrading.html">Upgrading your cluster</a></li>
                  <li><a class="" href="../rosa_learning/creating_cluster_workshop/learning-getting-started-deleting.html">Deleting your cluster</a></li>
                  <li><a class="" href="../rosa_learning/creating_cluster_workshop/learning-getting-started-support.html">Obtaining support</a></li>              </ul>
            </li>
            <li class="nav-header"><a class="" href="javascript:void(0);" data-toggle="collapse" data-target="#topicSubGroup-2-1"><span id="sgSpan-2-1" class="fa fa-caret-right"></span>&nbsp;Deploying an application workshop</a>
              <ul id="topicSubGroup-2-1" class="nav-tertiary list-unstyled collapse">

                  <li><a class="" href="../rosa_learning/deploying_application_workshop/learning-lab-overview.html">Workshop overview</a></li>
                  <li><a class="" href="../rosa_learning/deploying_application_workshop/learning-deploying-application-deployment.html">Deployment</a></li>
                  <li><a class="" href="../rosa_learning/deploying_application_workshop/learning-deploying-application-health-check.html">Health Check</a></li>
                  <li><a class="" href="../rosa_learning/deploying_application_workshop/learning-deploying-application-storage.html">Storage</a></li>
                  <li><a class="" href="../rosa_learning/deploying_application_workshop/learning-deploying-configmaps-secrets-env-var.html">ConfigMap, secrets, and environment variables</a></li>
                  <li><a class="" href="../rosa_learning/deploying_application_workshop/learning-deploying-application-networking.html">Networking</a></li>
                  <li><a class="" href="../rosa_learning/deploying_application_workshop/learning-deploying-application-scaling.html">Scaling an application</a></li>
                  <li><a class="" href="../rosa_learning/deploying_application_workshop/learning-deploying-application-s2i-deployments.html">S2i deployments</a></li>
                  <li><a class="" href="../rosa_learning/deploying_application_workshop/learning-deploying-s2i-webhook-cicd.html">Using Source-to-Image (S2I) webhooks for automated deployment</a></li>              </ul>
            </li>
      </ul>
    </li>
    <li class="nav-header"><a class="" href="javascript:void(0);" data-toggle="collapse" data-target="#topicGroup3"><span id="tgSpan3" class="fa fa-angle-right"></span>Tutorials</a>
      <ul id="topicGroup3" class="collapse  list-unstyled">
            <li><a class="" href="../cloud_experts_tutorials/index.html">Tutorials overview</a></li>
            <li><a class="" href="../cloud_experts_tutorials/cloud-experts-rosa-hcp-activation-and-account-linking-tutorial.html">ROSA with HCP activation and account linking</a></li>
            <li><a class="" href="../cloud_experts_tutorials/cloud-experts-rosa-with-hcp-private-offer-acceptance-and-sharing.html">ROSA with HCP private offer acceptance and sharing</a></li>
            <li><a class="" href="../cloud_experts_tutorials/cloud-experts-custom-dns-resolver.html">Deploying ROSA with a Custom DNS Resolver</a></li>
            <li><a class="" href="../cloud_experts_tutorials/cloud-experts-using-cloudfront-and-waf.html">Using AWS WAF and Amazon CloudFront to protect ROSA workloads</a></li>
            <li><a class="" href="../cloud_experts_tutorials/cloud-experts-using-alb-and-waf.html">Using AWS WAF and AWS ALBs to protect ROSA workloads</a></li>
            <li><a class="" href="../cloud_experts_tutorials/cloud-experts-deploy-api-data-protection.html">Deploying OpenShift API for Data Protection on a ROSA cluster</a></li>
            <li><a class="" href="../cloud_experts_tutorials/cloud-experts-aws-load-balancer-operator.html">AWS Load Balancer Operator on ROSA</a></li>
            <li><a class="" href="../cloud_experts_tutorials/cloud-experts-entra-id-idp.html">Configuring Microsoft Entra ID (formerly Azure Active Directory) as an identity provider</a></li>
            <li><a class="" href="../cloud_experts_tutorials/cloud-experts-aws-secret-manager.html">Using AWS Secrets Manager CSI on ROSA with STS</a></li>
            <li><a class="" href="../cloud_experts_tutorials/cloud-experts-using-aws-ack.html">Using AWS Controllers for Kubernetes on ROSA</a></li>
            <li><a class="" href="../cloud_experts_tutorials/cloud-experts-dynamic-certificate-custom-domain.html">Dynamically issuing certificates using the cert-manager Operator on ROSA</a></li>
            <li><a class="" href="../cloud_experts_tutorials/cloud-experts-consistent-egress-ip.html">Assigning consistent egress IP for external traffic</a></li>
      </ul>
    </li>
    <li class="nav-header"><a class="" href="javascript:void(0);" data-toggle="collapse" data-target="#topicGroup4"><span id="tgSpan4" class="fa fa-angle-right"></span>Prepare your environment</a>
      <ul id="topicGroup4" class="collapse  list-unstyled">
            <li><a class="" href="../rosa_planning/rosa-cloud-expert-prereq-checklist.html">Prerequisites checklist for deploying ROSA with HCP</a></li>
            <li><a class="" href="../rosa_planning/rosa-sts-aws-prereqs.html">Detailed requirements for deploying ROSA with HCP</a></li>
            <li><a class="" href="../rosa_planning/rosa-hcp-prepare-iam-roles-resources.html">Required IAM roles and resources</a></li>
            <li><a class="" href="../rosa_planning/rosa-hcp-limits-scalability.html">ROSA with HCP limits and scalability</a></li>
            <li><a class="" href="../rosa_planning/rosa-sts-required-aws-service-quotas.html">Required AWS service quotas</a></li>
            <li><a class="" href="../rosa_planning/rosa-sts-setting-up-environment.html">Setting up your environment</a></li>
            <li><a class="" href="../rosa_planning/rosa-planning-environment.html">Planning resource usage in your cluster</a></li>
      </ul>
    </li>
    <li class="nav-header"><a class="" href="javascript:void(0);" data-toggle="collapse" data-target="#topicGroup5"><span id="tgSpan5" class="fa fa-angle-right"></span>Install ROSA with HCP clusters</a>
      <ul id="topicGroup5" class="collapse  list-unstyled">
            <li><a class="" href="../rosa_hcp/rosa-hcp-quickstart-guide.html">ROSA with HCP quick start guide</a></li>
            <li><a class="" href="../rosa_hcp/rosa-hcp-sts-creating-a-cluster-quickly.html">Creating ROSA with HCP clusters using the default options</a></li>
            <li><a class="" href="../rosa_hcp/rosa-hcp-creating-cluster-with-aws-kms-key.html">Creating ROSA with HCP clusters using a custom AWS KMS encryption key</a></li>
            <li><a class="" href="../rosa_hcp/rosa-hcp-aws-private-creating-cluster.html">Creating a private cluster on ROSA with HCP</a></li>
            <li><a class="" href="../rosa_hcp/rosa-hcp-egress-lockdown-install.html">Creating a ROSA with HCP cluster with egress lockdown</a></li>
            <li><a class="" href="../rosa_hcp/rosa-hcp-sts-creating-a-cluster-ext-auth.html">Creating ROSA with HCP clusters with external authentication</a></li>
      </ul>
    </li>
    <li class="nav-header"><a class="" href="javascript:void(0);" data-toggle="collapse" data-target="#topicGroup6"><span id="tgSpan6" class="fa fa-angle-right"></span>Web console</a>
      <ul id="topicGroup6" class="collapse  list-unstyled">
            <li><a class="" href="../web_console/web-console-overview.html">Web console overview</a></li>
            <li><a class="" href="../web_console/web-console.html">Accessing the web console</a></li>
            <li><a class="" href="../web_console/using-dashboard-to-get-cluster-information.html">Viewing cluster information</a></li>
            <li><a class="" href="../web_console/adding-user-preferences.html">Adding user preferences</a></li>
            <li class="nav-header"><a class="" href="javascript:void(0);" data-toggle="collapse" data-target="#topicSubGroup-6-4"><span id="sgSpan-6-4" class="fa fa-caret-right"></span>&nbsp;Dynamic plugins</a>
              <ul id="topicSubGroup-6-4" class="nav-tertiary list-unstyled collapse">

                  <li><a class="" href="../web_console/dynamic-plugin/overview-dynamic-plugin.html">Overview of dynamic plugins</a></li>
                  <li><a class="" href="../web_console/dynamic-plugin/dynamic-plugins-get-started.html">Getting started with dynamic plugins</a></li>
                  <li><a class="" href="../web_console/dynamic-plugin/deploy-plugin-cluster.html">Deploy your plugin on a cluster</a></li>
                  <li><a class="" href="../web_console/dynamic-plugin/dynamic-plugin-example.html">Dynamic plugin example</a></li>
                  <li><a class="" href="../web_console/dynamic-plugin/dynamic-plugins-reference.html">Dynamic plugin reference</a></li>              </ul>
            </li>
            <li class="nav-header"><a class="" href="javascript:void(0);" data-toggle="collapse" data-target="#topicSubGroup-6-5"><span id="sgSpan-6-5" class="fa fa-caret-right"></span>&nbsp;Web terminal</a>
              <ul id="topicSubGroup-6-5" class="nav-tertiary list-unstyled collapse">

                  <li><a class="" href="../web_console/web_terminal/installing-web-terminal.html">Installing the web terminal</a></li>
                  <li><a class="" href="../web_console/web_terminal/odc-using-web-terminal.html">Using the web terminal</a></li>
                  <li><a class="" href="../web_console/web_terminal/troubleshooting-web-terminal.html">Troubleshooting the web terminal</a></li>
                  <li><a class="" href="../web_console/web_terminal/uninstalling-web-terminal.html">Uninstalling the web terminal</a></li>              </ul>
            </li>
            <li><a class="" href="../web_console/creating-quick-start-tutorials.html">About quick start tutorials</a></li>
      </ul>
    </li>
    <li class="nav-header"><a class="" href="javascript:void(0);" data-toggle="collapse" data-target="#topicGroup7"><span id="tgSpan7" class="fa fa-angle-right"></span>CLI tools</a>
      <ul id="topicGroup7" class="collapse  list-unstyled">
            <li><a class="" href="../cli_reference/index.html">CLI tools overview</a></li>
            <li class="nav-header"><a class="" href="javascript:void(0);" data-toggle="collapse" data-target="#topicSubGroup-7-1"><span id="sgSpan-7-1" class="fa fa-caret-right"></span>&nbsp;OpenShift CLI (oc)</a>
              <ul id="topicSubGroup-7-1" class="nav-tertiary list-unstyled collapse">

                  <li><a class="" href="../cli_reference/openshift_cli/getting-started-cli.html">Getting started with the OpenShift CLI</a></li>
                  <li><a class="" href="../cli_reference/openshift_cli/configuring-cli.html">Configuring the OpenShift CLI</a></li>
                  <li><a class="" href="../cli_reference/openshift_cli/usage-oc-kubectl.html">Usage of oc and kubectl commands</a></li>
                  <li><a class="" href="../cli_reference/openshift_cli/managing-cli-profiles.html">Managing CLI profiles</a></li>
                  <li><a class="" href="../cli_reference/openshift_cli/extending-cli-plugins.html">Extending the OpenShift CLI with plugins</a></li>
                  <li><a class="" href="../cli_reference/openshift_cli/developer-cli-commands.html">OpenShift CLI developer command reference</a></li>
                  <li><a class="" href="../cli_reference/openshift_cli/administrator-cli-commands.html">OpenShift CLI administrator command reference</a></li>              </ul>
            </li>
            <li><a class="" href="../cli_reference/odo-important-update.html">Developer CLI (odo)</a></li>
            <li><a class="" href="../cli_reference/kn-cli-tools.html">Knative CLI (kn) for use with OpenShift Serverless</a></li>
            <li class="nav-header"><a class="" href="javascript:void(0);" data-toggle="collapse" data-target="#topicSubGroup-7-4"><span id="sgSpan-7-4" class="fa fa-caret-right"></span>&nbsp;Pipelines CLI (tkn)</a>
              <ul id="topicSubGroup-7-4" class="nav-tertiary list-unstyled collapse">

                  <li><a class="" href="../cli_reference/tkn_cli/installing-tkn.html">Installing tkn</a></li>
                  <li><a class="" href="../cli_reference/tkn_cli/op-configuring-tkn.html">Configuring tkn</a></li>
                  <li><a class="" href="../cli_reference/tkn_cli/op-tkn-reference.html">Basic tkn commands</a></li>              </ul>
            </li>
            <li class="nav-header"><a class="" href="javascript:void(0);" data-toggle="collapse" data-target="#topicSubGroup-7-5"><span id="sgSpan-7-5" class="fa fa-caret-right"></span>&nbsp;opm CLI</a>
              <ul id="topicSubGroup-7-5" class="nav-tertiary list-unstyled collapse">

                  <li><a class="" href="../cli_reference/opm/cli-opm-install.html">Installing the opm CLI</a></li>
                  <li><a class="" href="../cli_reference/opm/cli-opm-ref.html">opm CLI reference</a></li>              </ul>
            </li>
            <li class="nav-header"><a class="" href="javascript:void(0);" data-toggle="collapse" data-target="#topicSubGroup-7-6"><span id="sgSpan-7-6" class="fa fa-caret-right"></span>&nbsp;Operator SDK</a>
              <ul id="topicSubGroup-7-6" class="nav-tertiary list-unstyled collapse">

                  <li><a class="" href="../cli_reference/osdk/cli-osdk-install.html">Installing the Operator SDK CLI</a></li>
                  <li><a class="" href="../cli_reference/osdk/cli-osdk-ref.html">Operator SDK CLI reference</a></li>              </ul>
            </li>
            <li class="nav-header"><a class="" href="javascript:void(0);" data-toggle="collapse" data-target="#topicSubGroup-7-7"><span id="sgSpan-7-7" class="fa fa-caret-right"></span>&nbsp;ROSA CLI</a>
              <ul id="topicSubGroup-7-7" class="nav-tertiary list-unstyled collapse">

                  <li><a class="" href="../cli_reference/rosa_cli/rosa-get-started-cli.html">Getting started with the ROSA CLI</a></li>
                  <li><a class="" href="../cli_reference/rosa_cli/rosa-manage-objects-cli.html">Managing objects with the ROSA CLI</a></li>
                  <li><a class="" href="../cli_reference/rosa_cli/rosa-checking-acct-version-cli.html">Checking account and version information with the ROSA CLI</a></li>
                  <li><a class="" href="../cli_reference/rosa_cli/rosa-checking-logs-cli.html">Checking logs with the ROSA CLI</a></li>
                  <li><a class="" href="../cli_reference/rosa_cli/rosa-cli-permission-examples.html">Least privilege permissions for ROSA CLI commands</a></li>
                  <li><a class="" href="../cli_reference/rosa_cli/rosa-updating-billing-account-cli.html">Managing AWS billing accounts with the ROSA CLI</a></li>              </ul>
            </li>
      </ul>
    </li>
    <li class="nav-header"><a class="" href="javascript:void(0);" data-toggle="collapse" data-target="#topicGroup8"><span id="tgSpan8" class="fa fa-angle-right"></span>Red Hat OpenShift Cluster Manager</a>
      <ul id="topicGroup8" class="collapse  list-unstyled">
            <li><a class="" href="../ocm/ocm-overview.html">Red Hat OpenShift Cluster Manager</a></li>
      </ul>
    </li>
    <li class="nav-header"><a class="" href="javascript:void(0);" data-toggle="collapse" data-target="#topicGroup9"><span id="tgSpan9" class="fa fa-angle-right"></span>Support</a>
      <ul id="topicGroup9" class="collapse  list-unstyled">
            <li><a class="" href="../support/index.html">Support overview</a></li>
            <li><a class="" href="../support/managing-cluster-resources.html">Managing your cluster resources</a></li>
            <li><a class="" href="../support/approved-access.html">Approved Access</a></li>
            <li><a class="" href="../support/getting-support.html">Getting support</a></li>
            <li class="nav-header"><a class="" href="javascript:void(0);" data-toggle="collapse" data-target="#topicSubGroup-9-4"><span id="sgSpan-9-4" class="fa fa-caret-right"></span>&nbsp;Remote health monitoring with connected clusters</a>
              <ul id="topicSubGroup-9-4" class="nav-tertiary list-unstyled collapse">

                  <li><a class="" href="../support/remote_health_monitoring/about-remote-health-monitoring.html">About remote health monitoring</a></li>
                  <li><a class="" href="../support/remote_health_monitoring/showing-data-collected-by-remote-health-monitoring.html">Showing data collected by remote health monitoring</a></li>
                  <li><a class="" href="../support/remote_health_monitoring/using-insights-to-identify-issues-with-your-cluster.html">Using Insights to identify issues with your cluster</a></li>
                  <li><a class="" href="../support/remote_health_monitoring/using-insights-operator.html">Using Insights Operator</a></li>              </ul>
            </li>
            <li><a class="" href="../support/gathering-cluster-data.html">Gathering data about your cluster</a></li>
            <li><a class="" href="../support/summarizing-cluster-specifications.html">Summarizing cluster specifications</a></li>
            <li class="nav-header"><a class="" href="javascript:void(0);" data-toggle="collapse" data-target="#topicSubGroup-9-7"><span id="sgSpan-9-7" class="fa fa-caret-right"></span>&nbsp;Troubleshooting</a>
              <ul id="topicSubGroup-9-7" class="nav-tertiary list-unstyled collapse">

                  <li><a class="" href="../support/troubleshooting/rosa-troubleshooting-installations.html">Troubleshooting ROSA installations</a></li>
                  <li><a class="" href="../support/troubleshooting/rosa-troubleshooting-installations-hcp.html">Troubleshooting ROSA with HCP installations</a></li>
                  <li><a class="" href="../support/troubleshooting/rosa-troubleshooting-networking.html">Troubleshooting networking</a></li>
                  <li><a class="" href="../support/troubleshooting/verifying-node-health.html">Verifying node health</a></li>
                  <li><a class="" href="../support/troubleshooting/troubleshooting-operator-issues.html">Troubleshooting Operator issues</a></li>
                  <li><a class="" href="../support/troubleshooting/investigating-pod-issues.html">Investigating pod issues</a></li>
                  <li><a class="" href="../support/troubleshooting/troubleshooting-s2i.html">Troubleshooting the Source-to-Image process</a></li>
                  <li><a class="" href="../support/troubleshooting/troubleshooting-storage-issues.html">Troubleshooting storage issues</a></li>
                  <li><a class="" href="../support/troubleshooting/investigating-monitoring-issues.html">Investigating monitoring issues</a></li>
                  <li><a class="" href="../support/troubleshooting/diagnosing-oc-issues.html">Diagnosing OpenShift CLI (oc) issues</a></li>
                  <li><a class="" href="../support/troubleshooting/rosa-troubleshooting-expired-tokens.html">Troubleshooting expired offline access tokens</a></li>
                  <li><a class="" href="../support/troubleshooting/rosa-troubleshooting-iam-resources.html">Troubleshooting IAM roles</a></li>
                  <li><a class="" href="../support/troubleshooting/rosa-troubleshooting-deployments.html">Troubleshooting cluster deployments</a></li>
                  <li><a class="" href="../support/troubleshooting/sd-managed-resources.html">Red Hat managed resources</a></li>              </ul>
            </li>
      </ul>
    </li>
    <li class="nav-header"><a class="" href="javascript:void(0);" data-toggle="collapse" data-target="#topicGroup10"><span id="tgSpan10" class="fa fa-angle-right"></span>Cluster administration</a>
      <ul id="topicGroup10" class="collapse  list-unstyled">
            <li><a class="" href="../rosa_cluster_admin/rosa-cluster-notifications.html">Cluster notifications</a></li>
            <li class="nav-header"><a class="" href="javascript:void(0);" data-toggle="collapse" data-target="#topicSubGroup-10-1"><span id="sgSpan-10-1" class="fa fa-caret-right"></span>&nbsp;Configuring private connections</a>
              <ul id="topicSubGroup-10-1" class="nav-tertiary list-unstyled collapse">

                  <li><a class="" href="../rosa_cluster_admin/cloud_infrastructure_access/rosa-configuring-private-connections.html">Configuring private connections</a></li>
                  <li><a class="" href="../rosa_cluster_admin/cloud_infrastructure_access/dedicated-aws-peering.html">Configuring AWS VPC peering</a></li>
                  <li><a class="" href="../rosa_cluster_admin/cloud_infrastructure_access/dedicated-aws-vpn.html">Configuring AWS VPN</a></li>
                  <li><a class="" href="../rosa_cluster_admin/cloud_infrastructure_access/dedicated-aws-dc.html">Configuring AWS Direct Connect</a></li>              </ul>
            </li>
            <li><a class="" href="../rosa_cluster_admin/rosa-cluster-autoscaling.html">Cluster autoscaling</a></li>
            <li class="nav-header"><a class="" href="javascript:void(0);" data-toggle="collapse" data-target="#topicSubGroup-10-3"><span id="sgSpan-10-3" class="fa fa-caret-right"></span>&nbsp;Manage nodes using machine pools</a>
              <ul id="topicSubGroup-10-3" class="nav-tertiary list-unstyled collapse">

                  <li><a class="" href="../rosa_cluster_admin/rosa_nodes/rosa-nodes-machinepools-about.html">About machine pools</a></li>
                  <li><a class="" href="../rosa_cluster_admin/rosa_nodes/rosa-managing-worker-nodes.html">Managing compute nodes</a></li>
                  <li><a class="" href="../rosa_cluster_admin/rosa_nodes/rosa-nodes-about-autoscaling-nodes.html">About autoscaling nodes on a cluster</a></li>
                  <li><a class="" href="../rosa_cluster_admin/rosa_nodes/nodes-cluster-resource-configure.html">Configuring cluster memory to meet container memory and risk requirements</a></li>              </ul>
            </li>
            <li><a class="" href="../rosa_cluster_admin/rosa-configuring-pid-limits.html">Configuring PID limits</a></li>
            <li><a class="" href="../rosa_cluster_admin/rosa-multi-arch-cluster-managing.html">Managing multi-architecture clusters</a></li>
      </ul>
    </li>
    <li class="nav-header"><a class="" href="javascript:void(0);" data-toggle="collapse" data-target="#topicGroup11"><span id="tgSpan11" class="fa fa-angle-right"></span>Security and compliance</a>
      <ul id="topicGroup11" class="collapse  list-unstyled">
            <li><a class="" href="../security/rosa-adding-additional-constraints-for-ip-based-aws-role-assumption.html">Adding additional constraints for IP-based AWS role assumption</a></li>
      </ul>
    </li>
    <li class="nav-header"><a class="" href="javascript:void(0);" data-toggle="collapse" data-target="#topicGroup12"><span id="tgSpan12" class="fa fa-angle-right"></span>Authentication and authorization</a>
      <ul id="topicGroup12" class="collapse  list-unstyled">
            <li><a class="" href="../authentication/index.html">Authentication and authorization overview</a></li>
            <li><a class="" href="../authentication/understanding-authentication.html">Understanding authentication</a></li>
            <li><a class="" href="../authentication/managing-oauth-access-tokens.html">Managing user-owned OAuth access tokens</a></li>
            <li><a class="" href="../authentication/sd-configuring-identity-providers.html">Configuring identity providers</a></li>
            <li><a class="" href="../authentication/using-rbac.html">Using RBAC to define and apply permissions</a></li>
            <li><a class="" href="../authentication/understanding-and-creating-service-accounts.html">Understanding and creating service accounts</a></li>
            <li><a class="" href="../authentication/using-service-accounts-in-applications.html">Using service accounts in applications</a></li>
            <li><a class="" href="../authentication/using-service-accounts-as-oauth-client.html">Using a service account as an OAuth client</a></li>
            <li><a class="" href="../authentication/assuming-an-aws-iam-role-for-a-service-account.html">Assuming an AWS IAM role for a service account</a></li>
            <li><a class="" href="../authentication/tokens-scoping.html">Scoping tokens</a></li>
            <li><a class="" href="../authentication/bound-service-account-tokens.html">Using bound service account tokens</a></li>
            <li><a class="" href="../authentication/managing-security-context-constraints.html">Managing security context constraints</a></li>
            <li><a class="" href="../authentication/understanding-and-managing-pod-security-admission.html">Understanding and managing pod security admission</a></li>
            <li><a class="" href="../authentication/ldap-syncing.html">Syncing LDAP groups</a></li>
      </ul>
    </li>
    <li class="nav-header"><a class="" href="javascript:void(0);" data-toggle="collapse" data-target="#topicGroup13"><span id="tgSpan13" class="fa fa-angle-right"></span>Upgrading</a>
      <ul id="topicGroup13" class="collapse  list-unstyled">
            <li><a class="" href="../upgrading/rosa-hcp-upgrading.html">Upgrading ROSA with HCP</a></li>
      </ul>
    </li>
    <li class="nav-header"><a class="" href="javascript:void(0);" data-toggle="collapse" data-target="#topicGroup14"><span id="tgSpan14" class="fa fa-angle-right"></span>CI/CD</a>
      <ul id="topicGroup14" class="collapse  list-unstyled">
            <li class="nav-header"><a class="" href="javascript:void(0);" data-toggle="collapse" data-target="#topicSubGroup-14-0"><span id="sgSpan-14-0" class="fa fa-caret-right"></span>&nbsp;CI/CD overview</a>
              <ul id="topicSubGroup-14-0" class="nav-tertiary list-unstyled collapse">

                  <li><a class="" href="../cicd/overview/index.html">About CI/CD</a></li>              </ul>
            </li>
            <li class="nav-header"><a class="" href="javascript:void(0);" data-toggle="collapse" data-target="#topicSubGroup-14-1"><span id="sgSpan-14-1" class="fa fa-caret-right"></span>&nbsp;Builds using Shipwright</a>
              <ul id="topicSubGroup-14-1" class="nav-tertiary list-unstyled collapse">

                  <li><a class="" href="../cicd/builds_using_shipwright/overview-openshift-builds.html">Overview of Builds</a></li>              </ul>
            </li>
            <li class="nav-header"><a class="" href="javascript:void(0);" data-toggle="collapse" data-target="#topicSubGroup-14-2"><span id="sgSpan-14-2" class="fa fa-caret-right"></span>&nbsp;Builds using BuildConfig</a>
              <ul id="topicSubGroup-14-2" class="nav-tertiary list-unstyled collapse">

                  <li><a class="" href="../cicd/builds/understanding-image-builds.html">Understanding image builds</a></li>
                  <li><a class="" href="../cicd/builds/understanding-buildconfigs.html">Understanding build configurations</a></li>
                  <li><a class="" href="../cicd/builds/creating-build-inputs.html">Creating build inputs</a></li>
                  <li><a class="" href="../cicd/builds/managing-build-output.html">Managing build output</a></li>
                  <li><a class="" href="../cicd/builds/build-strategies.html">Using build strategies</a></li>
                  <li><a class="" href="../cicd/builds/basic-build-operations.html">Performing and configuring basic builds</a></li>
                  <li><a class="" href="../cicd/builds/triggering-builds-build-hooks.html">Triggering and modifying builds</a></li>
                  <li><a class="" href="../cicd/builds/advanced-build-operations.html">Performing advanced builds</a></li>
                  <li><a class="" href="../cicd/builds/running-entitled-builds.html">Using Red Hat subscriptions in builds</a></li>
                  <li><a class="" href="../cicd/builds/troubleshooting-builds.html">Troubleshooting builds</a></li>              </ul>
            </li>
            <li class="nav-header"><a class="" href="javascript:void(0);" data-toggle="collapse" data-target="#topicSubGroup-14-3"><span id="sgSpan-14-3" class="fa fa-caret-right"></span>&nbsp;Pipelines</a>
              <ul id="topicSubGroup-14-3" class="nav-tertiary list-unstyled collapse">

                  <li><a class="" href="../cicd/pipelines/about-pipelines.html">About OpenShift Pipelines</a></li>              </ul>
            </li>
            <li class="nav-header"><a class="" href="javascript:void(0);" data-toggle="collapse" data-target="#topicSubGroup-14-4"><span id="sgSpan-14-4" class="fa fa-caret-right"></span>&nbsp;GitOps</a>
              <ul id="topicSubGroup-14-4" class="nav-tertiary list-unstyled collapse">

                  <li><a class="" href="../cicd/gitops/about-redhat-openshift-gitops.html">About OpenShift GitOps</a></li>              </ul>
            </li>
            <li class="nav-header"><a class="" href="javascript:void(0);" data-toggle="collapse" data-target="#topicSubGroup-14-5"><span id="sgSpan-14-5" class="fa fa-caret-right"></span>&nbsp;Jenkins</a>
              <ul id="topicSubGroup-14-5" class="nav-tertiary list-unstyled collapse">

                  <li><a class="" href="../cicd/jenkins/images-other-jenkins.html">Configuring Jenkins images</a></li>
                  <li><a class="" href="../cicd/jenkins/images-other-jenkins-agent.html">Jenkins agent</a></li>
                  <li><a class="" href="../cicd/jenkins/migrating-from-jenkins-to-openshift-pipelines.html">Migrating from Jenkins to OpenShift Pipelines</a></li>
                  <li><a class="" href="../cicd/jenkins/important-changes-to-openshift-jenkins-images.html">Important changes to OpenShift Jenkins images</a></li>              </ul>
            </li>
      </ul>
    </li>
    <li class="nav-header"><a class="" href="javascript:void(0);" data-toggle="collapse" data-target="#topicGroup15"><span id="tgSpan15" class="fa fa-angle-right"></span>Storage</a>
      <ul id="topicGroup15" class="collapse  list-unstyled">
            <li><a class="" href="../storage/index.html">Storage overview</a></li>
            <li><a class="" href="../storage/understanding-ephemeral-storage.html">Understanding ephemeral storage</a></li>
            <li><a class="" href="../storage/understanding-persistent-storage.html">Understanding persistent storage</a></li>
            <li class="nav-header"><a class="" href="javascript:void(0);" data-toggle="collapse" data-target="#topicSubGroup-15-3"><span id="sgSpan-15-3" class="fa fa-caret-right"></span>&nbsp;Configuring persistent storage</a>
              <ul id="topicSubGroup-15-3" class="nav-tertiary list-unstyled collapse">

                  <li><a class="" href="../storage/persistent_storage/persistent-storage-aws.html">Persistent storage using AWS Elastic Block Store</a></li>              </ul>
            </li>
            <li class="nav-header"><a class="" href="javascript:void(0);" data-toggle="collapse" data-target="#topicSubGroup-15-4"><span id="sgSpan-15-4" class="fa fa-caret-right"></span>&nbsp;Using Container Storage Interface (CSI)</a>
              <ul id="topicSubGroup-15-4" class="nav-tertiary list-unstyled collapse">

                  <li><a class="" href="../storage/container_storage_interface/persistent-storage-csi.html">Configuring CSI volumes</a></li>
                  <li><a class="" href="../storage/container_storage_interface/persistent-storage-csi-sc-manage.html">Managing the default storage class</a></li>
                  <li><a class="" href="../storage/container_storage_interface/persistent-storage-csi-ebs.html">AWS Elastic Block Store CSI Driver Operator</a></li>
                  <li><a class="" href="../storage/container_storage_interface/persistent-storage-csi-aws-efs.html">AWS Elastic File Service CSI Driver Operator</a></li>              </ul>
            </li>
            <li><a class="" href="../storage/generic-ephemeral-vols.html">Generic ephemeral volumes</a></li>
            <li><a class="" href="../storage/dynamic-provisioning.html">Dynamic provisioning</a></li>
      </ul>
    </li>
    <li class="nav-header"><a class="" href="javascript:void(0);" data-toggle="collapse" data-target="#topicGroup16"><span id="tgSpan16" class="fa fa-angle-right"></span>Registry</a>
      <ul id="topicGroup16" class="collapse  list-unstyled">
            <li><a class="" href="../registry/index.html">Registry overview</a></li>
            <li><a class="" href="../registry/configuring-registry-operator.html">Image Registry Operator in Red Hat OpenShift Service on AWS</a></li>
            <li><a class="" href="../registry/accessing-the-registry.html">Accessing the registry</a></li>
      </ul>
    </li>
    <li class="nav-header"><a class="" href="javascript:void(0);" data-toggle="collapse" data-target="#topicGroup17"><span id="tgSpan17" class="fa fa-angle-right"></span>Operators</a>
      <ul id="topicGroup17" class="collapse  list-unstyled">
            <li><a class="" href="../operators/index.html">Operators overview</a></li>
            <li class="nav-header"><a class="" href="javascript:void(0);" data-toggle="collapse" data-target="#topicSubGroup-17-1"><span id="sgSpan-17-1" class="fa fa-caret-right"></span>&nbsp;Understanding Operators</a>
              <ul id="topicSubGroup-17-1" class="nav-tertiary list-unstyled collapse">

                  <li><a class="" href="../operators/understanding/olm-what-operators-are.html">What are Operators?</a></li>
                  <li><a class="" href="../operators/understanding/olm-packaging-format.html">Packaging format</a></li>
                  <li><a class="" href="../operators/understanding/olm-common-terms.html">Common terms</a></li>
                <li class="nav-header"><a class="" href="javascript:void(0);" data-toggle="collapse" data-target="#topicSubSubGroup-17-1-3"><span id="ssgSpan-17-1-3" class="fa fa-caret-right"></span>&nbsp;Operator Lifecycle Manager (OLM)</a>
                  <ul id="topicSubSubGroup-17-1-3" class="nav-tertiary list-unstyled collapse">

                    <li><a class="" href="../operators/understanding/olm/olm-understanding-olm.html" style="padding-left: 70px;">Concepts and resources</a></li>
                    <li><a class="" href="../operators/understanding/olm/olm-arch.html" style="padding-left: 70px;">Architecture</a></li>
                    <li><a class="" href="../operators/understanding/olm/olm-workflow.html" style="padding-left: 70px;">Workflow</a></li>
                    <li><a class="" href="../operators/understanding/olm/olm-understanding-dependency-resolution.html" style="padding-left: 70px;">Dependency resolution</a></li>
                    <li><a class="" href="../operators/understanding/olm/olm-understanding-operatorgroups.html" style="padding-left: 70px;">Operator groups</a></li>
                    <li><a class="" href="../operators/understanding/olm/olm-colocation.html" style="padding-left: 70px;">Multitenancy and Operator colocation</a></li>
                    <li><a class="" href="../operators/understanding/olm/olm-operatorconditions.html" style="padding-left: 70px;">Operator conditions</a></li>
                    <li><a class="" href="../operators/understanding/olm/olm-understanding-metrics.html" style="padding-left: 70px;">Metrics</a></li>
                    <li><a class="" href="../operators/understanding/olm/olm-webhooks.html" style="padding-left: 70px;">Webhooks</a></li>                  </ul>
                  </li>

                  <li><a class="" href="../operators/understanding/olm-understanding-operatorhub.html">OperatorHub</a></li>
                  <li><a class="" href="../operators/understanding/olm-rh-catalogs.html">Red Hat-provided Operator catalogs</a></li>
                  <li><a class="" href="../operators/understanding/olm-multitenancy.html">Operators in multitenant clusters</a></li>
                <li class="nav-header"><a class="" href="javascript:void(0);" data-toggle="collapse" data-target="#topicSubSubGroup-17-1-7"><span id="ssgSpan-17-1-7" class="fa fa-caret-right"></span>&nbsp;CRDs</a>
                  <ul id="topicSubSubGroup-17-1-7" class="nav-tertiary list-unstyled collapse">

                    <li><a class="" href="../operators/understanding/crds/crd-managing-resources-from-crds.html" style="padding-left: 70px;">Managing resources from CRDs</a></li>                  </ul>
                  </li>
              </ul>
            </li>
            <li class="nav-header"><a class="" href="javascript:void(0);" data-toggle="collapse" data-target="#topicSubGroup-17-2"><span id="sgSpan-17-2" class="fa fa-caret-right"></span>&nbsp;User tasks</a>
              <ul id="topicSubGroup-17-2" class="nav-tertiary list-unstyled collapse">

                  <li><a class="" href="../operators/user/olm-creating-apps-from-installed-operators.html">Creating applications from installed Operators</a></li>              </ul>
            </li>
            <li class="nav-header"><a class="" href="javascript:void(0);" data-toggle="collapse" data-target="#topicSubGroup-17-3"><span id="sgSpan-17-3" class="fa fa-caret-right"></span>&nbsp;Administrator tasks</a>
              <ul id="topicSubGroup-17-3" class="nav-tertiary list-unstyled collapse">

                  <li><a class="" href="../operators/admin/olm-adding-operators-to-cluster.html">Adding Operators to a cluster</a></li>
                  <li><a class="" href="../operators/admin/olm-upgrading-operators.html">Updating installed Operators</a></li>
                  <li><a class="" href="../operators/admin/olm-deleting-operators-from-cluster.html">Deleting Operators from a cluster</a></li>
                  <li><a class="" href="../operators/admin/olm-configuring-proxy-support.html">Configuring proxy support</a></li>
                  <li><a class="" href="../operators/admin/olm-status.html">Viewing Operator status</a></li>
                  <li><a class="" href="../operators/admin/olm-managing-operatorconditions.html">Managing Operator conditions</a></li>
                  <li><a class="" href="../operators/admin/olm-managing-custom-catalogs.html">Managing custom catalogs</a></li>
                  <li><a class="" href="../operators/admin/olm-cs-podsched.html">Catalog source pod scheduling</a></li>
                  <li><a class="" href="../operators/admin/olm-troubleshooting-operator-issues.html">Troubleshooting Operator issues</a></li>              </ul>
            </li>
            <li class="nav-header"><a class="" href="javascript:void(0);" data-toggle="collapse" data-target="#topicSubGroup-17-4"><span id="sgSpan-17-4" class="fa fa-caret-right"></span>&nbsp;Developing Operators</a>
              <ul id="topicSubGroup-17-4" class="nav-tertiary list-unstyled collapse">

                  <li><a class="" href="../operators/operator_sdk/osdk-about.html">About the Operator SDK</a></li>
                  <li><a class="" href="../operators/operator_sdk/osdk-installing-cli.html">Installing the Operator SDK CLI</a></li>
                <li class="nav-header"><a class="" href="javascript:void(0);" data-toggle="collapse" data-target="#topicSubSubGroup-17-4-2"><span id="ssgSpan-17-4-2" class="fa fa-caret-right"></span>&nbsp;Go-based Operators</a>
                  <ul id="topicSubSubGroup-17-4-2" class="nav-tertiary list-unstyled collapse">

                    <li><a class="" href="../operators/operator_sdk/golang/osdk-golang-tutorial.html" style="padding-left: 70px;">Tutorial</a></li>
                    <li><a class="" href="../operators/operator_sdk/golang/osdk-golang-project-layout.html" style="padding-left: 70px;">Project layout</a></li>
                    <li><a class="" href="../operators/operator_sdk/golang/osdk-golang-updating-projects.html" style="padding-left: 70px;">Updating Go-based projects</a></li>                  </ul>
                  </li>

                <li class="nav-header"><a class="" href="javascript:void(0);" data-toggle="collapse" data-target="#topicSubSubGroup-17-4-3"><span id="ssgSpan-17-4-3" class="fa fa-caret-right"></span>&nbsp;Ansible-based Operators</a>
                  <ul id="topicSubSubGroup-17-4-3" class="nav-tertiary list-unstyled collapse">

                    <li><a class="" href="../operators/operator_sdk/ansible/osdk-ansible-tutorial.html" style="padding-left: 70px;">Tutorial</a></li>
                    <li><a class="" href="../operators/operator_sdk/ansible/osdk-ansible-project-layout.html" style="padding-left: 70px;">Project layout</a></li>
                    <li><a class="" href="../operators/operator_sdk/ansible/osdk-ansible-updating-projects.html" style="padding-left: 70px;">Updating Ansible-based projects</a></li>
                    <li><a class="" href="../operators/operator_sdk/ansible/osdk-ansible-support.html" style="padding-left: 70px;">Ansible support</a></li>
                    <li><a class="" href="../operators/operator_sdk/ansible/osdk-ansible-k8s-collection.html" style="padding-left: 70px;">Kubernetes Collection for Ansible</a></li>
                    <li><a class="" href="../operators/operator_sdk/ansible/osdk-ansible-inside-operator.html" style="padding-left: 70px;">Using Ansible inside an Operator</a></li>
                    <li><a class="" href="../operators/operator_sdk/ansible/osdk-ansible-cr-status.html" style="padding-left: 70px;">Custom resource status management</a></li>                  </ul>
                  </li>

                <li class="nav-header"><a class="" href="javascript:void(0);" data-toggle="collapse" data-target="#topicSubSubGroup-17-4-4"><span id="ssgSpan-17-4-4" class="fa fa-caret-right"></span>&nbsp;Helm-based Operators</a>
                  <ul id="topicSubSubGroup-17-4-4" class="nav-tertiary list-unstyled collapse">

                    <li><a class="" href="../operators/operator_sdk/helm/osdk-helm-tutorial.html" style="padding-left: 70px;">Tutorial</a></li>
                    <li><a class="" href="../operators/operator_sdk/helm/osdk-helm-project-layout.html" style="padding-left: 70px;">Project layout</a></li>
                    <li><a class="" href="../operators/operator_sdk/helm/osdk-helm-updating-projects.html" style="padding-left: 70px;">Updating Helm-based projects</a></li>
                    <li><a class="" href="../operators/operator_sdk/helm/osdk-helm-support.html" style="padding-left: 70px;">Helm support</a></li>                  </ul>
                  </li>

                  <li><a class="" href="../operators/operator_sdk/osdk-generating-csvs.html">Defining cluster service versions (CSVs)</a></li>
                  <li><a class="" href="../operators/operator_sdk/osdk-working-bundle-images.html">Working with bundle images</a></li>
                  <li><a class="" href="../operators/operator_sdk/osdk-complying-with-psa.html">Complying with pod security admission</a></li>
                  <li><a class="" href="../operators/operator_sdk/osdk-scorecard.html">Validating Operators using the scorecard</a></li>
                  <li><a class="" href="../operators/operator_sdk/osdk-bundle-validate.html">Validating Operator bundles</a></li>
                  <li><a class="" href="../operators/operator_sdk/osdk-ha-sno.html">High-availability or single-node cluster detection and support</a></li>
                  <li><a class="" href="../operators/operator_sdk/osdk-monitoring-prometheus.html">Configuring built-in monitoring with Prometheus</a></li>
                  <li><a class="" href="../operators/operator_sdk/osdk-leader-election.html">Configuring leader election</a></li>
                  <li><a class="" href="../operators/operator_sdk/osdk-pruning-utility.html">Object pruning utility</a></li>
                  <li><a class="" href="../operators/operator_sdk/osdk-pkgman-to-bundle.html">Migrating package manifest projects to bundle format</a></li>
                  <li><a class="" href="../operators/operator_sdk/osdk-cli-ref.html">Operator SDK CLI reference</a></li>
                  <li><a class="" href="../operators/operator_sdk/osdk-migrating-to-v0-1-0.html">Migrating to Operator SDK v0.1.0</a></li>              </ul>
            </li>
      </ul>
    </li>
    <li class="nav-header"><a class="" href="javascript:void(0);" data-toggle="collapse" data-target="#topicGroup18"><span id="tgSpan18" class="fa fa-angle-right"></span>Building applications</a>
      <ul id="topicGroup18" class="collapse  list-unstyled">
            <li><a class="" href="../applications/index.html">Building applications overview</a></li>
            <li class="nav-header"><a class="" href="javascript:void(0);" data-toggle="collapse" data-target="#topicSubGroup-18-1"><span id="sgSpan-18-1" class="fa fa-caret-right"></span>&nbsp;Projects</a>
              <ul id="topicSubGroup-18-1" class="nav-tertiary list-unstyled collapse">

                  <li><a class="" href="../applications/projects/working-with-projects.html">Working with projects</a></li>
                  <li><a class="" href="../applications/projects/configuring-project-creation.html">Configuring project creation</a></li>              </ul>
            </li>
            <li class="nav-header"><a class="" href="javascript:void(0);" data-toggle="collapse" data-target="#topicSubGroup-18-2"><span id="sgSpan-18-2" class="fa fa-caret-right"></span>&nbsp;Creating applications</a>
              <ul id="topicSubGroup-18-2" class="nav-tertiary list-unstyled collapse">

                  <li><a class="" href="../applications/creating_applications/odc-creating-applications-using-developer-perspective.html">Creating applications using the Developer perspective</a></li>
                  <li><a class="" href="../applications/creating_applications/creating-apps-from-installed-operators.html">Creating applications from installed Operators</a></li>
                  <li><a class="" href="../applications/creating_applications/creating-applications-using-cli.html">Creating applications using the CLI</a></li>              </ul>
            </li>
            <li><a class="" href="../applications/odc-viewing-application-composition-using-topology-view.html">Viewing application composition using the Topology view</a></li>
            <li class="nav-header"><a class="" href="javascript:void(0);" data-toggle="collapse" data-target="#topicSubGroup-18-4"><span id="sgSpan-18-4" class="fa fa-caret-right"></span>&nbsp;Working with Helm charts</a>
              <ul id="topicSubGroup-18-4" class="nav-tertiary list-unstyled collapse">

                  <li><a class="" href="../applications/working_with_helm_charts/understanding-helm.html">Understanding Helm</a></li>
                  <li><a class="" href="../applications/working_with_helm_charts/installing-helm.html">Installing Helm</a></li>
                  <li><a class="" href="../applications/working_with_helm_charts/configuring-custom-helm-chart-repositories.html">Configuring custom Helm chart repositories</a></li>
                  <li><a class="" href="../applications/working_with_helm_charts/odc-working-with-helm-releases.html">Working with Helm releases</a></li>              </ul>
            </li>
            <li class="nav-header"><a class="" href="javascript:void(0);" data-toggle="collapse" data-target="#topicSubGroup-18-5"><span id="sgSpan-18-5" class="fa fa-caret-right"></span>&nbsp;Deployments</a>
              <ul id="topicSubGroup-18-5" class="nav-tertiary list-unstyled collapse">

                  <li><a class="" href="../applications/deployments/rosa-config-custom-domains-applications.html">Custom domains for applications</a></li>
                  <li><a class="" href="../applications/deployments/what-deployments-are.html">Understanding Deployments and DeploymentConfigs</a></li>
                  <li><a class="" href="../applications/deployments/managing-deployment-processes.html">Managing deployment processes</a></li>
                  <li><a class="" href="../applications/deployments/deployment-strategies.html">Using deployment strategies</a></li>
                  <li><a class="" href="../applications/deployments/route-based-deployment-strategies.html">Using route-based deployment strategies</a></li>              </ul>
            </li>
            <li class="nav-header"><a class="" href="javascript:void(0);" data-toggle="collapse" data-target="#topicSubGroup-18-6"><span id="sgSpan-18-6" class="fa fa-caret-right"></span>&nbsp;Quotas</a>
              <ul id="topicSubGroup-18-6" class="nav-tertiary list-unstyled collapse">

                  <li><a class="" href="../applications/quotas/quotas-setting-per-project.html">Resource quotas per project</a></li>
                  <li><a class="" href="../applications/quotas/quotas-setting-across-multiple-projects.html">Resource quotas across multiple projects</a></li>              </ul>
            </li>
            <li><a class="" href="../applications/config-maps.html">Using config maps with applications</a></li>
            <li><a class="" href="../applications/odc-monitoring-project-and-application-metrics-using-developer-perspective.html">Monitoring project and application metrics using the Developer perspective</a></li>
            <li><a class="" href="../applications/application-health.html">Monitoring application health</a></li>
            <li><a class="" href="../applications/odc-editing-applications.html">Editing applications</a></li>
            <li><a class="" href="../applications/working-with-quotas.html">Working with quotas</a></li>
            <li><a class="" href="../applications/pruning-objects.html">Pruning objects to reclaim resources</a></li>
            <li><a class="" href="../applications/idling-applications.html">Idling applications</a></li>
            <li><a class="" href="../applications/odc-deleting-applications.html">Deleting applications</a></li>
            <li><a class="" href="../applications/red-hat-marketplace.html">Using the Red Hat Marketplace</a></li>
      </ul>
    </li>
    <li class="nav-header"><a class="" href="javascript:void(0);" data-toggle="collapse" data-target="#topicGroup19"><span id="tgSpan19" class="fa fa-angle-right"></span>Backup and restore</a>
      <ul id="topicGroup19" class="collapse  list-unstyled">
            <li class="nav-header"><a class="" href="javascript:void(0);" data-toggle="collapse" data-target="#topicSubGroup-19-0"><span id="sgSpan-19-0" class="fa fa-caret-right"></span>&nbsp;OADP Application backup and restore</a>
              <ul id="topicSubGroup-19-0" class="nav-tertiary list-unstyled collapse">

                  <li><a class="" href="../backup_and_restore/application_backup_and_restore/oadp-intro.html">Introduction to OpenShift API for Data Protection</a></li>
                <li class="nav-header"><a class="" href="javascript:void(0);" data-toggle="collapse" data-target="#topicSubSubGroup-19-0-1"><span id="ssgSpan-19-0-1" class="fa fa-caret-right"></span>&nbsp;OADP release notes</a>
                  <ul id="topicSubSubGroup-19-0-1" class="nav-tertiary list-unstyled collapse">

                    <li><a class="" href="../backup_and_restore/application_backup_and_restore/release-notes/oadp-1-4-release-notes.html" style="padding-left: 70px;">OADP 1.4 release notes</a></li>                  </ul>
                  </li>

                <li class="nav-header"><a class="" href="javascript:void(0);" data-toggle="collapse" data-target="#topicSubSubGroup-19-0-2"><span id="ssgSpan-19-0-2" class="fa fa-caret-right"></span>&nbsp;OADP performance</a>
                  <ul id="topicSubSubGroup-19-0-2" class="nav-tertiary list-unstyled collapse">

                    <li><a class="" href="../backup_and_restore/application_backup_and_restore/oadp-performance/oadp-recommended-network-settings.html" style="padding-left: 70px;">OADP recommended network settings</a></li>                  </ul>
                  </li>

                  <li><a class="" href="../backup_and_restore/application_backup_and_restore/oadp-features-plugins.html">OADP features and plugins</a></li>
                <li class="nav-header"><a class="" href="javascript:void(0);" data-toggle="collapse" data-target="#topicSubSubGroup-19-0-4"><span id="ssgSpan-19-0-4" class="fa fa-caret-right"></span>&nbsp;OADP use cases</a>
                  <ul id="topicSubSubGroup-19-0-4" class="nav-tertiary list-unstyled collapse">

                    <li><a class="" href="../backup_and_restore/application_backup_and_restore/oadp-use-cases/oadp-rosa-backup-restore.html" style="padding-left: 70px;">Backing up an application using OADP with ROSA STS</a></li>
                    <li><a class="" href="../backup_and_restore/application_backup_and_restore/oadp-use-cases/oadp-usecase-backup-using-odf.html" style="padding-left: 70px;">Backing up an application using OADP and ODF</a></li>
                    <li><a class="" href="../backup_and_restore/application_backup_and_restore/oadp-use-cases/oadp-usecase-restore-different-namespace.html" style="padding-left: 70px;">Restoring a backup to a different namespace</a></li>
                    <li><a class="" href="../backup_and_restore/application_backup_and_restore/oadp-use-cases/oadp-usecase-enable-ca-cert.html" style="padding-left: 70px;">Including a self-signed CA certificate during backup</a></li>                  </ul>
                  </li>

                <li class="nav-header"><a class="" href="javascript:void(0);" data-toggle="collapse" data-target="#topicSubSubGroup-19-0-5"><span id="ssgSpan-19-0-5" class="fa fa-caret-right"></span>&nbsp;Installing and configuring OADP</a>
                  <ul id="topicSubSubGroup-19-0-5" class="nav-tertiary list-unstyled collapse">

                    <li><a class="" href="../backup_and_restore/application_backup_and_restore/oadp-rosa/oadp-rosa-backing-up-applications.html" style="padding-left: 70px;">Installing OADP</a></li>                  </ul>
                  </li>

                <li class="nav-header"><a class="" href="javascript:void(0);" data-toggle="collapse" data-target="#topicSubSubGroup-19-0-6"><span id="ssgSpan-19-0-6" class="fa fa-caret-right"></span>&nbsp;OADP backing up</a>
                  <ul id="topicSubSubGroup-19-0-6" class="nav-tertiary list-unstyled collapse">

                    <li><a class="" href="../backup_and_restore/application_backup_and_restore/backing_up_and_restoring/backing-up-applications.html" style="padding-left: 70px;">Backing up applications</a></li>
                    <li><a class="" href="../backup_and_restore/application_backup_and_restore/backing_up_and_restoring/oadp-creating-backup-cr.html" style="padding-left: 70px;">Creating a Backup CR</a></li>
                    <li><a class="" href="../backup_and_restore/application_backup_and_restore/backing_up_and_restoring/oadp-creating-backup-hooks-doc.html" style="padding-left: 70px;">Creating backup hooks</a></li>
                    <li><a class="" href="../backup_and_restore/application_backup_and_restore/backing_up_and_restoring/oadp-scheduling-backups-doc.html" style="padding-left: 70px;">Scheduling backups using Schedule CR</a></li>
                    <li><a class="" href="../backup_and_restore/application_backup_and_restore/backing_up_and_restoring/oadp-deleting-backups.html" style="padding-left: 70px;">Deleting backups</a></li>                  </ul>
                  </li>

                <li class="nav-header"><a class="" href="javascript:void(0);" data-toggle="collapse" data-target="#topicSubSubGroup-19-0-7"><span id="ssgSpan-19-0-7" class="fa fa-caret-right"></span>&nbsp;OADP restoring</a>
                  <ul id="topicSubSubGroup-19-0-7" class="nav-tertiary list-unstyled collapse">

                    <li><a class="" href="../backup_and_restore/application_backup_and_restore/backing_up_and_restoring/restoring-applications.html" style="padding-left: 70px;">Restoring applications</a></li>                  </ul>
                  </li>
              </ul>
            </li>
      </ul>
    </li>
    <li class="nav-header"><a class="" href="javascript:void(0);" data-toggle="collapse" data-target="#topicGroup20"><span id="tgSpan20" class="fa fa-angle-right"></span>Nodes</a>
      <ul id="topicGroup20" class="collapse  list-unstyled">
            <li><a class="" href="../nodes/index.html">Overview of nodes</a></li>
            <li class="nav-header"><a class="" href="javascript:void(0);" data-toggle="collapse" data-target="#topicSubGroup-20-1"><span id="sgSpan-20-1" class="fa fa-caret-right"></span>&nbsp;Working with pods</a>
              <ul id="topicSubGroup-20-1" class="nav-tertiary list-unstyled collapse">

                  <li><a class="" href="../nodes/pods/nodes-pods-using.html">About pods</a></li>
                  <li><a class="" href="../nodes/pods/nodes-pods-viewing.html">Viewing pods</a></li>
                  <li><a class="" href="../nodes/pods/nodes-pods-configuring.html">Configuring a cluster for pods</a></li>
                  <li><a class="" href="../nodes/pods/nodes-pods-secrets.html">Providing sensitive data to pods</a></li>
                  <li><a class="" href="../nodes/pods/nodes-pods-configmaps.html">Creating and using config maps</a></li>
                  <li><a class="" href="../nodes/pods/nodes-pods-priority.html">Including pod priority in pod scheduling decisions</a></li>
                  <li><a class="" href="../nodes/pods/nodes-pods-node-selectors.html">Placing pods on specific nodes using node selectors</a></li>              </ul>
            </li>
            <li class="nav-header"><a class="" href="javascript:void(0);" data-toggle="collapse" data-target="#topicSubGroup-20-2"><span id="sgSpan-20-2" class="fa fa-caret-right"></span>&nbsp;Automatically scaling pods with the Custom Metrics Autoscaler Operator</a>
              <ul id="topicSubGroup-20-2" class="nav-tertiary list-unstyled collapse">

                <li class="nav-header"><a class="" href="javascript:void(0);" data-toggle="collapse" data-target="#topicSubSubGroup-20-2-0"><span id="ssgSpan-20-2-0" class="fa fa-caret-right"></span>&nbsp;Release notes</a>
                  <ul id="topicSubSubGroup-20-2-0" class="nav-tertiary list-unstyled collapse">

                    <li><a class="" href="../nodes/cma/nodes-cma-rn/nodes-cma-autoscaling-custom-rn.html" style="padding-left: 70px;">Custom Metrics Autoscaler Operator release notes</a></li>
                    <li><a class="" href="../nodes/cma/nodes-cma-rn/nodes-cma-autoscaling-custom-rn-past.html" style="padding-left: 70px;">Past releases</a></li>                  </ul>
                  </li>

                  <li><a class="" href="../nodes/cma/nodes-cma-autoscaling-custom.html">Custom Metrics Autoscaler Operator overview</a></li>
                  <li><a class="" href="../nodes/cma/nodes-cma-autoscaling-custom-install.html">Installing the custom metrics autoscaler</a></li>
                  <li><a class="" href="../nodes/cma/nodes-cma-autoscaling-custom-trigger.html">Understanding the custom metrics autoscaler triggers</a></li>
                  <li><a class="" href="../nodes/cma/nodes-cma-autoscaling-custom-trigger-auth.html">Understanding the custom metrics autoscaler trigger authentications</a></li>
                  <li><a class="" href="../nodes/cma/nodes-cma-autoscaling-custom-pausing.html">Pausing the custom metrics autoscaler</a></li>
                  <li><a class="" href="../nodes/cma/nodes-cma-autoscaling-custom-audit-log.html">Gathering audit logs</a></li>
                  <li><a class="" href="../nodes/cma/nodes-cma-autoscaling-custom-debugging.html">Gathering debugging data</a></li>
                  <li><a class="" href="../nodes/cma/nodes-cma-autoscaling-custom-metrics.html">Viewing Operator metrics</a></li>
                  <li><a class="" href="../nodes/cma/nodes-cma-autoscaling-custom-adding.html">Understanding how to add custom metrics autoscalers</a></li>
                  <li><a class="" href="../nodes/cma/nodes-cma-autoscaling-custom-removing.html">Removing the Custom Metrics Autoscaler Operator</a></li>              </ul>
            </li>
            <li class="nav-header"><a class="" href="javascript:void(0);" data-toggle="collapse" data-target="#topicSubGroup-20-3"><span id="sgSpan-20-3" class="fa fa-caret-right"></span>&nbsp;Controlling pod placement onto nodes (scheduling)</a>
              <ul id="topicSubGroup-20-3" class="nav-tertiary list-unstyled collapse">

                  <li><a class="" href="../nodes/scheduling/nodes-scheduler-about.html">About pod placement using the scheduler</a></li>
                  <li><a class="" href="../nodes/scheduling/nodes-scheduler-pod-affinity.html">Placing pods relative to other pods using pod affinity and anti-affinity rules</a></li>
                  <li><a class="" href="../nodes/scheduling/nodes-scheduler-node-affinity.html">Controlling pod placement on nodes using node affinity rules</a></li>
                  <li><a class="" href="../nodes/scheduling/nodes-scheduler-overcommit.html">Placing pods onto overcommited nodes</a></li>
                  <li><a class="" href="../nodes/scheduling/nodes-scheduler-node-selectors.html">Placing pods on specific nodes using node selectors</a></li>
                  <li><a class="" href="../nodes/scheduling/nodes-scheduler-pod-topology-spread-constraints.html">Controlling pod placement using pod topology spread constraints</a></li>              </ul>
            </li>
            <li class="nav-header"><a class="" href="javascript:void(0);" data-toggle="collapse" data-target="#topicSubGroup-20-4"><span id="sgSpan-20-4" class="fa fa-caret-right"></span>&nbsp;Using jobs and daemon sets</a>
              <ul id="topicSubGroup-20-4" class="nav-tertiary list-unstyled collapse">

                  <li><a class="" href="../nodes/jobs/nodes-pods-daemonsets.html">Running background tasks on nodes automatically with daemon sets</a></li>
                  <li><a class="" href="../nodes/jobs/nodes-nodes-jobs.html">Running tasks in pods using jobs</a></li>              </ul>
            </li>
            <li class="nav-header"><a class="" href="javascript:void(0);" data-toggle="collapse" data-target="#topicSubGroup-20-5"><span id="sgSpan-20-5" class="fa fa-caret-right"></span>&nbsp;Working with nodes</a>
              <ul id="topicSubGroup-20-5" class="nav-tertiary list-unstyled collapse">

                  <li><a class="" href="../nodes/nodes/nodes-nodes-viewing.html">Viewing and listing the nodes in your cluster</a></li>
                  <li><a class="" href="../nodes/nodes/nodes-nodes-working.html">Working with nodes</a></li>
                  <li><a class="" href="../nodes/nodes/nodes-node-tuning-operator.html">Using the Node Tuning Operator</a></li>              </ul>
            </li>
            <li class="nav-header"><a class="" href="javascript:void(0);" data-toggle="collapse" data-target="#topicSubGroup-20-6"><span id="sgSpan-20-6" class="fa fa-caret-right"></span>&nbsp;Working with containers</a>
              <ul id="topicSubGroup-20-6" class="nav-tertiary list-unstyled collapse">

                  <li><a class="" href="../nodes/containers/nodes-containers-using.html">Understanding containers</a></li>
                  <li><a class="" href="../nodes/containers/nodes-containers-init.html">Using Init Containers to perform tasks before a pod is deployed</a></li>
                  <li><a class="" href="../nodes/containers/nodes-containers-volumes.html">Using volumes to persist container data</a></li>
                  <li><a class="" href="../nodes/containers/nodes-containers-projected-volumes.html">Mapping volumes using projected volumes</a></li>
                  <li><a class="" href="../nodes/containers/nodes-containers-downward-api.html">Allowing containers to consume API objects</a></li>
                  <li><a class="" href="../nodes/containers/nodes-containers-copying-files.html">Copying files to or from a container</a></li>
                  <li><a class="" href="../nodes/containers/nodes-containers-remote-commands.html">Executing remote commands in a container</a></li>
                  <li><a class="" href="../nodes/containers/nodes-containers-port-forwarding.html">Using port forwarding to access applications in a container</a></li>              </ul>
            </li>
            <li class="nav-header"><a class="" href="javascript:void(0);" data-toggle="collapse" data-target="#topicSubGroup-20-7"><span id="sgSpan-20-7" class="fa fa-caret-right"></span>&nbsp;Working with clusters</a>
              <ul id="topicSubGroup-20-7" class="nav-tertiary list-unstyled collapse">

                  <li><a class="" href="../nodes/clusters/nodes-containers-events.html">Viewing system event information in a cluster</a></li>
                  <li><a class="" href="../nodes/clusters/nodes-cluster-resource-levels.html">Analyzing cluster resource levels</a></li>
                  <li><a class="" href="../nodes/clusters/nodes-cluster-limit-ranges.html">Setting limit ranges</a></li>
                  <li><a class="" href="../nodes/clusters/nodes-cluster-resource-configure.html">Configuring cluster memory to meet container memory and risk requirements</a></li>
                  <li><a class="" href="../nodes/clusters/nodes-cluster-overcommit.html">Configuring your cluster to place pods on overcommited nodes</a></li>              </ul>
            </li>
      </ul>
    </li>
    <li class="nav-header"><a class="" href="javascript:void(0);" data-toggle="collapse" data-target="#topicGroup21"><span id="tgSpan21" class="fa fa-angle-right"></span>Observability</a>
      <ul id="topicGroup21" class="collapse  list-unstyled">
            <li class="nav-header"><a class="" href="javascript:void(0);" data-toggle="collapse" data-target="#topicSubGroup-21-0"><span id="sgSpan-21-0" class="fa fa-caret-right"></span>&nbsp;Observability overview</a>
              <ul id="topicSubGroup-21-0" class="nav-tertiary list-unstyled collapse">

                  <li><a class="" href="../observability/overview/index.html">About Observability</a></li>              </ul>
            </li>
            <li class="nav-header"><a class="" href="javascript:void(0);" data-toggle="collapse" data-target="#topicSubGroup-21-1"><span id="sgSpan-21-1" class="fa fa-caret-right"></span>&nbsp;Monitoring</a>
              <ul id="topicSubGroup-21-1" class="nav-tertiary list-unstyled collapse">

                  <li><a class="" href="../observability/monitoring/monitoring-overview.html">Monitoring overview</a></li>
                  <li><a class="" href="../observability/monitoring/sd-accessing-monitoring-for-user-defined-projects.html">Accessing monitoring for user-defined projects</a></li>
                  <li><a class="" href="../observability/monitoring/configuring-the-monitoring-stack.html">Configuring the monitoring stack</a></li>
                  <li><a class="" href="../observability/monitoring/sd-disabling-monitoring-for-user-defined-projects.html">Disabling monitoring for user-defined projects</a></li>
                  <li><a class="" href="../observability/monitoring/enabling-alert-routing-for-user-defined-projects.html">Enabling alert routing for user-defined projects</a></li>
                  <li><a class="" href="../observability/monitoring/managing-metrics.html">Managing metrics</a></li>
                  <li><a class="" href="../observability/monitoring/managing-alerts.html">Managing alerts</a></li>
                  <li><a class="" href="../observability/monitoring/reviewing-monitoring-dashboards.html">Reviewing monitoring dashboards</a></li>
                  <li><a class="" href="../observability/monitoring/accessing-third-party-monitoring-apis.html">Accessing third-party monitoring APIs</a></li>
                  <li><a class="" href="../observability/monitoring/troubleshooting-monitoring-issues.html">Troubleshooting monitoring issues</a></li>
                  <li><a class="" href="../observability/monitoring/config-map-reference-for-the-cluster-monitoring-operator.html">Config map reference for the Cluster Monitoring Operator</a></li>              </ul>
            </li>
            <li class="nav-header"><a class="" href="javascript:void(0);" data-toggle="collapse" data-target="#topicSubGroup-21-2"><span id="sgSpan-21-2" class="fa fa-caret-right"></span>&nbsp;Logging</a>
              <ul id="topicSubGroup-21-2" class="nav-tertiary list-unstyled collapse">

                <li class="nav-header"><a class="" href="javascript:void(0);" data-toggle="collapse" data-target="#topicSubSubGroup-21-2-0"><span id="ssgSpan-21-2-0" class="fa fa-caret-right"></span>&nbsp;Release notes</a>
                  <ul id="topicSubSubGroup-21-2-0" class="nav-tertiary list-unstyled collapse">

                    <li><a class="" href="../observability/logging/logging_release_notes/logging-5-9-release-notes.html" style="padding-left: 70px;">Logging 5.9</a></li>
                    <li><a class="" href="../observability/logging/logging_release_notes/logging-5-8-release-notes.html" style="padding-left: 70px;">Logging 5.8</a></li>
                    <li><a class="" href="../observability/logging/logging_release_notes/logging-5-7-release-notes.html" style="padding-left: 70px;">Logging 5.7</a></li>                  </ul>
                  </li>

                  <li><a class="" href="../observability/logging/cluster-logging-support.html">Support</a></li>
                <li class="nav-header"><a class="" href="javascript:void(0);" data-toggle="collapse" data-target="#topicSubSubGroup-21-2-2"><span id="ssgSpan-21-2-2" class="fa fa-caret-right"></span>&nbsp;Troubleshooting logging</a>
                  <ul id="topicSubSubGroup-21-2-2" class="nav-tertiary list-unstyled collapse">

                    <li><a class="" href="../observability/logging/troubleshooting/cluster-logging-cluster-status.html" style="padding-left: 70px;">Viewing Logging status</a></li>
                    <li><a class="" href="../observability/logging/troubleshooting/log-forwarding-troubleshooting.html" style="padding-left: 70px;">Troubleshooting log forwarding</a></li>
                    <li><a class="" href="../observability/logging/troubleshooting/troubleshooting-logging-alerts.html" style="padding-left: 70px;">Troubleshooting logging alerts</a></li>
                    <li><a class="" href="../observability/logging/troubleshooting/cluster-logging-log-store-status.html" style="padding-left: 70px;">Viewing the status of the Elasticsearch log store</a></li>                  </ul>
                  </li>

                  <li><a class="" href="../observability/logging/cluster-logging.html">About Logging</a></li>
                  <li><a class="" href="../observability/logging/cluster-logging-deploying.html">Installing Logging</a></li>
                  <li><a class="" href="../observability/logging/cluster-logging-upgrading.html">Updating Logging</a></li>
                <li class="nav-header"><a class="" href="javascript:void(0);" data-toggle="collapse" data-target="#topicSubSubGroup-21-2-6"><span id="ssgSpan-21-2-6" class="fa fa-caret-right"></span>&nbsp;Visualizing logs</a>
                  <ul id="topicSubSubGroup-21-2-6" class="nav-tertiary list-unstyled collapse">

                    <li><a class="" href="../observability/logging/log_visualization/log-visualization.html" style="padding-left: 70px;">About log visualization</a></li>
                    <li><a class="" href="../observability/logging/log_visualization/log-visualization-ocp-console.html" style="padding-left: 70px;">Log visualization with the web console</a></li>
                    <li><a class="" href="../observability/logging/log_visualization/cluster-logging-dashboards.html" style="padding-left: 70px;">Viewing cluster dashboards</a></li>
                    <li><a class="" href="../observability/logging/log_visualization/logging-kibana.html" style="padding-left: 70px;">Log visualization with Kibana</a></li>                  </ul>
                  </li>

                <li class="nav-header"><a class="" href="javascript:void(0);" data-toggle="collapse" data-target="#topicSubSubGroup-21-2-7"><span id="ssgSpan-21-2-7" class="fa fa-caret-right"></span>&nbsp;Configuring your Logging deployment</a>
                  <ul id="topicSubSubGroup-21-2-7" class="nav-tertiary list-unstyled collapse">

                    <li><a class="" href="../observability/logging/config/cluster-logging-memory.html" style="padding-left: 70px;">Configuring CPU and memory limits for Logging components</a></li>                  </ul>
                  </li>

                <li class="nav-header"><a class="" href="javascript:void(0);" data-toggle="collapse" data-target="#topicSubSubGroup-21-2-8"><span id="ssgSpan-21-2-8" class="fa fa-caret-right"></span>&nbsp;Log collection and forwarding</a>
                  <ul id="topicSubSubGroup-21-2-8" class="nav-tertiary list-unstyled collapse">

                    <li><a class="" href="../observability/logging/log_collection_forwarding/log-forwarding.html" style="padding-left: 70px;">About log collection and forwarding</a></li>
                    <li><a class="" href="../observability/logging/log_collection_forwarding/logging-output-types.html" style="padding-left: 70px;">Log output types</a></li>
                    <li><a class="" href="../observability/logging/log_collection_forwarding/cluster-logging-enabling-json-logging.html" style="padding-left: 70px;">Enabling JSON log forwarding</a></li>
                    <li><a class="" href="../observability/logging/log_collection_forwarding/configuring-log-forwarding.html" style="padding-left: 70px;">Configuring log forwarding</a></li>
                    <li><a class="" href="../observability/logging/log_collection_forwarding/cluster-logging-collector.html" style="padding-left: 70px;">Configuring the logging collector</a></li>
                    <li><a class="" href="../observability/logging/log_collection_forwarding/cluster-logging-eventrouter.html" style="padding-left: 70px;">Collecting and storing Kubernetes events</a></li>                  </ul>
                  </li>

                <li class="nav-header"><a class="" href="javascript:void(0);" data-toggle="collapse" data-target="#topicSubSubGroup-21-2-9"><span id="ssgSpan-21-2-9" class="fa fa-caret-right"></span>&nbsp;Log storage</a>
                  <ul id="topicSubSubGroup-21-2-9" class="nav-tertiary list-unstyled collapse">

                    <li><a class="" href="../observability/logging/log_storage/about-log-storage.html" style="padding-left: 70px;">About log storage</a></li>
                    <li><a class="" href="../observability/logging/log_storage/installing-log-storage.html" style="padding-left: 70px;">Installing log storage</a></li>
                    <li><a class="" href="../observability/logging/log_storage/cluster-logging-loki.html" style="padding-left: 70px;">Configuring the LokiStack log store</a></li>
                    <li><a class="" href="../observability/logging/log_storage/logging-config-es-store.html" style="padding-left: 70px;">Configuring the Elasticsearch log store</a></li>                  </ul>
                  </li>

                <li class="nav-header"><a class="" href="javascript:void(0);" data-toggle="collapse" data-target="#topicSubSubGroup-21-2-10"><span id="ssgSpan-21-2-10" class="fa fa-caret-right"></span>&nbsp;Logging alerts</a>
                  <ul id="topicSubSubGroup-21-2-10" class="nav-tertiary list-unstyled collapse">

                    <li><a class="" href="../observability/logging/logging_alerts/default-logging-alerts.html" style="padding-left: 70px;">Default logging alerts</a></li>
                    <li><a class="" href="../observability/logging/logging_alerts/custom-logging-alerts.html" style="padding-left: 70px;">Custom logging alerts</a></li>                  </ul>
                  </li>

                <li class="nav-header"><a class="" href="javascript:void(0);" data-toggle="collapse" data-target="#topicSubSubGroup-21-2-11"><span id="ssgSpan-21-2-11" class="fa fa-caret-right"></span>&nbsp;Performance and reliability tuning</a>
                  <ul id="topicSubSubGroup-21-2-11" class="nav-tertiary list-unstyled collapse">

                    <li><a class="" href="../observability/logging/performance_reliability/logging-flow-control-mechanisms.html" style="padding-left: 70px;">Flow control mechanisms</a></li>
                    <li><a class="" href="../observability/logging/performance_reliability/logging-content-filtering.html" style="padding-left: 70px;">Filtering logs by content</a></li>
                    <li><a class="" href="../observability/logging/performance_reliability/logging-input-spec-filtering.html" style="padding-left: 70px;">Filtering logs by metadata</a></li>                  </ul>
                  </li>

                <li class="nav-header"><a class="" href="javascript:void(0);" data-toggle="collapse" data-target="#topicSubSubGroup-21-2-12"><span id="ssgSpan-21-2-12" class="fa fa-caret-right"></span>&nbsp;Scheduling resources</a>
                  <ul id="topicSubSubGroup-21-2-12" class="nav-tertiary list-unstyled collapse">

                    <li><a class="" href="../observability/logging/scheduling_resources/logging-node-selectors.html" style="padding-left: 70px;">Using node selectors to move logging resources</a></li>
                    <li><a class="" href="../observability/logging/scheduling_resources/logging-taints-tolerations.html" style="padding-left: 70px;">Using tolerations to control logging pod placement</a></li>                  </ul>
                  </li>

                  <li><a class="" href="../observability/logging/cluster-logging-uninstall.html">Uninstalling Logging</a></li>
                  <li><a class="" href="../observability/logging/cluster-logging-exported-fields.html">Exported fields</a></li>
                <li class="nav-header"><a class="" href="javascript:void(0);" data-toggle="collapse" data-target="#topicSubSubGroup-21-2-15"><span id="ssgSpan-21-2-15" class="fa fa-caret-right"></span>&nbsp;API reference</a>
                  <ul id="topicSubSubGroup-21-2-15" class="nav-tertiary list-unstyled collapse">

                    <li><a class="" href="../observability/logging/api_reference/logging-5-6-reference.html" style="padding-left: 70px;">5.6 Logging API reference</a></li>                  </ul>
                  </li>

                  <li><a class="" href="../observability/logging/logging-common-terms.html">Glossary</a></li>              </ul>
            </li>
      </ul>
    </li>
    <li class="nav-header"><a class="" href="javascript:void(0);" data-toggle="collapse" data-target="#topicGroup22"><span id="tgSpan22" class="fa fa-angle-right"></span>Service Mesh</a>
      <ul id="topicGroup22" class="collapse  list-unstyled">
            <li class="nav-header"><a class="" href="javascript:void(0);" data-toggle="collapse" data-target="#topicSubGroup-22-0"><span id="sgSpan-22-0" class="fa fa-caret-right"></span>&nbsp;Service Mesh 2.x</a>
              <ul id="topicSubGroup-22-0" class="nav-tertiary list-unstyled collapse">

                  <li><a class="" href="../service_mesh/v2x/ossm-about.html">About OpenShift Service Mesh</a></li>
                  <li><a class="" href="../service_mesh/v2x/servicemesh-release-notes.html">Service Mesh 2.x release notes</a></li>
                  <li><a class="" href="../service_mesh/v2x/ossm-architecture.html">Service Mesh architecture</a></li>
                  <li><a class="" href="../service_mesh/v2x/ossm-deployment-models.html">Service Mesh deployment models</a></li>
                  <li><a class="" href="../service_mesh/v2x/ossm-vs-community.html">Service Mesh and Istio differences</a></li>
                  <li><a class="" href="../service_mesh/v2x/preparing-ossm-installation.html">Preparing to install Service Mesh</a></li>
                  <li><a class="" href="../service_mesh/v2x/installing-ossm.html">Installing the Operators</a></li>
                  <li><a class="" href="../service_mesh/v2x/ossm-create-smcp.html">Creating the ServiceMeshControlPlane</a></li>
                  <li><a class="" href="../service_mesh/v2x/ossm-create-mesh.html">Adding workloads to a service mesh</a></li>
                  <li><a class="" href="../service_mesh/v2x/prepare-to-deploy-applications-ossm.html">Enabling sidecar injection</a></li>
                  <li><a class="" href="../service_mesh/v2x/upgrading-ossm.html">Upgrading Service Mesh</a></li>
                  <li><a class="" href="../service_mesh/v2x/ossm-profiles-users.html">Managing users and profiles</a></li>
                  <li><a class="" href="../service_mesh/v2x/ossm-security.html">Security</a></li>
                  <li><a class="" href="../service_mesh/v2x/ossm-traffic-manage.html">Traffic management</a></li>
                  <li><a class="" href="../service_mesh/v2x/ossm-observability.html">Metrics, logs, and traces</a></li>
                  <li><a class="" href="../service_mesh/v2x/ossm-performance-scalability.html">Performance and scalability</a></li>
                  <li><a class="" href="../service_mesh/v2x/ossm-deploy-production.html">Deploying to production</a></li>
                  <li><a class="" href="../service_mesh/v2x/ossm-federation.html">Federation</a></li>
                  <li><a class="" href="../service_mesh/v2x/ossm-extensions.html">Extensions</a></li>
                  <li><a class="" href="../service_mesh/v2x/ossm-threescale-webassembly-module.html">3scale WebAssembly for 2.1</a></li>
                  <li><a class="" href="../service_mesh/v2x/threescale-adapter.html">3scale Istio adapter for 2.0</a></li>
                  <li><a class="" href="../service_mesh/v2x/ossm-troubleshooting-istio.html">Troubleshooting Service Mesh</a></li>
                  <li><a class="" href="../service_mesh/v2x/ossm-reference-smcp.html">Control plane configuration reference</a></li>
                  <li><a class="" href="../service_mesh/v2x/ossm-reference-kiali.html">Kiali configuration reference</a></li>
                  <li><a class="" href="../service_mesh/v2x/ossm-reference-jaeger.html">Jaeger configuration reference</a></li>
                  <li><a class="" href="../service_mesh/v2x/removing-ossm.html">Uninstalling Service Mesh</a></li>              </ul>
            </li>
      </ul>
    </li>
    <li class="nav-header"><a class="" href="javascript:void(0);" data-toggle="collapse" data-target="#topicGroup23"><span id="tgSpan23" class="fa fa-angle-right"></span>Serverless</a>
      <ul id="topicGroup23" class="collapse  list-unstyled">
            <li class="nav-header"><a class="" href="javascript:void(0);" data-toggle="collapse" data-target="#topicSubGroup-23-0"><span id="sgSpan-23-0" class="fa fa-caret-right"></span>&nbsp;About Serverless</a>
              <ul id="topicSubGroup-23-0" class="nav-tertiary list-unstyled collapse">

                  <li><a class="" href="../serverless/about/about-serverless.html">Serverless overview</a></li>              </ul>
            </li>
      </ul>
    </li>
    <li class="nav-header"><a class="" href="javascript:void(0);" data-toggle="collapse" data-target="#topicGroup24"><span id="tgSpan24" class="fa fa-angle-right"></span>Virtualization</a>
      <ul id="topicGroup24" class="collapse  list-unstyled">
            <li class="nav-header"><a class="" href="javascript:void(0);" data-toggle="collapse" data-target="#topicSubGroup-24-0"><span id="sgSpan-24-0" class="fa fa-caret-right"></span>&nbsp;About</a>
              <ul id="topicSubGroup-24-0" class="nav-tertiary list-unstyled collapse">

                  <li><a class="" href="../virt/about_virt/about-virt.html">About OpenShift Virtualization</a></li>
                  <li><a class="" href="../virt/about_virt/virt-security-policies.html">Security policies</a></li>
                  <li><a class="" href="../virt/about_virt/virt-architecture.html">Architecture</a></li>              </ul>
            </li>
            <li class="nav-header"><a class="" href="javascript:void(0);" data-toggle="collapse" data-target="#topicSubGroup-24-1"><span id="sgSpan-24-1" class="fa fa-caret-right"></span>&nbsp;Getting started</a>
              <ul id="topicSubGroup-24-1" class="nav-tertiary list-unstyled collapse">

                  <li><a class="" href="../virt/getting_started/virt-getting-started.html">Getting started with OpenShift Virtualization</a></li>
                  <li><a class="" href="../virt/getting_started/virt-using-the-cli-tools.html">virtctl and libguestfs</a></li>              </ul>
            </li>
            <li class="nav-header"><a class="" href="javascript:void(0);" data-toggle="collapse" data-target="#topicSubGroup-24-2"><span id="sgSpan-24-2" class="fa fa-caret-right"></span>&nbsp;Installing</a>
              <ul id="topicSubGroup-24-2" class="nav-tertiary list-unstyled collapse">

                  <li><a class="" href="../virt/install/preparing-cluster-for-virt.html">Preparing your cluster</a></li>
                  <li><a class="" href="../virt/install/installing-virt.html">Installing OpenShift Virtualization</a></li>
                  <li><a class="" href="../virt/install/uninstalling-virt.html">Uninstalling OpenShift Virtualization</a></li>              </ul>
            </li>
            <li class="nav-header"><a class="" href="javascript:void(0);" data-toggle="collapse" data-target="#topicSubGroup-24-3"><span id="sgSpan-24-3" class="fa fa-caret-right"></span>&nbsp;Post-installation configuration</a>
              <ul id="topicSubGroup-24-3" class="nav-tertiary list-unstyled collapse">

                  <li><a class="" href="../virt/post_installation_configuration/virt-post-install-config.html">Post-installation configuration</a></li>
                  <li><a class="" href="../virt/post_installation_configuration/virt-node-placement-virt-components.html">Node placement rules</a></li>
                  <li><a class="" href="../virt/post_installation_configuration/virt-post-install-network-config.html">Network configuration</a></li>
                  <li><a class="" href="../virt/post_installation_configuration/virt-post-install-storage-config.html">Storage configuration</a></li>
                  <li><a class="" href="../virt/post_installation_configuration/virt-configuring-certificate-rotation.html">Configuring certificate rotation</a></li>              </ul>
            </li>
            <li class="nav-header"><a class="" href="javascript:void(0);" data-toggle="collapse" data-target="#topicSubGroup-24-4"><span id="sgSpan-24-4" class="fa fa-caret-right"></span>&nbsp;Updating</a>
              <ul id="topicSubGroup-24-4" class="nav-tertiary list-unstyled collapse">

                  <li><a class="" href="../virt/updating/upgrading-virt.html">Updating OpenShift Virtualization</a></li>              </ul>
            </li>
            <li class="nav-header"><a class="" href="javascript:void(0);" data-toggle="collapse" data-target="#topicSubGroup-24-5"><span id="sgSpan-24-5" class="fa fa-caret-right"></span>&nbsp;Creating a virtual machine</a>
              <ul id="topicSubGroup-24-5" class="nav-tertiary list-unstyled collapse">

                  <li><a class="" href="../virt/creating_vm/virt-creating-vms-from-instance-types.html">Creating VMs from instance types</a></li>
                  <li><a class="" href="../virt/creating_vm/virt-creating-vms-from-templates.html">Creating VMs from templates</a></li>              </ul>
            </li>
            <li class="nav-header"><a class="" href="javascript:void(0);" data-toggle="collapse" data-target="#topicSubGroup-24-6"><span id="sgSpan-24-6" class="fa fa-caret-right"></span>&nbsp;Advanced VM creation</a>
              <ul id="topicSubGroup-24-6" class="nav-tertiary list-unstyled collapse">

                <li class="nav-header"><a class="" href="javascript:void(0);" data-toggle="collapse" data-target="#topicSubSubGroup-24-6-0"><span id="ssgSpan-24-6-0" class="fa fa-caret-right"></span>&nbsp;Creating VMs in the web console</a>
                  <ul id="topicSubSubGroup-24-6-0" class="nav-tertiary list-unstyled collapse">

                    <li><a class="" href="../virt/creating_vms_advanced/creating_vms_advanced_web/virt-creating-vms-from-rh-images-overview.html" style="padding-left: 70px;">Creating VMs from Red Hat images</a></li>
                    <li><a class="" href="../virt/creating_vms_advanced/creating_vms_advanced_web/virt-creating-vms-from-web-images.html" style="padding-left: 70px;">Creating VMs by importing images from web pages</a></li>
                    <li><a class="" href="../virt/creating_vms_advanced/creating_vms_advanced_web/virt-creating-vms-uploading-images.html" style="padding-left: 70px;">Creating VMs by uploading images</a></li>
                    <li><a class="" href="../virt/creating_vms_advanced/creating_vms_advanced_web/virt-cloning-vms.html" style="padding-left: 70px;">Cloning VMs</a></li>                  </ul>
                  </li>

                <li class="nav-header"><a class="" href="javascript:void(0);" data-toggle="collapse" data-target="#topicSubSubGroup-24-6-1"><span id="ssgSpan-24-6-1" class="fa fa-caret-right"></span>&nbsp;Creating VMs using the CLI</a>
                  <ul id="topicSubSubGroup-24-6-1" class="nav-tertiary list-unstyled collapse">

                    <li><a class="" href="../virt/creating_vms_advanced/creating_vms_cli/virt-creating-vms-from-cli.html" style="padding-left: 70px;">Creating virtual machines from the command line</a></li>
                    <li><a class="" href="../virt/creating_vms_advanced/creating_vms_cli/virt-creating-vms-from-container-disks.html" style="padding-left: 70px;">Creating VMs by using container disks</a></li>
                    <li><a class="" href="../virt/creating_vms_advanced/creating_vms_cli/virt-creating-vms-by-cloning-pvcs.html" style="padding-left: 70px;">Creating VMs by cloning PVCs</a></li>                  </ul>
                  </li>
              </ul>
            </li>
            <li class="nav-header"><a class="" href="javascript:void(0);" data-toggle="collapse" data-target="#topicSubGroup-24-7"><span id="sgSpan-24-7" class="fa fa-caret-right"></span>&nbsp;Managing VMs</a>
              <ul id="topicSubGroup-24-7" class="nav-tertiary list-unstyled collapse">

                  <li><a class="" href="../virt/managing_vms/virt-installing-qemu-guest-agent.html">Installing the QEMU guest agent and VirtIO drivers</a></li>
                  <li><a class="" href="../virt/managing_vms/virt-accessing-vm-consoles.html">Connecting to VM consoles</a></li>
                  <li><a class="" href="../virt/managing_vms/virt-accessing-vm-ssh.html">Configuring SSH access to VMs</a></li>
                  <li><a class="" href="../virt/managing_vms/virt-edit-vms.html">Editing virtual machines</a></li>
                  <li><a class="" href="../virt/managing_vms/virt-edit-boot-order.html">Editing boot order</a></li>
                  <li><a class="" href="../virt/managing_vms/virt-delete-vms.html">Deleting virtual machines</a></li>
                  <li><a class="" href="../virt/managing_vms/virt-exporting-vms.html">Exporting virtual machines</a></li>
                  <li><a class="" href="../virt/managing_vms/virt-manage-vmis.html">Managing virtual machine instances</a></li>
                  <li><a class="" href="../virt/managing_vms/virt-controlling-vm-states.html">Controlling virtual machine states</a></li>
                  <li><a class="" href="../virt/managing_vms/virt-using-vtpm-devices.html">Using virtual Trusted Platform Module devices</a></li>
                  <li><a class="" href="../virt/managing_vms/virt-managing-vms-openshift-pipelines.html">Managing virtual machines with OpenShift Pipelines</a></li>
                <li class="nav-header"><a class="" href="javascript:void(0);" data-toggle="collapse" data-target="#topicSubSubGroup-24-7-11"><span id="ssgSpan-24-7-11" class="fa fa-caret-right"></span>&nbsp;Advanced virtual machine management</a>
                  <ul id="topicSubSubGroup-24-7-11" class="nav-tertiary list-unstyled collapse">

                    <li><a class="" href="../virt/managing_vms/advanced_vm_management/virt-working-with-resource-quotas-for-vms.html" style="padding-left: 70px;">Working with resource quotas for virtual machines</a></li>
                    <li><a class="" href="../virt/managing_vms/advanced_vm_management/virt-specifying-nodes-for-vms.html" style="padding-left: 70px;">Specifying nodes for virtual machines</a></li>
                    <li><a class="" href="../virt/managing_vms/advanced_vm_management/virt-configuring-default-cpu-model.html" style="padding-left: 70px;">Configuring the default CPU model</a></li>
                    <li><a class="" href="../virt/managing_vms/advanced_vm_management/virt-uefi-mode-for-vms.html" style="padding-left: 70px;">UEFI mode for virtual machines</a></li>
                    <li><a class="" href="../virt/managing_vms/advanced_vm_management/virt-configuring-pxe-booting.html" style="padding-left: 70px;">Configuring PXE booting for virtual machines</a></li>
                    <li><a class="" href="../virt/managing_vms/advanced_vm_management/virt-schedule-vms.html" style="padding-left: 70px;">Scheduling virtual machines</a></li>
                    <li><a class="" href="../virt/managing_vms/advanced_vm_management/virt-high-availability-for-vms.html" style="padding-left: 70px;">About high availability for virtual machines</a></li>
                    <li><a class="" href="../virt/managing_vms/advanced_vm_management/virt-vm-control-plane-tuning.html" style="padding-left: 70px;">Control plane tuning</a></li>                  </ul>
                  </li>

                <li class="nav-header"><a class="" href="javascript:void(0);" data-toggle="collapse" data-target="#topicSubSubGroup-24-7-12"><span id="ssgSpan-24-7-12" class="fa fa-caret-right"></span>&nbsp;VM disks</a>
                  <ul id="topicSubSubGroup-24-7-12" class="nav-tertiary list-unstyled collapse">

                    <li><a class="" href="../virt/managing_vms/virtual_disks/virt-hot-plugging-virtual-disks.html" style="padding-left: 70px;">Hot-plugging VM disks</a></li>
                    <li><a class="" href="../virt/managing_vms/virtual_disks/virt-expanding-vm-disks.html" style="padding-left: 70px;">Expanding VM disks</a></li>
                    <li><a class="" href="../virt/managing_vms/virtual_disks/virt-migrating-storage-class.html" style="padding-left: 70px;">Migrating VM disks to a different storage class</a></li>                  </ul>
                  </li>
              </ul>
            </li>
            <li class="nav-header"><a class="" href="javascript:void(0);" data-toggle="collapse" data-target="#topicSubGroup-24-8"><span id="sgSpan-24-8" class="fa fa-caret-right"></span>&nbsp;Networking</a>
              <ul id="topicSubGroup-24-8" class="nav-tertiary list-unstyled collapse">

                  <li><a class="" href="../virt/vm_networking/virt-networking-overview.html">Networking configuration overview</a></li>
                  <li><a class="" href="../virt/vm_networking/virt-connecting-vm-to-default-pod-network.html">Connecting a VM to the default pod network</a></li>
                  <li><a class="" href="../virt/vm_networking/virt-connecting-vm-to-primary-udn.html">Connecting a VM to a primary user-defined network</a></li>
                  <li><a class="" href="../virt/vm_networking/virt-exposing-vm-with-service.html">Exposing a VM by using a service</a></li>
                  <li><a class="" href="../virt/vm_networking/virt-connecting-vm-to-ovn-secondary-network.html">Connecting a VM to an OVN-Kubernetes secondary network</a></li>
                  <li><a class="" href="../virt/vm_networking/virt-hot-plugging-network-interfaces.html">Hot plugging secondary network interfaces</a></li>
                  <li><a class="" href="../virt/vm_networking/virt-connecting-vm-to-service-mesh.html">Connecting a VM to a service mesh</a></li>
                  <li><a class="" href="../virt/vm_networking/virt-dedicated-network-live-migration.html">Configuring a dedicated network for live migration</a></li>
                  <li><a class="" href="../virt/vm_networking/virt-configuring-viewing-ips-for-vms.html">Configuring and viewing IP addresses</a></li>
                  <li><a class="" href="../virt/vm_networking/virt-using-mac-address-pool-for-vms.html">Managing MAC address pools for network interfaces</a></li>              </ul>
            </li>
            <li class="nav-header"><a class="" href="javascript:void(0);" data-toggle="collapse" data-target="#topicSubGroup-24-9"><span id="sgSpan-24-9" class="fa fa-caret-right"></span>&nbsp;Storage</a>
              <ul id="topicSubGroup-24-9" class="nav-tertiary list-unstyled collapse">

                  <li><a class="" href="../virt/storage/virt-storage-config-overview.html">Storage configuration overview</a></li>
                  <li><a class="" href="../virt/storage/virt-configuring-storage-profile.html">Configuring storage profiles</a></li>
                  <li><a class="" href="../virt/storage/virt-automatic-bootsource-updates.html">Managing automatic boot source updates</a></li>
                  <li><a class="" href="../virt/storage/virt-reserving-pvc-space-fs-overhead.html">Reserving PVC space for file system overhead</a></li>
                  <li><a class="" href="../virt/storage/virt-configuring-local-storage-with-hpp.html">Configuring local storage by using HPP</a></li>
                  <li><a class="" href="../virt/storage/virt-enabling-user-permissions-to-clone-datavolumes.html">Enabling user permissions to clone data volumes across namespaces</a></li>
                  <li><a class="" href="../virt/storage/virt-configuring-cdi-for-namespace-resourcequota.html">Configuring CDI to override CPU and memory quotas</a></li>
                  <li><a class="" href="../virt/storage/virt-preparing-cdi-scratch-space.html">Preparing CDI scratch space</a></li>
                  <li><a class="" href="../virt/storage/virt-using-preallocation-for-datavolumes.html">Using preallocation for data volumes</a></li>
                  <li><a class="" href="../virt/storage/virt-managing-data-volume-annotations.html">Managing data volume annotations</a></li>              </ul>
            </li>
            <li class="nav-header"><a class="" href="javascript:void(0);" data-toggle="collapse" data-target="#topicSubGroup-24-10"><span id="sgSpan-24-10" class="fa fa-caret-right"></span>&nbsp;Live migration</a>
              <ul id="topicSubGroup-24-10" class="nav-tertiary list-unstyled collapse">

                  <li><a class="" href="../virt/live_migration/virt-about-live-migration.html">About live migration</a></li>
                  <li><a class="" href="../virt/live_migration/virt-configuring-live-migration.html">Configuring live migration</a></li>
                  <li><a class="" href="../virt/live_migration/virt-initiating-live-migration.html">Initiating and canceling live migration</a></li>              </ul>
            </li>
            <li class="nav-header"><a class="" href="javascript:void(0);" data-toggle="collapse" data-target="#topicSubGroup-24-11"><span id="sgSpan-24-11" class="fa fa-caret-right"></span>&nbsp;Nodes</a>
              <ul id="topicSubGroup-24-11" class="nav-tertiary list-unstyled collapse">

                  <li><a class="" href="../virt/nodes/virt-node-maintenance.html">Node maintenance</a></li>
                  <li><a class="" href="../virt/nodes/virt-managing-node-labeling-obsolete-cpu-models.html">Managing node labeling for obsolete CPU models</a></li>
                  <li><a class="" href="../virt/nodes/virt-preventing-node-reconciliation.html">Preventing node reconciliation</a></li>              </ul>
            </li>
            <li class="nav-header"><a class="" href="javascript:void(0);" data-toggle="collapse" data-target="#topicSubGroup-24-12"><span id="sgSpan-24-12" class="fa fa-caret-right"></span>&nbsp;Monitoring</a>
              <ul id="topicSubGroup-24-12" class="nav-tertiary list-unstyled collapse">

                  <li><a class="" href="../virt/monitoring/virt-monitoring-overview.html">Monitoring overview</a></li>
                  <li><a class="" href="../virt/monitoring/virt-prometheus-queries.html">Prometheus queries for virtual resources</a></li>
                  <li><a class="" href="../virt/monitoring/virt-exposing-custom-metrics-for-vms.html">Virtual machine custom metrics</a></li>
                  <li><a class="" href="../virt/monitoring/virt-monitoring-vm-health.html">Virtual machine health checks</a></li>
                  <li><a class="" href="../virt/monitoring/virt-runbooks.html">Runbooks</a></li>              </ul>
            </li>
            <li class="nav-header"><a class="" href="javascript:void(0);" data-toggle="collapse" data-target="#topicSubGroup-24-13"><span id="sgSpan-24-13" class="fa fa-caret-right"></span>&nbsp;Support</a>
              <ul id="topicSubGroup-24-13" class="nav-tertiary list-unstyled collapse">

                  <li><a class="" href="../virt/support/virt-support-overview.html">Support overview</a></li>
                  <li><a class="" href="../virt/support/virt-collecting-virt-data.html">Collecting data for Red Hat Support</a></li>
                  <li><a class="" href="../virt/support/virt-troubleshooting.html">Troubleshooting</a></li>              </ul>
            </li>
            <li class="nav-header"><a class="" href="javascript:void(0);" data-toggle="collapse" data-target="#topicSubGroup-24-14"><span id="sgSpan-24-14" class="fa fa-caret-right"></span>&nbsp;Backup and restore</a>
              <ul id="topicSubGroup-24-14" class="nav-tertiary list-unstyled collapse">

                  <li><a class="" href="../virt/backup_restore/virt-backup-restore-snapshots.html">Backup and restore by using VM snapshots</a></li>
                  <li><a class="" href="../virt/backup_restore/virt-backup-restore-overview.html">Backing up and restoring virtual machines</a></li>              </ul>
            </li>
      </ul>
    </li>
</ul>
      </div>
      <div id="hc-search-modal">
        <div id="hc-modal-content">
          <span id="hc-modal-close">&times;</span>
          <div id="hc-search-results-wrapper">
            <div id="hc-search-results"></div>
            <div id="hc-search-progress-indicator" class="text-center search-progress-indicator"><i class="fa fa-circle-o-notch fa-spin" style="font-size:42px"></i></div>
            <div class="text-center">
              <button id="hc-search-more-btn">Show more results</button>
            </div>
          </div>
        </div>
      </div>
      <div class="print-logo" style="display:none;">
        <img src="https://www.redhat.com/cms/managed-files/Logo-Red_Hat-OpenShift-A-Standard-RGB_0_0.svg" alt="print logo"/>
      </div>
      <div class="col-xs-12 col-sm-9 col-md-9 main">
        <div class="page-header">
          <h1>
            Required IAM resources
          </h1>
        </div>
        
        
        <div id="toc" class="toc">
<div id="toctitle"></div>
<ul class="sectlevel1">
<li><a href="#rosa-sts-ocm-roles-and-permissions_rosa-sts-about-iam-resources">OpenShift Cluster Manager roles and permissions</a>
<ul class="sectlevel2">
<li><a href="#rosa-sts-understanding-ocm-role_rosa-sts-about-iam-resources">Understanding the OpenShift Cluster Manager role</a></li>
</ul>
</li>
<li><a href="#rosa-sts-account-wide-roles-and-policies_rosa-sts-about-iam-resources">Account-wide IAM role and policy reference</a>
<ul class="sectlevel2">
<li><a href="#rosa-sts-account-wide-roles-and-policies-creation-methods_rosa-sts-about-iam-resources">Methods of account-wide role creation</a></li>
<li><a href="#rosa-sts-account-wide-role-and-policy-aws-cli_rosa-sts-about-iam-resources">Account-wide IAM role and policy AWS CLI reference</a></li>
</ul>
</li>
<li><a href="#rosa-sts-aws-requirements-attaching-boundary-policy_rosa-sts-about-iam-resources">Permission boundaries for the installer role</a></li>
<li><a href="#rosa-sts-operator-roles_rosa-sts-about-iam-resources">Cluster-specific Operator IAM role reference</a>
<ul class="sectlevel2">
<li><a href="#rosa-sts-operator-role-aws-cli_rosa-sts-about-iam-resources">Operator IAM role AWS CLI reference</a></li>
<li><a href="#rosa-sts-about-operator-role-prefixes_rosa-sts-about-iam-resources">About custom Operator IAM role prefixes</a></li>
</ul>
</li>
<li><a href="#rosa-sts-oidc-provider-requirements-for-operators_rosa-sts-about-iam-resources">Open ID Connect (OIDC) requirements for Operator authentication</a>
<ul class="sectlevel2">
<li><a href="#rosa-sts-oidc-provider-for-operators-aws-cli_rosa-sts-about-iam-resources">Creating an OIDC provider using the CLI</a></li>
<li><a href="#rosa-byo-odic-overview_rosa-sts-about-iam-resources">Creating an OpenID Connect Configuration</a></li>
</ul>
</li>
<li><a href="#rosa-minimum-scp_rosa-sts-about-iam-resources">Minimum set of effective permissions for service control policies (SCP)</a></li>
<li><a href="#rosa-aws-customer-managed-policies_rosa-sts-about-iam-resources">Customer-managed policies</a></li>
</ul>
</div>
<div id="preamble">
<div class="sectionbody">
<!-- toc disabled -->
<div class="paragraph">
<p>Red Hat OpenShift Service on AWS (ROSA) with hosted control planes (HCP) uses the AWS Security Token Service (STS) to provide temporary, limited-permission credentials for your cluster. This means that before you deploy your cluster,
you must create the following AWS Identity Access Management (IAM) resources:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Specific account-wide IAM roles and policies that provide the STS permissions required for ROSA support, installation,
and compute functionality. This includes account-wide Operator policies.</p>
</li>
<li>
<p>Cluster-specific Operator IAM roles that permit the ROSA cluster Operators to carry out core OpenShift functionality.</p>
</li>
<li>
<p>An OpenID Connect (OIDC) provider that the cluster Operators use to authenticate.</p>
</li>
<li>
<p>If you deploy and manage your cluster using OpenShift Cluster Manager, you must create the following additional resources:</p>
<div class="ulist">
<ul>
<li>
<p>An OpenShift Cluster Manager IAM role to complete the installation on your cluster.</p>
</li>
<li>
<p>A user role without any permissions to verify your AWS account identity.</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
<div class="paragraph">
<p>This document provides reference information about the IAM resources that you must deploy
when you create a ROSA with HCP cluster.
It also includes the <code>aws</code> CLI commands that are generated when you use <code>manual</code> mode with the <code>rosa create</code> command.</p>
</div>
<div class="ulist _additional-resources">
<div class="title">Additional resources</div>
<ul>
<li>
<p><a href="../rosa_hcp/rosa-hcp-sts-creating-a-cluster-quickly.html#rosa-hcp-sts-creating-a-cluster-quickly">Creating a ROSA with HCP cluster quickly</a></p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect1">
<h2 id="rosa-sts-ocm-roles-and-permissions_rosa-sts-about-iam-resources"><a class="anchor" href="#rosa-sts-ocm-roles-and-permissions_rosa-sts-about-iam-resources"></a>OpenShift Cluster Manager roles and permissions</h2>
<div class="sectionbody">
<div class="paragraph">
<p>If you create ROSA clusters by using <a href="https://console.redhat.com/openshift">OpenShift Cluster Manager</a>, you must have the following AWS IAM roles linked to your AWS account to create and manage the clusters.</p>
</div>
<div class="paragraph">
<p>These AWS IAM roles are as follows:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>The ROSA user role (<code>user-role</code>) is an AWS role used by Red&#160;Hat to verify the customer&#8217;s AWS identity. This role has no additional permissions, and the role has a trust relationship with the Red&#160;Hat installer account.</p>
</li>
<li>
<p>An <code>ocm-role</code> resource grants the required permissions for installation of ROSA clusters in OpenShift Cluster Manager. You can apply basic or administrative permissions to the <code>ocm-role</code> resource. If you create an administrative <code>ocm-role</code> resource, OpenShift Cluster Manager can create the needed AWS Operator roles and OpenID Connect (OIDC) provider. This IAM role also creates a trust relationship with the Red&#160;Hat installer account as well.</p>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p>The <code>ocm-role</code> IAM resource refers to the combination of the IAM role and the necessary policies created with it.</p>
</div>
</td>
</tr>
</table>
</div>
</li>
</ul>
</div>
<div class="paragraph">
<p>You must create this user role as well as an administrative <code>ocm-role</code> resource, if you want to use the auto mode in OpenShift Cluster Manager to create your Operator role policies and OIDC provider.</p>
</div>
<div class="sect2">
<h3 id="rosa-sts-understanding-ocm-role_rosa-sts-about-iam-resources"><a class="anchor" href="#rosa-sts-understanding-ocm-role_rosa-sts-about-iam-resources"></a>Understanding the OpenShift Cluster Manager role</h3>
<div class="paragraph">
<p>Creating ROSA clusters in <a href="https://console.redhat.com/openshift">OpenShift Cluster Manager</a> require an <code>ocm-role</code> IAM role. The basic <code>ocm-role</code> IAM role permissions let you to perform cluster maintenance within OpenShift Cluster Manager. To automatically create the operator roles and OpenID Connect (OIDC) provider, you must add the <code>--admin</code> option to the <code>rosa create</code> command. This command creates an <code>ocm-role</code> resource with additional permissions needed for administrative tasks.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p>This elevated IAM role allows OpenShift Cluster Manager to automatically create the cluster-specific Operator roles and OIDC provider during cluster creation. For more information about this automatic role and policy creation, see the "Methods of account-wide role creation" link in Additional resources.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="sect3">
<h4 id="rosa-sts-understanding-user-role_rosa-sts-about-iam-resources"><a class="anchor" href="#rosa-sts-understanding-user-role_rosa-sts-about-iam-resources"></a>Understanding the user role</h4>
<div class="paragraph">
<p>In addition to an <code>ocm-role</code> IAM role, you must create a user role so that Red Hat OpenShift Service on AWS can verify your AWS identity. This role has no permissions, and it is only used to create a trust relationship between the installer account and your <code>ocm-role</code> resources.</p>
</div>
<div class="paragraph">
<p>The following tables show the associated basic and administrative permissions for the <code>ocm-role</code> resource.</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<caption class="title">Table 1. Associated permissions for the basic <code>ocm-role</code> resource</caption>
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 66.6667%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Resource</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>iam:GetOpenIDConnectProvider</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">This permission allows the basic role to retrieve information about the specified OpenID Connect (OIDC) provider.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>iam:GetRole</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">This permission allows the basic role to retrieve any information for a specified role. Some of the data returned include the role&#8217;s path, GUID, ARN, and the role&#8217;s trust policy that grants permission to assume the role.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>iam:ListRoles</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">This permission allows the basic role to list the roles within a path prefix.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>iam:ListRoleTags</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">This permission allows the basic role to list the tags on a specified role.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>ec2:DescribeRegions</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">This permission allows the basic role to return information about all of the enabled regions on your account.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>ec2:DescribeRouteTables</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">This permission allows the basic role to return information about all of your route tables.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>ec2:DescribeSubnets</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">This permission allows the basic role to return information about all of your subnets.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>ec2:DescribeVpcs</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">This permission allows the basic role to return information about all of your virtual private clouds (VPCs).</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>sts:AssumeRole</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">This permission allows the basic role to retrieve temporary security credentials to access AWS resources that are beyond its normal permissions.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>sts:AssumeRoleWithWebIdentity</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">This permission allows the basic role to retrieve temporary security credentials for users authenticated their account with a web identity provider.</p></td>
</tr>
</tbody>
</table>
<table class="tableblock frame-all grid-all stretch">
<caption class="title">Table 2. Additional permissions for the admin <code>ocm-role</code> resource</caption>
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 66.6667%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Resource</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>iam:AttachRolePolicy</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">This permission allows the admin role to attach a specified policy to the desired IAM role.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>iam:CreateOpenIDConnectProvider</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">This permission creates a resource that describes an identity provider, which supports OpenID Connect (OIDC). When you create an OIDC provider with this permission, this provider establishes a trust relationship between the provider and AWS.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>iam:CreateRole</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">This permission allows the admin role to create a role for your AWS account.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>iam:ListPolicies</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">This permission allows the admin role to list any policies associated with your AWS account.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>iam:ListPolicyTags</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">This permission allows the admin role to list any tags on a designated policy.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>iam:PutRolePermissionsBoundary</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">This permission allows the admin role to change the permissions boundary for a user based on a specified policy.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>iam:TagRole</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">This permission allows the admin role to add tags to an IAM role.</p></td>
</tr>
</tbody>
</table>
<div class="ulist _additional-resources">
<div class="title">Additional resources</div>
<ul>
<li>
<p><a href="../rosa_architecture/rosa-sts-about-iam-resources.html#rosa-sts-account-wide-roles-and-policies-creation-methods_rosa-sts-about-iam-resources">Methods of account-wide role creation</a></p>
</li>
</ul>
</div>
<h3 id="rosa-sts-ocm-roles-and-permissions-iam-basic-role_rosa-sts-about-iam-resources" class="discrete">Creating an ocm-role IAM role</h3>
<div class="paragraph">
<p>You create your <code>ocm-role</code> IAM roles by using the command-line interface (CLI).</p>
</div>
<div class="ulist">
<div class="title">Prerequisites</div>
<ul>
<li>
<p>You have an AWS account.</p>
</li>
<li>
<p>You have Red&#160;Hat Organization Administrator privileges in the OpenShift Cluster Manager organization.</p>
</li>
<li>
<p>You have the permissions required to install AWS account-wide roles.</p>
</li>
<li>
<p>You have installed and configured the latest Red Hat OpenShift Service on AWS (ROSA) CLI, <code>rosa</code>, on your installation host.</p>
</li>
</ul>
</div>
<div class="ulist">
<div class="title">Procedure</div>
<ul>
<li>
<p>To create an ocm-role IAM role with basic privileges, run the following command:</p>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="terminal"><span class="gp">$</span><span class="w"> </span>rosa create ocm-role</code></pre>
</div>
</div>
</li>
<li>
<p>To create an ocm-role IAM role with admin privileges, run the following command:</p>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="terminal"><span class="gp">$</span><span class="w"> </span>rosa create ocm-role <span class="nt">--admin</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>This command allows you to create the role by specifying specific attributes. The following example output shows the "auto mode" selected, which lets the ROSA CLI (<code>rosa</code>) create your Operator roles and policies.
See "Methods of account-wide role creation" for more information.</p>
</div>
</li>
</ul>
</div>
<div class="listingblock">
<div class="title">Example output</div>
<div class="content">
<pre class="rouge highlight"><code data-lang="terminal"><span class="go">I: Creating ocm role
? Role prefix: ManagedOpenShift <i class="conum" data-value="1"></i><b>(1)</b>
? Enable admin capabilities for the OCM role (optional): No <i class="conum" data-value="2"></i><b>(2)</b>
? Permissions boundary ARN (optional): <i class="conum" data-value="3"></i><b>(3)</b>
? Role Path (optional): <i class="conum" data-value="4"></i><b>(4)</b>
? Role creation mode: auto <i class="conum" data-value="5"></i><b>(5)</b>
</span><span class="gp">I: Creating role using 'arn:aws:iam::&lt;ARN&gt;</span>:user/&lt;UserName&gt;<span class="s1">'
</span><span class="go">? Create the 'ManagedOpenShift-OCM-Role-182' role? Yes <i class="conum" data-value="6"></i><b>(6)</b>
</span><span class="gp">I: Created role 'ManagedOpenShift-OCM-Role-182' with ARN  'arn:aws:iam::&lt;ARN&gt;</span>:role/ManagedOpenShift-OCM-Role-182<span class="s1">'
</span><span class="go">I: Linking OCM role
</span><span class="gp">? OCM Role ARN: arn:aws:iam::&lt;ARN&gt;</span>:role/ManagedOpenShift-OCM-Role-182 <i class="conum" data-value="7"></i><b>(7)</b>
<span class="gp">? Link the 'arn:aws:iam::&lt;ARN&gt;</span>:role/ManagedOpenShift-OCM-Role-182<span class="s1">' role with organization '</span>&lt;AWS ARN&gt;<span class="s1">'? Yes <i class="conum" data-value="8"></i><b>(8)</b>
</span><span class="gp">I: Successfully linked role-arn 'arn:aws:iam::&lt;ARN&gt;</span><span class="s1">:role/ManagedOpenShift-OCM-Role-182'</span> with organization account <span class="s1">'&lt;AWS ARN&gt;'</span></code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>A prefix value for all of the created AWS resources. In this example, <code>ManagedOpenShift</code> prepends all of the AWS resources.</td>
</tr>
<tr>
<td><i class="conum" data-value="2"></i><b>2</b></td>
<td>Choose if you want this role to have the additional admin permissions.
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p>You do not see this prompt if you used the <code>--admin</code> option.</p>
</div>
</td>
</tr>
</table>
</div></td>
</tr>
<tr>
<td><i class="conum" data-value="3"></i><b>3</b></td>
<td>The Amazon Resource Name (ARN) of the policy to set permission boundaries.</td>
</tr>
<tr>
<td><i class="conum" data-value="4"></i><b>4</b></td>
<td>Specify an IAM path for the user name.</td>
</tr>
<tr>
<td><i class="conum" data-value="5"></i><b>5</b></td>
<td>Choose the method to create your AWS roles. Using <code>auto</code>, the ROSA CLI generates and links the roles and policies. In the <code>auto</code> mode, you receive some different prompts to create the AWS roles.</td>
</tr>
<tr>
<td><i class="conum" data-value="6"></i><b>6</b></td>
<td>The <code>auto</code> method asks if you want to create a specific <code>ocm-role</code> using your prefix.</td>
</tr>
<tr>
<td><i class="conum" data-value="7"></i><b>7</b></td>
<td>Confirm that you want to associate your IAM role with your OpenShift Cluster Manager.</td>
</tr>
<tr>
<td><i class="conum" data-value="8"></i><b>8</b></td>
<td>Links the created role with your AWS organization.</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>AWS IAM roles link to your AWS account to create and manage the clusters.</p>
</div>
<div id="additional-resources_about-iam-resources_rosa-sts-about-iam-resources" class="ulist _additional-resources">
<div class="title">Additional resources</div>
<ul>
<li>
<p><a href="https://docs.aws.amazon.com/IAM/latest/APIReference/API_Types.html">AWS Identity and Access Management Data Types</a></p>
</li>
<li>
<p><a href="https://docs.aws.amazon.com/AWSEC2/latest/APIReference/API_Types.html">Amazon Elastic Computer Cloud Data Types</a></p>
</li>
<li>
<p><a href="https://docs.aws.amazon.com/STS/latest/APIReference/API_Types.html">AWS Token Security Service Data Types</a></p>
</li>
<li>
<p><a href="../rosa_architecture/rosa-sts-about-iam-resources.html#rosa-sts-account-wide-roles-and-policies-creation-methods_rosa-sts-about-iam-resources">Methods of account-wide role creation</a></p>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="rosa-sts-account-wide-roles-and-policies_rosa-sts-about-iam-resources"><a class="anchor" href="#rosa-sts-account-wide-roles-and-policies_rosa-sts-about-iam-resources"></a>Account-wide IAM role and policy reference</h2>
<div class="sectionbody">
<div class="paragraph">
<p>This section provides details about the account-wide IAM roles and policies that are required for ROSA deployments that use STS, including the Operator policies. It also includes the JSON files that define the policies.</p>
</div>
<div class="paragraph">
<p>The account-wide roles and policies are specific to an Red Hat OpenShift Service on AWS minor release version, for example Red Hat OpenShift Service on AWS , and are compatible with earlier versions. You can minimize the required STS resources by reusing the account-wide roles and policies for multiple clusters of the same minor version, regardless of their patch version.</p>
</div>
<div class="sect2">
<h3 id="rosa-sts-account-wide-roles-and-policies-creation-methods_rosa-sts-about-iam-resources"><a class="anchor" href="#rosa-sts-account-wide-roles-and-policies-creation-methods_rosa-sts-about-iam-resources"></a>Methods of account-wide role creation</h3>
<div class="paragraph">
<p>You can create account-wide roles by using the Red Hat OpenShift Service on AWS (ROSA) CLI, <code>rosa</code>, or the <a href="https://console.redhat.com/openshift">OpenShift Cluster Manager</a> guided installation. You can create the roles manually or by using an automatic process that uses predefined names for these roles and policies.</p>
</div>
<h4 id="rosa-sts-account-wide-roles-and-policies-creation-methods-manual_rosa-sts-about-iam-resources" class="discrete">Manual ocm-role resource creation</h4>
<div class="paragraph">
<p>You can use the manual creation method if you have the necessary CLI access to create these roles on your system. You can run this option in your desired CLI tool or from OpenShift Cluster Manager. After you start the manual creation process, the CLI presents a series of commands for you to run that create the roles and link them to the needed policies.</p>
</div>
<h4 id="rosa-sts-account-wide-roles-and-policies-creation-methods-auto_rosa-sts-about-iam-resources" class="discrete">Automatic ocm-role resource creation</h4>
<div class="paragraph">
<p>If you created an <code>ocm-role</code> resource with administrative permissions, you can use the automatic creation method from OpenShift Cluster Manager. The ROSA CLI does not require that you have this admin <code>ocm-role</code> IAM resource to automatically create these roles and policies. Selecting this method creates the roles and policies that uses the default names.</p>
</div>
<div class="paragraph">
<p>If you use the ROSA guided installation on OpenShift Cluster Manager, you must have created an <code>ocm-role</code> resource with administrative permissions in the first step of the guided cluster installation. Without this role, you cannot use the automatic Operator role and policy creation option, but you can still create the cluster and its roles and policies with the manual process.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p>The account number present in the <code>sts_installer_trust_policy.json</code> and <code>sts_support_trust_policy.json</code> samples represents the Red&#160;Hat account that is allowed to assume the required roles.</p>
</div>
</td>
</tr>
</table>
</div>
<table class="tableblock frame-all grid-all stretch">
<caption class="title">Table 3. ROSA installer role, policy, and policy files</caption>
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 66.6667%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Resource</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>ManagedOpenShift-Installer-Role</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">An IAM role used by the ROSA installer.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>ManagedOpenShift-Installer-Role-Policy</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">An IAM policy that provides the ROSA installer with the permissions required to complete cluster installation tasks.</p></td>
</tr>
</tbody>
</table>
<details>
<summary class="title"><code>sts_installer_trust_policy.json</code></summary>
<div class="content">
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="json"><span class="p">{</span><span class="w">
    </span><span class="nl">"Version"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2012-10-17"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Statement"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nl">"Effect"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Allow"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"Principal"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                </span><span class="nl">"AWS"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
                    </span><span class="s2">"arn:aws:iam::%{aws_account_id}:role/RH-Managed-OpenShift-Installer"</span><span class="w">
                </span><span class="p">]</span><span class="w">
            </span><span class="p">},</span><span class="w">
            </span><span class="nl">"Action"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
                </span><span class="s2">"sts:AssumeRole"</span><span class="w">
            </span><span class="p">]</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">]</span><span class="w">
</span><span class="p">}</span></code></pre>
</div>
</div>
</div>
</details>
<details>
<summary class="title"><code>sts_installer_permission_policy.json</code></summary>
<div class="content">
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="json"><span class="p">{</span><span class="w">
    </span><span class="nl">"Version"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2012-10-17"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Statement"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nl">"Effect"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Allow"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"Action"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
                </span><span class="s2">"autoscaling:DescribeAutoScalingGroups"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"ec2:AllocateAddress"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"ec2:AssociateAddress"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"ec2:AssociateDhcpOptions"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"ec2:AssociateRouteTable"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"ec2:AttachInternetGateway"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"ec2:AttachNetworkInterface"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"ec2:AuthorizeSecurityGroupEgress"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"ec2:AuthorizeSecurityGroupIngress"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"ec2:CopyImage"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"ec2:CreateDhcpOptions"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"ec2:CreateInternetGateway"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"ec2:CreateNatGateway"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"ec2:CreateNetworkInterface"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"ec2:CreateRoute"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"ec2:CreateRouteTable"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"ec2:CreateSecurityGroup"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"ec2:CreateSubnet"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"ec2:CreateTags"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"ec2:CreateVolume"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"ec2:CreateVpc"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"ec2:CreateVpcEndpoint"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"ec2:DeleteDhcpOptions"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"ec2:DeleteInternetGateway"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"ec2:DeleteNatGateway"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"ec2:DeleteNetworkInterface"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"ec2:DeleteRoute"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"ec2:DeleteRouteTable"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"ec2:DeleteSecurityGroup"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"ec2:DeleteSnapshot"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"ec2:DeleteSubnet"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"ec2:DeleteTags"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"ec2:DeleteVolume"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"ec2:DeleteVpc"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"ec2:DeleteVpcEndpoints"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"ec2:DeregisterImage"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"ec2:DescribeAccountAttributes"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"ec2:DescribeAddresses"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"ec2:DescribeAvailabilityZones"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"ec2:DescribeDhcpOptions"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"ec2:DescribeImages"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"ec2:DescribeInstanceAttribute"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"ec2:DescribeInstanceCreditSpecifications"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"ec2:DescribeInstances"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"ec2:DescribeInstanceStatus"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"ec2:DescribeInstanceTypeOfferings"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"ec2:DescribeInstanceTypes"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"ec2:DescribeInternetGateways"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"ec2:DescribeKeyPairs"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"ec2:DescribeNatGateways"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"ec2:DescribeNetworkAcls"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"ec2:DescribeNetworkInterfaces"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"ec2:DescribePrefixLists"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"ec2:DescribeRegions"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"ec2:DescribeReservedInstancesOfferings"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"ec2:DescribeRouteTables"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"ec2:DescribeSecurityGroups"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"ec2:DescribeSecurityGroupRules"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"ec2:DescribeSubnets"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"ec2:DescribeTags"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"ec2:DescribeVolumes"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"ec2:DescribeVpcAttribute"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"ec2:DescribeVpcClassicLink"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"ec2:DescribeVpcClassicLinkDnsSupport"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"ec2:DescribeVpcEndpoints"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"ec2:DescribeVpcs"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"ec2:DetachInternetGateway"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"ec2:DisassociateRouteTable"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"ec2:GetConsoleOutput"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"ec2:GetEbsDefaultKmsKeyId"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"ec2:ModifyInstanceAttribute"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"ec2:ModifyNetworkInterfaceAttribute"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"ec2:ModifySubnetAttribute"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"ec2:ModifyVpcAttribute"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"ec2:ReleaseAddress"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"ec2:ReplaceRouteTableAssociation"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"ec2:RevokeSecurityGroupEgress"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"ec2:RevokeSecurityGroupIngress"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"ec2:RunInstances"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"ec2:StartInstances"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"ec2:StopInstances"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"ec2:TerminateInstances"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"elasticloadbalancing:AddTags"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"elasticloadbalancing:ApplySecurityGroupsToLoadBalancer"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"elasticloadbalancing:AttachLoadBalancerToSubnets"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"elasticloadbalancing:ConfigureHealthCheck"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"elasticloadbalancing:CreateListener"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"elasticloadbalancing:CreateLoadBalancer"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"elasticloadbalancing:CreateLoadBalancerListeners"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"elasticloadbalancing:CreateTargetGroup"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"elasticloadbalancing:DeleteLoadBalancer"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"elasticloadbalancing:DeleteTargetGroup"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"elasticloadbalancing:DeregisterInstancesFromLoadBalancer"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"elasticloadbalancing:DeregisterTargets"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"elasticloadbalancing:DescribeAccountLimits"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"elasticloadbalancing:DescribeInstanceHealth"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"elasticloadbalancing:DescribeListeners"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"elasticloadbalancing:DescribeLoadBalancerAttributes"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"elasticloadbalancing:DescribeLoadBalancers"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"elasticloadbalancing:DescribeTags"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"elasticloadbalancing:DescribeTargetGroupAttributes"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"elasticloadbalancing:DescribeTargetGroups"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"elasticloadbalancing:DescribeTargetHealth"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"elasticloadbalancing:ModifyLoadBalancerAttributes"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"elasticloadbalancing:ModifyTargetGroup"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"elasticloadbalancing:ModifyTargetGroupAttributes"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"elasticloadbalancing:RegisterInstancesWithLoadBalancer"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"elasticloadbalancing:RegisterTargets"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"elasticloadbalancing:SetLoadBalancerPoliciesOfListener"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"elasticloadbalancing:SetSecurityGroups"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"iam:AddRoleToInstanceProfile"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"iam:CreateInstanceProfile"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"iam:DeleteInstanceProfile"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"iam:GetInstanceProfile"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"iam:TagInstanceProfile"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"iam:GetRole"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"iam:GetRolePolicy"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"iam:GetUser"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"iam:ListAttachedRolePolicies"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"iam:ListInstanceProfiles"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"iam:ListInstanceProfilesForRole"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"iam:ListRolePolicies"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"iam:ListRoles"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"iam:ListUserPolicies"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"iam:ListUsers"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"iam:PassRole"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"iam:RemoveRoleFromInstanceProfile"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"iam:SimulatePrincipalPolicy"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"iam:TagRole"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"iam:UntagRole"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"route53:ChangeResourceRecordSets"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"route53:ChangeTagsForResource"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"route53:CreateHostedZone"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"route53:DeleteHostedZone"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"route53:GetAccountLimit"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"route53:GetChange"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"route53:GetHostedZone"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"route53:ListHostedZones"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"route53:ListHostedZonesByName"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"route53:ListResourceRecordSets"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"route53:ListTagsForResource"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"route53:UpdateHostedZoneComment"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"s3:CreateBucket"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"s3:DeleteBucket"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"s3:DeleteObject"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"s3:DeleteObjectVersion"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"s3:GetAccelerateConfiguration"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"s3:GetBucketAcl"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"s3:GetBucketCORS"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"s3:GetBucketLocation"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"s3:GetBucketLogging"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"s3:GetBucketObjectLockConfiguration"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"s3:GetBucketPolicy"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"s3:GetBucketRequestPayment"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"s3:GetBucketTagging"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"s3:GetBucketVersioning"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"s3:GetBucketWebsite"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"s3:GetEncryptionConfiguration"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"s3:GetLifecycleConfiguration"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"s3:GetObject"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"s3:GetObjectAcl"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"s3:GetObjectTagging"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"s3:GetObjectVersion"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"s3:GetReplicationConfiguration"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"s3:ListBucket"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"s3:ListBucketVersions"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"s3:PutBucketAcl"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"s3:PutBucketPolicy"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"s3:PutBucketTagging"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"s3:PutBucketVersioning"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"s3:PutEncryptionConfiguration"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"s3:PutObject"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"s3:PutObjectAcl"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"s3:PutObjectTagging"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"servicequotas:GetServiceQuota"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"servicequotas:ListAWSDefaultServiceQuotas"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"sts:AssumeRole"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"sts:AssumeRoleWithWebIdentity"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"sts:GetCallerIdentity"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"tag:GetResources"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"tag:UntagResources"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"ec2:CreateVpcEndpointServiceConfiguration"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"ec2:DeleteVpcEndpointServiceConfigurations"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"ec2:DescribeVpcEndpointServiceConfigurations"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"ec2:DescribeVpcEndpointServicePermissions"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"ec2:DescribeVpcEndpointServices"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"ec2:ModifyVpcEndpointServicePermissions"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"kms:DescribeKey"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"cloudwatch:GetMetricData"</span><span class="w">
            </span><span class="p">],</span><span class="w">
            </span><span class="nl">"Resource"</span><span class="p">:</span><span class="w"> </span><span class="s2">"*"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nl">"Effect"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Allow"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"Action"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
                </span><span class="s2">"secretsmanager:GetSecretValue"</span><span class="w">
            </span><span class="p">],</span><span class="w">
            </span><span class="nl">"Resource"</span><span class="p">:</span><span class="w"> </span><span class="s2">"*"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"Condition"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                </span><span class="nl">"StringEquals"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                    </span><span class="nl">"aws:ResourceTag/red-hat-managed"</span><span class="p">:</span><span class="w"> </span><span class="s2">"true"</span><span class="w">
                </span><span class="p">}</span><span class="w">
            </span><span class="p">}</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">]</span><span class="w">
</span><span class="p">}</span></code></pre>
</div>
</div>
</div>
</details>
<table class="tableblock frame-all grid-all stretch">
<caption class="title">Table 4. ROSA control plane role, policy, and policy files</caption>
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 66.6667%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Resource</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>ManagedOpenShift-ControlPlane-Role</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">An IAM role used by the ROSA control plane.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>ManagedOpenShift-ControlPlane-Role-Policy</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">An IAM policy that provides the ROSA control plane with the permissions required to manage its components.</p></td>
</tr>
</tbody>
</table>
<details>
<summary class="title"><code>sts_instance_controlplane_trust_policy.json</code></summary>
<div class="content">
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="json"><span class="p">{</span><span class="w">
    </span><span class="nl">"Version"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2012-10-17"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Statement"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nl">"Effect"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Allow"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"Principal"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                </span><span class="nl">"Service"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
                    </span><span class="s2">"ec2.amazonaws.com"</span><span class="w">
                </span><span class="p">]</span><span class="w">
            </span><span class="p">},</span><span class="w">
            </span><span class="nl">"Action"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
                </span><span class="s2">"sts:AssumeRole"</span><span class="w">
            </span><span class="p">]</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">]</span><span class="w">
</span><span class="p">}</span></code></pre>
</div>
</div>
</div>
</details>
<details>
<summary class="title"><code>sts_instance_controlplane_permission_policy.json</code></summary>
<div class="content">
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="json"><span class="p">{</span><span class="w">
    </span><span class="nl">"Version"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2012-10-17"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Statement"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nl">"Sid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ReadPermissions"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"Effect"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Allow"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"Action"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
                </span><span class="s2">"ec2:DescribeAvailabilityZones"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"ec2:DescribeInstances"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"ec2:DescribeRouteTables"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"ec2:DescribeSecurityGroups"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"ec2:DescribeSubnets"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"ec2:DescribeVpcs"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"elasticloadbalancing:DescribeLoadBalancers"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"elasticloadbalancing:DescribeLoadBalancerAttributes"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"elasticloadbalancing:DescribeListeners"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"elasticloadbalancing:DescribeTargetGroups"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"elasticloadbalancing:DescribeTargetHealth"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"elasticloadbalancing:DescribeLoadBalancerPolicies"</span><span class="w">
            </span><span class="p">],</span><span class="w">
            </span><span class="nl">"Resource"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
                </span><span class="s2">"*"</span><span class="w">
            </span><span class="p">]</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="p">{</span><span class="w">
          </span><span class="nl">"Sid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"KMSDescribeKey"</span><span class="p">,</span><span class="w">
          </span><span class="nl">"Effect"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Allow"</span><span class="p">,</span><span class="w">
          </span><span class="nl">"Action"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
              </span><span class="s2">"kms:DescribeKey"</span><span class="w">
          </span><span class="p">],</span><span class="w">
          </span><span class="nl">"Resource"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
              </span><span class="s2">"*"</span><span class="w">
          </span><span class="p">],</span><span class="w">
          </span><span class="nl">"Condition"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
              </span><span class="nl">"StringEquals"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                  </span><span class="nl">"aws:ResourceTag/red-hat"</span><span class="p">:</span><span class="w"> </span><span class="s2">"true"</span><span class="w">
              </span><span class="p">}</span><span class="w">
          </span><span class="p">}</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nl">"Effect"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Allow"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"Action"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
                </span><span class="s2">"ec2:AttachVolume"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"ec2:AuthorizeSecurityGroupIngress"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"ec2:CreateSecurityGroup"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"ec2:CreateTags"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"ec2:CreateVolume"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"ec2:DeleteSecurityGroup"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"ec2:DeleteVolume"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"ec2:DetachVolume"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"ec2:ModifyInstanceAttribute"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"ec2:ModifyVolume"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"ec2:RevokeSecurityGroupIngress"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"elasticloadbalancing:AddTags"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"elasticloadbalancing:AttachLoadBalancerToSubnets"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"elasticloadbalancing:ApplySecurityGroupsToLoadBalancer"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"elasticloadbalancing:CreateListener"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"elasticloadbalancing:CreateLoadBalancer"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"elasticloadbalancing:CreateLoadBalancerPolicy"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"elasticloadbalancing:CreateLoadBalancerListeners"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"elasticloadbalancing:CreateTargetGroup"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"elasticloadbalancing:ConfigureHealthCheck"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"elasticloadbalancing:DeleteListener"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"elasticloadbalancing:DeleteLoadBalancer"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"elasticloadbalancing:DeleteLoadBalancerListeners"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"elasticloadbalancing:DeleteTargetGroup"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"elasticloadbalancing:DeregisterInstancesFromLoadBalancer"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"elasticloadbalancing:DeregisterTargets"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"elasticloadbalancing:DetachLoadBalancerFromSubnets"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"elasticloadbalancing:ModifyListener"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"elasticloadbalancing:ModifyLoadBalancerAttributes"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"elasticloadbalancing:ModifyTargetGroup"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"elasticloadbalancing:ModifyTargetGroupAttributes"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"elasticloadbalancing:RegisterInstancesWithLoadBalancer"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"elasticloadbalancing:RegisterTargets"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"elasticloadbalancing:SetLoadBalancerPoliciesForBackendServer"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"elasticloadbalancing:SetLoadBalancerPoliciesOfListener"</span><span class="w">
            </span><span class="p">],</span><span class="w">
            </span><span class="nl">"Resource"</span><span class="p">:</span><span class="w"> </span><span class="s2">"*"</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">]</span><span class="w">
</span><span class="p">}</span></code></pre>
</div>
</div>
</div>
</details>
<table class="tableblock frame-all grid-all stretch">
<caption class="title">Table 5. ROSA compute node role, policy, and policy files</caption>
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 66.6667%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Resource</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>ManagedOpenShift-Worker-Role</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">An IAM role used by the ROSA compute instances.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>ManagedOpenShift-Worker-Role-Policy</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">An IAM policy that provides the ROSA compute instances with the permissions required to manage their components.</p></td>
</tr>
</tbody>
</table>
<details>
<summary class="title"><code>sts_instance_worker_trust_policy.json</code></summary>
<div class="content">
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="json"><span class="p">{</span><span class="w">
    </span><span class="nl">"Version"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2012-10-17"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Statement"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nl">"Effect"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Allow"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"Principal"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                </span><span class="nl">"Service"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
                    </span><span class="s2">"ec2.amazonaws.com"</span><span class="w">
                </span><span class="p">]</span><span class="w">
            </span><span class="p">},</span><span class="w">
            </span><span class="nl">"Action"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
                </span><span class="s2">"sts:AssumeRole"</span><span class="w">
            </span><span class="p">]</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">]</span><span class="w">
</span><span class="p">}</span></code></pre>
</div>
</div>
</div>
</details>
<details>
<summary class="title"><code>sts_instance_worker_permission_policy.json</code></summary>
<div class="content">
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="json"><span class="p">{</span><span class="w">
    </span><span class="nl">"Version"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2012-10-17"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Statement"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nl">"Effect"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Allow"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"Action"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
                </span><span class="s2">"ec2:DescribeInstances"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"ec2:DescribeRegions"</span><span class="w">
            </span><span class="p">],</span><span class="w">
            </span><span class="nl">"Resource"</span><span class="p">:</span><span class="w"> </span><span class="s2">"*"</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">]</span><span class="w">
</span><span class="p">}</span></code></pre>
</div>
</div>
</div>
</details>
<table class="tableblock frame-all grid-all stretch">
<caption class="title">Table 6. ROSA support role, policy, and policy files</caption>
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 66.6667%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Resource</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>ManagedOpenShift-Support-Role</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">An IAM role used by the Red&#160;Hat Site Reliability Engineering (SRE) support team.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>ManagedOpenShift-Support-Role-Policy</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">An IAM policy that provides the Red&#160;Hat SRE support team with the permissions required to support ROSA clusters.</p></td>
</tr>
</tbody>
</table>
<details>
<summary class="title"><code>sts_support_trust_policy.json</code></summary>
<div class="content">
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="json"><span class="p">{</span><span class="w">
    </span><span class="nl">"Version"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2012-10-17"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Statement"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nl">"Effect"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Allow"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"Principal"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                </span><span class="nl">"AWS"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
                    </span><span class="s2">"arn:aws:iam::%{aws_account_id}:role/RH-Technical-Support-Access"</span><span class="w">
                </span><span class="p">]</span><span class="w">
            </span><span class="p">},</span><span class="w">
            </span><span class="nl">"Action"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
                </span><span class="s2">"sts:AssumeRole"</span><span class="w">
            </span><span class="p">]</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">]</span><span class="w">
</span><span class="p">}</span></code></pre>
</div>
</div>
</div>
</details>
<details>
<summary class="title"><code>sts_support_permission_policy.json</code></summary>
<div class="content">
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="json"><span class="p">{</span><span class="w">
    </span><span class="nl">"Version"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2012-10-17"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Statement"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nl">"Effect"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Allow"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"Action"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
                </span><span class="s2">"cloudtrail:DescribeTrails"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"cloudtrail:LookupEvents"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"cloudwatch:GetMetricData"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"cloudwatch:GetMetricStatistics"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"cloudwatch:ListMetrics"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"ec2-instance-connect:SendSerialConsoleSSHPublicKey"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"ec2:CopySnapshot"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"ec2:CreateNetworkInsightsPath"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"ec2:CreateSnapshot"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"ec2:CreateSnapshots"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"ec2:CreateTags"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"ec2:DeleteNetworkInsightsAnalysis"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"ec2:DeleteNetworkInsightsPath"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"ec2:DeleteTags"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"ec2:DescribeAccountAttributes"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"ec2:DescribeAddresses"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"ec2:DescribeAddressesAttribute"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"ec2:DescribeAggregateIdFormat"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"ec2:DescribeAvailabilityZones"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"ec2:DescribeByoipCidrs"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"ec2:DescribeCapacityReservations"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"ec2:DescribeCarrierGateways"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"ec2:DescribeClassicLinkInstances"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"ec2:DescribeClientVpnAuthorizationRules"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"ec2:DescribeClientVpnConnections"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"ec2:DescribeClientVpnEndpoints"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"ec2:DescribeClientVpnRoutes"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"ec2:DescribeClientVpnTargetNetworks"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"ec2:DescribeCoipPools"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"ec2:DescribeCustomerGateways"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"ec2:DescribeDhcpOptions"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"ec2:DescribeEgressOnlyInternetGateways"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"ec2:DescribeIamInstanceProfileAssociations"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"ec2:DescribeIdentityIdFormat"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"ec2:DescribeIdFormat"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"ec2:DescribeImageAttribute"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"ec2:DescribeImages"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"ec2:DescribeInstanceAttribute"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"ec2:DescribeInstances"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"ec2:DescribeInstanceStatus"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"ec2:DescribeInstanceTypeOfferings"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"ec2:DescribeInstanceTypes"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"ec2:DescribeInternetGateways"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"ec2:DescribeIpv6Pools"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"ec2:DescribeKeyPairs"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"ec2:DescribeLaunchTemplates"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"ec2:DescribeLocalGatewayRouteTables"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"ec2:DescribeLocalGatewayRouteTableVirtualInterfaceGroupAssociations"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"ec2:DescribeLocalGatewayRouteTableVpcAssociations"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"ec2:DescribeLocalGateways"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"ec2:DescribeLocalGatewayVirtualInterfaceGroups"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"ec2:DescribeLocalGatewayVirtualInterfaces"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"ec2:DescribeManagedPrefixLists"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"ec2:DescribeNatGateways"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"ec2:DescribeNetworkAcls"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"ec2:DescribeNetworkInsightsAnalyses"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"ec2:DescribeNetworkInsightsPaths"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"ec2:DescribeNetworkInterfaces"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"ec2:DescribePlacementGroups"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"ec2:DescribePrefixLists"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"ec2:DescribePrincipalIdFormat"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"ec2:DescribePublicIpv4Pools"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"ec2:DescribeRegions"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"ec2:DescribeReservedInstances"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"ec2:DescribeRouteTables"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"ec2:DescribeScheduledInstances"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"ec2:DescribeSecurityGroupReferences"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"ec2:DescribeSecurityGroupRules"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"ec2:DescribeSecurityGroups"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"ec2:DescribeSnapshotAttribute"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"ec2:DescribeSnapshots"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"ec2:DescribeSpotFleetInstances"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"ec2:DescribeStaleSecurityGroups"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"ec2:DescribeSubnets"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"ec2:DescribeTags"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"ec2:DescribeTransitGatewayAttachments"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"ec2:DescribeTransitGatewayConnectPeers"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"ec2:DescribeTransitGatewayConnects"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"ec2:DescribeTransitGatewayMulticastDomains"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"ec2:DescribeTransitGatewayPeeringAttachments"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"ec2:DescribeTransitGatewayRouteTables"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"ec2:DescribeTransitGateways"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"ec2:DescribeTransitGatewayVpcAttachments"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"ec2:DescribeVolumeAttribute"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"ec2:DescribeVolumes"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"ec2:DescribeVolumesModifications"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"ec2:DescribeVolumeStatus"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"ec2:DescribeVpcAttribute"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"ec2:DescribeVpcClassicLink"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"ec2:DescribeVpcClassicLinkDnsSupport"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"ec2:DescribeVpcEndpointConnectionNotifications"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"ec2:DescribeVpcEndpointConnections"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"ec2:DescribeVpcEndpoints"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"ec2:DescribeVpcEndpointServiceConfigurations"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"ec2:DescribeVpcEndpointServicePermissions"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"ec2:DescribeVpcEndpointServices"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"ec2:DescribeVpcPeeringConnections"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"ec2:DescribeVpcs"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"ec2:DescribeVpnConnections"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"ec2:DescribeVpnGateways"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"ec2:GetAssociatedIpv6PoolCidrs"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"ec2:GetConsoleOutput"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"ec2:GetManagedPrefixListEntries"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"ec2:GetSerialConsoleAccessStatus"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"ec2:GetTransitGatewayAttachmentPropagations"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"ec2:GetTransitGatewayMulticastDomainAssociations"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"ec2:GetTransitGatewayPrefixListReferences"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"ec2:GetTransitGatewayRouteTableAssociations"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"ec2:GetTransitGatewayRouteTablePropagations"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"ec2:ModifyInstanceAttribute"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"ec2:RebootInstances"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"ec2:RunInstances"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"ec2:SearchLocalGatewayRoutes"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"ec2:SearchTransitGatewayMulticastGroups"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"ec2:SearchTransitGatewayRoutes"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"ec2:StartInstances"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"ec2:StartNetworkInsightsAnalysis"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"ec2:StopInstances"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"ec2:TerminateInstances"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"elasticloadbalancing:ConfigureHealthCheck"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"elasticloadbalancing:DescribeAccountLimits"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"elasticloadbalancing:DescribeInstanceHealth"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"elasticloadbalancing:DescribeListenerCertificates"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"elasticloadbalancing:DescribeListeners"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"elasticloadbalancing:DescribeLoadBalancerAttributes"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"elasticloadbalancing:DescribeLoadBalancerPolicies"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"elasticloadbalancing:DescribeLoadBalancerPolicyTypes"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"elasticloadbalancing:DescribeLoadBalancers"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"elasticloadbalancing:DescribeRules"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"elasticloadbalancing:DescribeSSLPolicies"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"elasticloadbalancing:DescribeTags"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"elasticloadbalancing:DescribeTargetGroupAttributes"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"elasticloadbalancing:DescribeTargetGroups"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"elasticloadbalancing:DescribeTargetHealth"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"iam:GetRole"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"iam:ListRoles"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"kms:CreateGrant"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"route53:GetHostedZone"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"route53:GetHostedZoneCount"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"route53:ListHostedZones"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"route53:ListHostedZonesByName"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"route53:ListResourceRecordSets"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"s3:GetBucketTagging"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"s3:GetObjectAcl"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"s3:GetObjectTagging"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"s3:ListAllMyBuckets"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"sts:DecodeAuthorizationMessage"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"tiros:CreateQuery"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"tiros:GetQueryAnswer"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"tiros:GetQueryExplanation"</span><span class="w">
            </span><span class="p">],</span><span class="w">
            </span><span class="nl">"Resource"</span><span class="p">:</span><span class="w"> </span><span class="s2">"*"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nl">"Effect"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Allow"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"Action"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
                </span><span class="s2">"s3:ListBucket"</span><span class="w">
            </span><span class="p">],</span><span class="w">
            </span><span class="nl">"Resource"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
                </span><span class="s2">"arn:aws:s3:::managed-velero*"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"arn:aws:s3:::*image-registry*"</span><span class="w">
            </span><span class="p">]</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">]</span><span class="w">
</span><span class="p">}</span></code></pre>
</div>
</div>
</div>
</details>
<table class="tableblock frame-all grid-all stretch">
<caption class="title">Table 7. ROSA OCM role and policy file</caption>
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 66.6667%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Resource</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>ManagedOpenShift-OCM-Role</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">You use this IAM role to create and maintain ROSA clusters in  OpenShift Cluster Manager.</p></td>
</tr>
</tbody>
</table>
<details>
<summary class="title"><code>sts_ocm_role_trust_policy.json</code></summary>
<div class="content">
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="json"><span class="p">{</span><span class="w">
  </span><span class="nl">"Version"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2012-10-17"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"Statement"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nl">"Effect"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Allow"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"Principal"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"AWS"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
          </span><span class="s2">"arn:aws:iam::%{aws_account_id}:role/RH-Managed-OpenShift-Installer"</span><span class="w">
        </span><span class="p">]</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="nl">"Action"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="s2">"sts:AssumeRole"</span><span class="w">
      </span><span class="p">],</span><span class="w">
      </span><span class="nl">"Condition"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="nl">"StringEquals"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="nl">"sts:ExternalId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"%{ocm_organization_id}"</span><span class="p">}}</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">]</span><span class="w">
</span><span class="p">}</span></code></pre>
</div>
</div>
</div>
</details>
<table class="tableblock frame-all grid-all stretch">
<caption class="title">Table 8. ROSA user role and policy file</caption>
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 66.6667%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Resource</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>ManagedOpenShift-User-&lt;OCM_user&gt;-Role</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">An IAM role used by Red&#160;Hat to verify the customer&#8217;s AWS identity.</p></td>
</tr>
</tbody>
</table>
<details>
<summary class="title"><code>sts_user_role_trust_policy.json</code></summary>
<div class="content">
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="json"><span class="p">{</span><span class="w">
    </span><span class="nl">"Version"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2012-10-17"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Statement"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nl">"Effect"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Allow"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"Principal"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                </span><span class="nl">"AWS"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
                    </span><span class="s2">"arn:aws:iam::%{aws_account_id}:role/RH-Managed-OpenShift-Installer"</span><span class="w">
                </span><span class="p">]</span><span class="w">
            </span><span class="p">},</span><span class="w">
            </span><span class="nl">"Action"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
                </span><span class="s2">"sts:AssumeRole"</span><span class="w">
            </span><span class="p">]</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">]</span><span class="w">
</span><span class="p">}</span></code></pre>
</div>
</div>
</div>
</details>
<h5 id="rosa-sts-account-wide-roles-and-policies-example-cli-output-for-policies-attached-to-a-role_rosa-sts-about-iam-resources" class="discrete">Example CLI output for policies attached to a role</h5>
<div class="paragraph">
<p>When a policy is attached to a role, the ROSA CLI displays a confirmation output. The output depends on the type of policy.</p>
</div>
<div class="ulist">
<ul>
<li>
<p>If the policy is a trust policy, the ROSA CLI outputs the role name and the content of the policy.</p>
<div class="ulist">
<ul>
<li>
<p>For the target role with policy attached, ROSA CLI outputs the role name and the console URL of the target role.</p>
<div class="listingblock">
<div class="title">Target role with policy attached example output</div>
<div class="content">
<pre class="rouge highlight"><code data-lang="terminal"><span class="gp">I: Attached trust policy to role 'testrole-Worker-Role(https://console.aws.amazon.com/iam/home?#</span>/roles/testrole-Worker-Role<span class="o">)</span><span class="s1">': ******************</span></code></pre>
</div>
</div>
</li>
<li>
<p>If the attached policy is a trust policy, the ROSA CLI outputs the content of this policy.</p>
<div class="listingblock">
<div class="title">Trust policy example output</div>
<div class="content">
<pre class="rouge highlight"><code data-lang="terminal"><span class="go">I: Attached trust policy to role 'test-Support-Role': {"Version": "2012-10-17", "Statement": [{"Action": ["sts:AssumeRole"], "Effect": "Allow", "Principal": {"AWS": ["arn:aws:iam::000000000000:role/RH-Technical-Support-00000000"]}}]}</span></code></pre>
</div>
</div>
</li>
</ul>
</div>
</li>
<li>
<p>If the policy is a permission policy, the ROSA CLI outputs the name and public link of this policy or the ARN depending on whether or not the policy is an AWS managed policy or customer-managed policy.</p>
<div class="ulist">
<ul>
<li>
<p>If the attached policy is an AWS managed policy, the ROSA CLI outputs the name and public link of this policy and the role it is attached to.</p>
<div class="listingblock">
<div class="title">AWS managed policy example output</div>
<div class="content">
<pre class="rouge highlight"><code data-lang="terminal"><span class="gp">I: Attached policy 'ROSASRESupportPolicy(https://docs.aws.amazon.com/aws-managed-policy/latest/reference/ROSASRESupportPolicy)' to role 'test-HCP-ROSA-Support-Role(https://console.aws.amazon.com/iam/home?#</span>/roles/test-HCP-ROSA-Support-Role<span class="o">)</span><span class="s1">'</span></code></pre>
</div>
</div>
</li>
<li>
<p>If the attached policy is an AWS managed policy, the ROSA CLI outputs the name and public link of this policy and the role it is attached to.</p>
<div class="listingblock">
<div class="title">Customer-managed policy example output</div>
<div class="content">
<pre class="rouge highlight"><code data-lang="terminal"><span class="gp">I: Attached policy 'arn:aws:iam::000000000000:policy/testrole-Worker-Role-Policy' to role 'testrole-Worker-Role(https://console.aws.amazon.com/iam/home?#</span>/roles/testrole-Worker-Role<span class="o">)</span><span class="s1">'</span></code></pre>
</div>
</div>
</li>
</ul>
</div>
</li>
</ul>
</div>
<table class="tableblock frame-all grid-all stretch">
<caption class="title">Table 9. ROSA Ingress Operator IAM policy and policy file</caption>
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 66.6667%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Resource</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>ManagedOpenShift-openshift-ingress-operator-cloud-credentials</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">An IAM policy that provides the ROSA Ingress Operator with the permissions required to manage external access to a cluster.</p></td>
</tr>
</tbody>
</table>
<details>
<summary class="title"><code>openshift_ingress_operator_cloud_credentials_policy.json</code></summary>
<div class="content">
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="json"><span class="p">{</span><span class="w">
  </span><span class="nl">"Version"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2012-10-17"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"Statement"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nl">"Effect"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Allow"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"Action"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="s2">"elasticloadbalancing:DescribeLoadBalancers"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"route53:ListHostedZones"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"route53:ListTagsForResources"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"route53:ChangeResourceRecordSets"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"tag:GetResources"</span><span class="w">
      </span><span class="p">],</span><span class="w">
      </span><span class="nl">"Resource"</span><span class="p">:</span><span class="w"> </span><span class="s2">"*"</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">]</span><span class="w">
</span><span class="p">}</span></code></pre>
</div>
</div>
</div>
</details>
<table class="tableblock frame-all grid-all stretch">
<caption class="title">Table 10. ROSA back-end storage IAM policy and policy file</caption>
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 66.6667%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Resource</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>ManagedOpenShift-openshift-cluster-csi-drivers-ebs-cloud-credentials</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">An IAM policy required by ROSA to manage back-end storage through the Container Storage Interface (CSI).</p></td>
</tr>
</tbody>
</table>
<details>
<summary class="title"><code>openshift_cluster_csi_drivers_ebs_cloud_credentials_policy.json</code></summary>
<div class="content">
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="json"><span class="p">{</span><span class="w">
  </span><span class="nl">"Version"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2012-10-17"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"Statement"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nl">"Effect"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Allow"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"Action"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="s2">"ec2:AttachVolume"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"ec2:CreateSnapshot"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"ec2:CreateTags"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"ec2:CreateVolume"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"ec2:DeleteSnapshot"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"ec2:DeleteTags"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"ec2:DeleteVolume"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"ec2:DescribeAvailabilityZones"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"ec2:DescribeInstances"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"ec2:DescribeSnapshots"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"ec2:DescribeTags"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"ec2:DescribeVolumes"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"ec2:DescribeVolumesModifications"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"ec2:DetachVolume"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"ec2:EnableFastSnapshotRestores"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"ec2:ModifyVolume"</span><span class="w">
      </span><span class="p">],</span><span class="w">
      </span><span class="nl">"Resource"</span><span class="p">:</span><span class="w"> </span><span class="s2">"*"</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">]</span><span class="w">
</span><span class="p">}</span></code></pre>
</div>
</div>
</div>
</details>
<table class="tableblock frame-all grid-all stretch">
<caption class="title">Table 11. ROSA Machine Config Operator policy and policy file</caption>
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 66.6667%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Resource</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>ManagedOpenShift-openshift-machine-api-aws-cloud-credentials</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">An IAM policy that provides the ROSA Machine Config Operator with the permissions required to perform core cluster functionality.</p></td>
</tr>
</tbody>
</table>
<details>
<summary class="title"><code>openshift_machine_api_aws_cloud_credentials_policy.json</code></summary>
<div class="content">
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="json"><span class="p">{</span><span class="w">
  </span><span class="nl">"Version"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2012-10-17"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"Statement"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nl">"Effect"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Allow"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"Action"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="s2">"ec2:CreateTags"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"ec2:DescribeAvailabilityZones"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"ec2:DescribeDhcpOptions"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"ec2:DescribeImages"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"ec2:DescribeInstances"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"ec2:DescribeInternetGateways"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"ec2:DescribeInstanceTypes"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"ec2:DescribeSecurityGroups"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"ec2:DescribeRegions"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"ec2:DescribeSubnets"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"ec2:DescribeVpcs"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"ec2:RunInstances"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"ec2:TerminateInstances"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"elasticloadbalancing:DescribeLoadBalancers"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"elasticloadbalancing:DescribeTargetGroups"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"elasticloadbalancing:DescribeTargetHealth"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"elasticloadbalancing:RegisterInstancesWithLoadBalancer"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"elasticloadbalancing:RegisterTargets"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"elasticloadbalancing:DeregisterTargets"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"iam:PassRole"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"iam:CreateServiceLinkedRole"</span><span class="w">
      </span><span class="p">],</span><span class="w">
      </span><span class="nl">"Resource"</span><span class="p">:</span><span class="w"> </span><span class="s2">"*"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nl">"Effect"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Allow"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"Action"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="s2">"kms:Decrypt"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"kms:Encrypt"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"kms:GenerateDataKey"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"kms:GenerateDataKeyWithoutPlainText"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"kms:DescribeKey"</span><span class="w">
      </span><span class="p">],</span><span class="w">
      </span><span class="nl">"Resource"</span><span class="p">:</span><span class="w"> </span><span class="s2">"*"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nl">"Effect"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Allow"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"Action"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="s2">"kms:RevokeGrant"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"kms:CreateGrant"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"kms:ListGrants"</span><span class="w">
      </span><span class="p">],</span><span class="w">
      </span><span class="nl">"Resource"</span><span class="p">:</span><span class="w"> </span><span class="s2">"*"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"Condition"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"Bool"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="nl">"kms:GrantIsForAWSResource"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">
        </span><span class="p">}</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">]</span><span class="w">
</span><span class="p">}</span></code></pre>
</div>
</div>
</div>
</details>
<table class="tableblock frame-all grid-all stretch">
<caption class="title">Table 12. ROSA Cloud Credential Operator policy and policy file</caption>
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 66.6667%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Resource</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>ManagedOpenShift-openshift-cloud-credential-operator-cloud-credentials</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">An IAM policy that provides the ROSA Cloud Credential Operator with the permissions required to manage cloud provider credentials.</p></td>
</tr>
</tbody>
</table>
<details>
<summary class="title"><code>openshift_cloud_credential_operator_cloud_credential_operator_iam_ro_creds_policy.json</code></summary>
<div class="content">
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="json"><span class="p">{</span><span class="w">
  </span><span class="nl">"Version"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2012-10-17"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"Statement"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nl">"Effect"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Allow"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"Action"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="s2">"iam:GetUser"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"iam:GetUserPolicy"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"iam:ListAccessKeys"</span><span class="w">
      </span><span class="p">],</span><span class="w">
      </span><span class="nl">"Resource"</span><span class="p">:</span><span class="w"> </span><span class="s2">"*"</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">]</span><span class="w">
</span><span class="p">}</span></code></pre>
</div>
</div>
</div>
</details>
<table class="tableblock frame-all grid-all stretch">
<caption class="title">Table 13. ROSA Image Registry Operator policy and policy file</caption>
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 66.6667%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Resource</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>ManagedOpenShift-openshift-image-registry-installer-cloud-credentials</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">An IAM policy that provides the ROSA Image Registry Operator with the permissions required to manage the OpenShift image registry storage in AWS S3 for a cluster.</p></td>
</tr>
</tbody>
</table>
<details>
<summary class="title"><code>openshift_image_registry_installer_cloud_credentials_policy.json</code></summary>
<div class="content">
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="json"><span class="p">{</span><span class="w">
  </span><span class="nl">"Version"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2012-10-17"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"Statement"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nl">"Effect"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Allow"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"Action"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="s2">"s3:CreateBucket"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"s3:DeleteBucket"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"s3:PutBucketTagging"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"s3:GetBucketTagging"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"s3:PutBucketPublicAccessBlock"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"s3:GetBucketPublicAccessBlock"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"s3:PutEncryptionConfiguration"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"s3:GetEncryptionConfiguration"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"s3:PutLifecycleConfiguration"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"s3:GetLifecycleConfiguration"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"s3:GetBucketLocation"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"s3:ListBucket"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"s3:GetObject"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"s3:PutObject"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"s3:DeleteObject"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"s3:ListBucketMultipartUploads"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"s3:AbortMultipartUpload"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"s3:ListMultipartUploadParts"</span><span class="w">
      </span><span class="p">],</span><span class="w">
      </span><span class="nl">"Resource"</span><span class="p">:</span><span class="w"> </span><span class="s2">"*"</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">]</span><span class="w">
</span><span class="p">}</span></code></pre>
</div>
</div>
</div>
</details>
<div class="ulist _additional-resources">
<div class="title">Additional resources</div>
<ul>
<li>
<p><a href="../rosa_architecture/rosa_policy_service_definition/rosa-hcp-life-cycle.html#rosa-hcp-life-cycle">ROSA with HCP update life cycle</a></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="rosa-sts-account-wide-role-and-policy-aws-cli_rosa-sts-about-iam-resources"><a class="anchor" href="#rosa-sts-account-wide-role-and-policy-aws-cli_rosa-sts-about-iam-resources"></a>Account-wide IAM role and policy AWS CLI reference</h3>
<div class="paragraph">
<p>This section lists the <code>aws</code> CLI commands that the <code>rosa</code> command generates in the terminal. You can run the command in either manual or automatic mode.</p>
</div>
<h4 id="rosa-sts-account-wide-role-and-policy-aws-cli-manual-mode_rosa-sts-about-iam-resources" class="discrete">Using manual mode for account role creation</h4>
<div class="paragraph">
<p>The manual role creation mode generates the <code>aws</code> commands for you to review and run. The following command starts that process, where <code>&lt;openshift_version&gt;</code> refers to your version of Red Hat OpenShift Service on AWS (ROSA), such as <code></code>.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="terminal"><span class="gp">$</span><span class="w"> </span>rosa create account-roles <span class="nt">--mode</span> manual</code></pre>
</div>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p>The provided command examples include the <code>ManagedOpenShift</code> prefix. The <code>ManagedOpenShift</code> prefix is the default value, if you do not specify a custom prefix by using the <code>--prefix</code> option.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="listingblock">
<div class="title">Command output</div>
<div class="content">
<pre class="rouge highlight"><code data-lang="terminal"><span class="gp">aws iam create-role \
	--role-name ManagedOpenShift-Installer-Role \
	--assume-role-policy-document file://sts_installer_trust_policy.json \
	--tags Key=rosa_openshift_version,Value=&lt;openshift_version&gt;</span><span class="w"> </span><span class="nv">Key</span><span class="o">=</span>rosa_role_prefix,Value<span class="o">=</span>ManagedOpenShift <span class="nv">Key</span><span class="o">=</span>rosa_role_type,Value<span class="o">=</span>installer
<span class="go">
aws iam put-role-policy \
	--role-name ManagedOpenShift-Installer-Role \
	--policy-name ManagedOpenShift-Installer-Role-Policy \
	--policy-document file://sts_installer_permission_policy.json

</span><span class="gp">aws iam create-role \
	--role-name ManagedOpenShift-ControlPlane-Role \
	--assume-role-policy-document file://sts_instance_controlplane_trust_policy.json \
	--tags Key=rosa_openshift_version,Value=&lt;openshift_version&gt;</span><span class="w"> </span><span class="nv">Key</span><span class="o">=</span>rosa_role_prefix,Value<span class="o">=</span>ManagedOpenShift <span class="nv">Key</span><span class="o">=</span>rosa_role_type,Value<span class="o">=</span>instance_controlplane
<span class="go">
aws iam put-role-policy \
	--role-name ManagedOpenShift-ControlPlane-Role \
	--policy-name ManagedOpenShift-ControlPlane-Role-Policy \
	--policy-document file://sts_instance_controlplane_permission_policy.json

</span><span class="gp">aws iam create-role \
	--role-name ManagedOpenShift-Worker-Role \
	--assume-role-policy-document file://sts_instance_worker_trust_policy.json \
	--tags Key=rosa_openshift_version,Value=&lt;openshift_version&gt;</span><span class="w"> </span><span class="nv">Key</span><span class="o">=</span>rosa_role_prefix,Value<span class="o">=</span>ManagedOpenShift <span class="nv">Key</span><span class="o">=</span>rosa_role_type,Value<span class="o">=</span>instance_worker
<span class="go">
aws iam put-role-policy \
	--role-name ManagedOpenShift-Worker-Role \
	--policy-name ManagedOpenShift-Worker-Role-Policy \
	--policy-document file://sts_instance_worker_permission_policy.json

</span><span class="gp">aws iam create-role \
	--role-name ManagedOpenShift-Support-Role \
	--assume-role-policy-document file://sts_support_trust_policy.json \
	--tags Key=rosa_openshift_version,Value=&lt;openshift_version&gt;</span><span class="w"> </span><span class="nv">Key</span><span class="o">=</span>rosa_role_prefix,Value<span class="o">=</span>ManagedOpenShift <span class="nv">Key</span><span class="o">=</span>rosa_role_type,Value<span class="o">=</span>support
<span class="go">
aws iam put-role-policy \
	--role-name ManagedOpenShift-Support-Role \
	--policy-name ManagedOpenShift-Support-Role-Policy \
	--policy-document file://sts_support_permission_policy.json

</span><span class="gp">aws iam create-policy \
	--policy-name ManagedOpenShift-openshift-ingress-operator-cloud-credentials \
	--policy-document file://openshift_ingress_operator_cloud_credentials_policy.json \
	--tags Key=rosa_openshift_version,Value=&lt;openshift_version&gt;</span><span class="w"> </span><span class="nv">Key</span><span class="o">=</span>rosa_role_prefix,Value<span class="o">=</span>ManagedOpenShift <span class="nv">Key</span><span class="o">=</span>operator_namespace,Value<span class="o">=</span>openshift-ingress-operator <span class="nv">Key</span><span class="o">=</span>operator_name,Value<span class="o">=</span>cloud-credentials
<span class="go">
</span><span class="gp">aws iam create-policy \
	--policy-name ManagedOpenShift-openshift-cluster-csi-drivers-ebs-cloud-credent \
	--policy-document file://openshift_cluster_csi_drivers_ebs_cloud_credentials_policy.json \
	--tags Key=rosa_openshift_version,Value=&lt;openshift_version&gt;</span><span class="w"> </span><span class="nv">Key</span><span class="o">=</span>rosa_role_prefix,Value<span class="o">=</span>ManagedOpenShift <span class="nv">Key</span><span class="o">=</span>operator_namespace,Value<span class="o">=</span>openshift-cluster-csi-drivers <span class="nv">Key</span><span class="o">=</span>operator_name,Value<span class="o">=</span>ebs-cloud-credentials
<span class="go">
</span><span class="gp">aws iam create-policy \
	--policy-name ManagedOpenShift-openshift-machine-api-aws-cloud-credentials \
	--policy-document file://openshift_machine_api_aws_cloud_credentials_policy.json \
	--tags Key=rosa_openshift_version,Value=&lt;openshift_version&gt;</span><span class="w"> </span><span class="nv">Key</span><span class="o">=</span>rosa_role_prefix,Value<span class="o">=</span>ManagedOpenShift <span class="nv">Key</span><span class="o">=</span>operator_namespace,Value<span class="o">=</span>openshift-machine-api <span class="nv">Key</span><span class="o">=</span>operator_name,Value<span class="o">=</span>aws-cloud-credentials
<span class="go">
</span><span class="gp">aws iam create-policy \
	--policy-name ManagedOpenShift-openshift-cloud-credential-operator-cloud-crede \
	--policy-document file://openshift_cloud_credential_operator_cloud_credential_operator_iam_ro_creds_policy.json \
	--tags Key=rosa_openshift_version,Value=&lt;openshift_version&gt;</span><span class="w"> </span><span class="nv">Key</span><span class="o">=</span>rosa_role_prefix,Value<span class="o">=</span>ManagedOpenShift <span class="nv">Key</span><span class="o">=</span>operator_namespace,Value<span class="o">=</span>openshift-cloud-credential-operator <span class="nv">Key</span><span class="o">=</span>operator_name,Value<span class="o">=</span>cloud-credential-operator-iam-ro-creds
<span class="go">
</span><span class="gp">aws iam create-policy \
	--policy-name ManagedOpenShift-openshift-image-registry-installer-cloud-creden \
	--policy-document file://openshift_image_registry_installer_cloud_credentials_policy.json \
	--tags Key=rosa_openshift_version,Value=&lt;openshift_version&gt;</span><span class="w"> </span><span class="nv">Key</span><span class="o">=</span>rosa_role_prefix,Value<span class="o">=</span>ManagedOpenShift <span class="nv">Key</span><span class="o">=</span>operator_namespace,Value<span class="o">=</span>openshift-image-registry <span class="nv">Key</span><span class="o">=</span>operator_name,Value<span class="o">=</span>installer-cloud-credentials</code></pre>
</div>
</div>
<h4 id="rosa-sts-account-wide-role-and-policy-aws-cli-auto-mode_rosa-sts-about-iam-resources" class="discrete">Using auto mode for role creation</h4>
<div class="paragraph">
<p>When you add the <code>--mode auto</code> argument, the Red Hat OpenShift Service on AWS (ROSA) CLI, <code>rosa</code>, creates your roles and policies. The following command starts that process:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="terminal"><span class="gp">$</span><span class="w"> </span>rosa create account-roles <span class="nt">--mode</span> auto</code></pre>
</div>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p>The provided command examples include the <code>ManagedOpenShift</code> prefix. The <code>ManagedOpenShift</code> prefix is the default value, if you do not specify a custom prefix by using the <code>--prefix</code> option.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="listingblock">
<div class="title">Command output</div>
<div class="content">
<pre class="rouge highlight"><code data-lang="terminal"><span class="gp">I: Creating roles using 'arn:aws:iam::&lt;ARN&gt;</span>:user/&lt;UserID&gt;<span class="s1">'
</span><span class="go">? Create the 'ManagedOpenShift-Installer-Role' role? Yes
</span><span class="gp">I: Created role 'ManagedOpenShift-Installer-Role' with ARN 'arn:aws:iam::&lt;ARN&gt;</span>:role/ManagedOpenShift-Installer-Role<span class="s1">'
</span><span class="go">? Create the 'ManagedOpenShift-ControlPlane-Role' role? Yes
</span><span class="gp">I: Created role 'ManagedOpenShift-ControlPlane-Role' with ARN 'arn:aws:iam::&lt;ARN&gt;</span>:role/ManagedOpenShift-ControlPlane-Role<span class="s1">'
</span><span class="go">? Create the 'ManagedOpenShift-Worker-Role' role? Yes
</span><span class="gp">I: Created role 'ManagedOpenShift-Worker-Role' with ARN 'arn:aws:iam::&lt;ARN&gt;</span>:role/ManagedOpenShift-Worker-Role<span class="s1">'
</span><span class="go">? Create the 'ManagedOpenShift-Support-Role' role? Yes
</span><span class="gp">I: Created role 'ManagedOpenShift-Support-Role' with ARN 'arn:aws:iam::&lt;ARN&gt;</span>:role/ManagedOpenShift-Support-Role<span class="s1">'
</span><span class="go">? Create the operator policies? Yes
</span><span class="gp">I: Created policy with ARN 'arn:aws:iam::&lt;ARN&gt;</span>:policy/ManagedOpenShift-openshift-machine-api-aws-cloud-credentials<span class="s1">'
</span><span class="gp">I: Created policy with ARN 'arn:aws:iam::&lt;ARN&gt;</span><span class="s1">:policy/ManagedOpenShift-openshift-cloud-credential-operator-cloud-crede'</span>
<span class="gp">I: Created policy with ARN 'arn:aws:iam::&lt;ARN&gt;</span>:policy/ManagedOpenShift-openshift-image-registry-installer-cloud-creden<span class="s1">'
</span><span class="gp">I: Created policy with ARN 'arn:aws:iam::&lt;ARN&gt;</span><span class="s1">:policy/ManagedOpenShift-openshift-ingress-operator-cloud-credentials'</span>
<span class="gp">I: Created policy with ARN 'arn:aws:iam::&lt;ARN&gt;</span>:policy/ManagedOpenShift-openshift-cluster-csi-drivers-ebs-cloud-credent<span class="s1">'
</span><span class="gp">I: Created policy with ARN 'arn:aws:iam::&lt;ARN&gt;</span><span class="s1">:policy/ManagedOpenShift-openshift-cloud-network-config-controller-cloud'</span>
<span class="go">I: To create a cluster with these roles, run the following command:
rosa create cluster --sts</span></code></pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="rosa-sts-aws-requirements-attaching-boundary-policy_rosa-sts-about-iam-resources"><a class="anchor" href="#rosa-sts-aws-requirements-attaching-boundary-policy_rosa-sts-about-iam-resources"></a>Permission boundaries for the installer role</h2>
<div class="sectionbody">
<div class="paragraph">
<p>You can apply a policy as a <em>permissions boundary</em> on an installer role.
You can use an AWS-managed policy or a customer-managed policy to set the boundary for an Amazon Web Services (AWS) Identity and Access Management (IAM) entity (user or role). The combination of policy and boundary policy limits the maximum permissions for the user or role. ROSA includes a set of three prepared permission boundary policy files, with which you can restrict permissions for the installer role since changing the installer policy itself is not supported.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p>This feature is only supported on Red&#160;Hat OpenShift Service on AWS (classic architecture) clusters.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>The permission boundary policy files are as follows:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>The <em>Core</em> boundary policy file contains the minimum permissions needed for ROSA (classic architecture) installer to install an Red Hat OpenShift Service on AWS cluster.
The installer does not have permissions to create a virtual private cloud (VPC) or PrivateLink (PL). A VPC needs to be provided.</p>
</li>
<li>
<p>The <em>VPC</em> boundary policy file contains the minimum permissions needed for ROSA (classic architecture) installer to create/manage the VPC. It does not include permissions for PL or core installation. If you need to install a cluster with enough permissions for the installer to install the cluster and create/manage the VPC, but you do not need to set up PL, then use the core and VPC boundary files together with the installer role.</p>
</li>
<li>
<p>The <em>PrivateLink (PL)</em> boundary policy file contains the minimum permissions needed for ROSA (classic architecture) installer to create the AWS PL with a cluster. It does not include permissions for VPC or core installation. Provide a pre-created VPC for all PL clusters during installation.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>When using the permission boundary policy files, the following combinations apply:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>No permission boundary policies means that the full installer policy permissions apply to your cluster.</p>
</li>
<li>
<p><strong>Core</strong> only sets the most restricted permissions for the installer role. The VPC and PL permissions are not included in the <strong>Core only</strong> boundary policy.</p>
<div class="ulist">
<ul>
<li>
<p>Installer cannot create or manage the VPC or PL.</p>
</li>
<li>
<p>You must have a customer-provided VPC, and PrivateLink (PL) is not available.</p>
</li>
</ul>
</div>
</li>
<li>
<p><strong>Core + VPC</strong> sets the core and VPC permissions for the installer role.</p>
<div class="ulist">
<ul>
<li>
<p>Installer cannot create or manage the PL.</p>
</li>
<li>
<p>Assumes you are not using custom/BYO-VPC.</p>
</li>
<li>
<p>Assumes the installer will create and manage the VPC.</p>
</li>
</ul>
</div>
</li>
<li>
<p><strong>Core + PrivateLink (PL)</strong> means the installer can provision the PL infrastructure.</p>
<div class="ulist">
<ul>
<li>
<p>You must have a customer-provided VPC.</p>
</li>
<li>
<p>This is for a private cluster with PL.</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
<div class="paragraph">
<p>This example procedure is applicable for an installer role and policy with the most restriction of permissions, using only the <em>core</em> installer permission boundary policy for ROSA. You can complete this with the AWS console or the AWS CLI. This example uses the AWS CLI and the following policy:</p>
</div>
<details>
<summary class="title"><code>sts_installer_core_permission_boundary_policy.json</code></summary>
<div class="content">
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="json"><span class="p">{</span><span class="w">
    </span><span class="nl">"Version"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2012-10-17"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Statement"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nl">"Effect"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Allow"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"Action"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
		    </span><span class="s2">"autoscaling:DescribeAutoScalingGroups"</span><span class="p">,</span><span class="w">
		    </span><span class="s2">"ec2:AllocateAddress"</span><span class="p">,</span><span class="w">
		    </span><span class="s2">"ec2:AssociateAddress"</span><span class="p">,</span><span class="w">
		    </span><span class="s2">"ec2:AttachNetworkInterface"</span><span class="p">,</span><span class="w">
		    </span><span class="s2">"ec2:AuthorizeSecurityGroupEgress"</span><span class="p">,</span><span class="w">
		    </span><span class="s2">"ec2:AuthorizeSecurityGroupIngress"</span><span class="p">,</span><span class="w">
		    </span><span class="s2">"ec2:CopyImage"</span><span class="p">,</span><span class="w">
		    </span><span class="s2">"ec2:CreateNetworkInterface"</span><span class="p">,</span><span class="w">
		    </span><span class="s2">"ec2:CreateSecurityGroup"</span><span class="p">,</span><span class="w">
		    </span><span class="s2">"ec2:CreateTags"</span><span class="p">,</span><span class="w">
		    </span><span class="s2">"ec2:CreateVolume"</span><span class="p">,</span><span class="w">
		    </span><span class="s2">"ec2:DeleteNetworkInterface"</span><span class="p">,</span><span class="w">
		    </span><span class="s2">"ec2:DeleteSecurityGroup"</span><span class="p">,</span><span class="w">
		    </span><span class="s2">"ec2:DeleteSnapshot"</span><span class="p">,</span><span class="w">
		    </span><span class="s2">"ec2:DeleteTags"</span><span class="p">,</span><span class="w">
		    </span><span class="s2">"ec2:DeleteVolume"</span><span class="p">,</span><span class="w">
		    </span><span class="s2">"ec2:DeregisterImage"</span><span class="p">,</span><span class="w">
		    </span><span class="s2">"ec2:DescribeAccountAttributes"</span><span class="p">,</span><span class="w">
		    </span><span class="s2">"ec2:DescribeAddresses"</span><span class="p">,</span><span class="w">
		    </span><span class="s2">"ec2:DescribeAvailabilityZones"</span><span class="p">,</span><span class="w">
		    </span><span class="s2">"ec2:DescribeDhcpOptions"</span><span class="p">,</span><span class="w">
		    </span><span class="s2">"ec2:DescribeImages"</span><span class="p">,</span><span class="w">
		    </span><span class="s2">"ec2:DescribeInstanceAttribute"</span><span class="p">,</span><span class="w">
		    </span><span class="s2">"ec2:DescribeInstanceCreditSpecifications"</span><span class="p">,</span><span class="w">
		    </span><span class="s2">"ec2:DescribeInstances"</span><span class="p">,</span><span class="w">
		    </span><span class="s2">"ec2:DescribeInstanceStatus"</span><span class="p">,</span><span class="w">
		    </span><span class="s2">"ec2:DescribeInstanceTypeOfferings"</span><span class="p">,</span><span class="w">
		    </span><span class="s2">"ec2:DescribeInstanceTypes"</span><span class="p">,</span><span class="w">
		    </span><span class="s2">"ec2:DescribeInternetGateways"</span><span class="p">,</span><span class="w">
		    </span><span class="s2">"ec2:DescribeKeyPairs"</span><span class="p">,</span><span class="w">
		    </span><span class="s2">"ec2:DescribeNatGateways"</span><span class="p">,</span><span class="w">
		    </span><span class="s2">"ec2:DescribeNetworkAcls"</span><span class="p">,</span><span class="w">
		    </span><span class="s2">"ec2:DescribeNetworkInterfaces"</span><span class="p">,</span><span class="w">
		    </span><span class="s2">"ec2:DescribePrefixLists"</span><span class="p">,</span><span class="w">
		    </span><span class="s2">"ec2:DescribeRegions"</span><span class="p">,</span><span class="w">
		    </span><span class="s2">"ec2:DescribeReservedInstancesOfferings"</span><span class="p">,</span><span class="w">
		    </span><span class="s2">"ec2:DescribeRouteTables"</span><span class="p">,</span><span class="w">
		    </span><span class="s2">"ec2:DescribeSecurityGroups"</span><span class="p">,</span><span class="w">
		    </span><span class="s2">"ec2:DescribeSecurityGroupRules"</span><span class="p">,</span><span class="w">
		    </span><span class="s2">"ec2:DescribeSubnets"</span><span class="p">,</span><span class="w">
		    </span><span class="s2">"ec2:DescribeTags"</span><span class="p">,</span><span class="w">
		    </span><span class="s2">"ec2:DescribeVolumes"</span><span class="p">,</span><span class="w">
		    </span><span class="s2">"ec2:DescribeVpcAttribute"</span><span class="p">,</span><span class="w">
		    </span><span class="s2">"ec2:DescribeVpcClassicLink"</span><span class="p">,</span><span class="w">
		    </span><span class="s2">"ec2:DescribeVpcClassicLinkDnsSupport"</span><span class="p">,</span><span class="w">
		    </span><span class="s2">"ec2:DescribeVpcEndpoints"</span><span class="p">,</span><span class="w">
		    </span><span class="s2">"ec2:DescribeVpcs"</span><span class="p">,</span><span class="w">
		    </span><span class="s2">"ec2:GetConsoleOutput"</span><span class="p">,</span><span class="w">
		    </span><span class="s2">"ec2:GetEbsDefaultKmsKeyId"</span><span class="p">,</span><span class="w">
		    </span><span class="s2">"ec2:ModifyInstanceAttribute"</span><span class="p">,</span><span class="w">
		    </span><span class="s2">"ec2:ModifyNetworkInterfaceAttribute"</span><span class="p">,</span><span class="w">
		    </span><span class="s2">"ec2:ReleaseAddress"</span><span class="p">,</span><span class="w">
		    </span><span class="s2">"ec2:RevokeSecurityGroupEgress"</span><span class="p">,</span><span class="w">
		    </span><span class="s2">"ec2:RevokeSecurityGroupIngress"</span><span class="p">,</span><span class="w">
		    </span><span class="s2">"ec2:RunInstances"</span><span class="p">,</span><span class="w">
		    </span><span class="s2">"ec2:StartInstances"</span><span class="p">,</span><span class="w">
		    </span><span class="s2">"ec2:StopInstances"</span><span class="p">,</span><span class="w">
		    </span><span class="s2">"ec2:TerminateInstances"</span><span class="p">,</span><span class="w">
		    </span><span class="s2">"elasticloadbalancing:AddTags"</span><span class="p">,</span><span class="w">
		    </span><span class="s2">"elasticloadbalancing:ApplySecurityGroupsToLoadBalancer"</span><span class="p">,</span><span class="w">
		    </span><span class="s2">"elasticloadbalancing:AttachLoadBalancerToSubnets"</span><span class="p">,</span><span class="w">
		    </span><span class="s2">"elasticloadbalancing:ConfigureHealthCheck"</span><span class="p">,</span><span class="w">
		    </span><span class="s2">"elasticloadbalancing:CreateListener"</span><span class="p">,</span><span class="w">
		    </span><span class="s2">"elasticloadbalancing:CreateLoadBalancer"</span><span class="p">,</span><span class="w">
		    </span><span class="s2">"elasticloadbalancing:CreateLoadBalancerListeners"</span><span class="p">,</span><span class="w">
		    </span><span class="s2">"elasticloadbalancing:CreateTargetGroup"</span><span class="p">,</span><span class="w">
		    </span><span class="s2">"elasticloadbalancing:DeleteLoadBalancer"</span><span class="p">,</span><span class="w">
		    </span><span class="s2">"elasticloadbalancing:DeleteTargetGroup"</span><span class="p">,</span><span class="w">
		    </span><span class="s2">"elasticloadbalancing:DeregisterInstancesFromLoadBalancer"</span><span class="p">,</span><span class="w">
		    </span><span class="s2">"elasticloadbalancing:DeregisterTargets"</span><span class="p">,</span><span class="w">
		    </span><span class="s2">"elasticloadbalancing:DescribeInstanceHealth"</span><span class="p">,</span><span class="w">
		    </span><span class="s2">"elasticloadbalancing:DescribeListeners"</span><span class="p">,</span><span class="w">
		    </span><span class="s2">"elasticloadbalancing:DescribeLoadBalancerAttributes"</span><span class="p">,</span><span class="w">
		    </span><span class="s2">"elasticloadbalancing:DescribeLoadBalancers"</span><span class="p">,</span><span class="w">
		    </span><span class="s2">"elasticloadbalancing:DescribeTags"</span><span class="p">,</span><span class="w">
		    </span><span class="s2">"elasticloadbalancing:DescribeTargetGroupAttributes"</span><span class="p">,</span><span class="w">
		    </span><span class="s2">"elasticloadbalancing:DescribeTargetGroups"</span><span class="p">,</span><span class="w">
		    </span><span class="s2">"elasticloadbalancing:DescribeTargetHealth"</span><span class="p">,</span><span class="w">
		    </span><span class="s2">"elasticloadbalancing:ModifyLoadBalancerAttributes"</span><span class="p">,</span><span class="w">
		    </span><span class="s2">"elasticloadbalancing:ModifyTargetGroup"</span><span class="p">,</span><span class="w">
		    </span><span class="s2">"elasticloadbalancing:ModifyTargetGroupAttributes"</span><span class="p">,</span><span class="w">
		    </span><span class="s2">"elasticloadbalancing:RegisterInstancesWithLoadBalancer"</span><span class="p">,</span><span class="w">
		    </span><span class="s2">"elasticloadbalancing:RegisterTargets"</span><span class="p">,</span><span class="w">
		    </span><span class="s2">"elasticloadbalancing:SetLoadBalancerPoliciesOfListener"</span><span class="p">,</span><span class="w">
		    </span><span class="s2">"elasticloadbalancing:SetSecurityGroups"</span><span class="p">,</span><span class="w">
		    </span><span class="s2">"iam:AddRoleToInstanceProfile"</span><span class="p">,</span><span class="w">
		    </span><span class="s2">"iam:CreateInstanceProfile"</span><span class="p">,</span><span class="w">
		    </span><span class="s2">"iam:DeleteInstanceProfile"</span><span class="p">,</span><span class="w">
		    </span><span class="s2">"iam:GetInstanceProfile"</span><span class="p">,</span><span class="w">
		    </span><span class="s2">"iam:TagInstanceProfile"</span><span class="p">,</span><span class="w">
		    </span><span class="s2">"iam:GetRole"</span><span class="p">,</span><span class="w">
		    </span><span class="s2">"iam:GetRolePolicy"</span><span class="p">,</span><span class="w">
		    </span><span class="s2">"iam:GetUser"</span><span class="p">,</span><span class="w">
		    </span><span class="s2">"iam:ListAttachedRolePolicies"</span><span class="p">,</span><span class="w">
		    </span><span class="s2">"iam:ListInstanceProfiles"</span><span class="p">,</span><span class="w">
		    </span><span class="s2">"iam:ListInstanceProfilesForRole"</span><span class="p">,</span><span class="w">
		    </span><span class="s2">"iam:ListRolePolicies"</span><span class="p">,</span><span class="w">
		    </span><span class="s2">"iam:ListRoles"</span><span class="p">,</span><span class="w">
		    </span><span class="s2">"iam:ListUserPolicies"</span><span class="p">,</span><span class="w">
		    </span><span class="s2">"iam:ListUsers"</span><span class="p">,</span><span class="w">
		    </span><span class="s2">"iam:PassRole"</span><span class="p">,</span><span class="w">
		    </span><span class="s2">"iam:RemoveRoleFromInstanceProfile"</span><span class="p">,</span><span class="w">
		    </span><span class="s2">"iam:SimulatePrincipalPolicy"</span><span class="p">,</span><span class="w">
		    </span><span class="s2">"iam:TagRole"</span><span class="p">,</span><span class="w">
		    </span><span class="s2">"iam:UntagRole"</span><span class="p">,</span><span class="w">
		    </span><span class="s2">"route53:ChangeResourceRecordSets"</span><span class="p">,</span><span class="w">
		    </span><span class="s2">"route53:ChangeTagsForResource"</span><span class="p">,</span><span class="w">
		    </span><span class="s2">"route53:CreateHostedZone"</span><span class="p">,</span><span class="w">
		    </span><span class="s2">"route53:DeleteHostedZone"</span><span class="p">,</span><span class="w">
		    </span><span class="s2">"route53:GetAccountLimit"</span><span class="p">,</span><span class="w">
		    </span><span class="s2">"route53:GetChange"</span><span class="p">,</span><span class="w">
		    </span><span class="s2">"route53:GetHostedZone"</span><span class="p">,</span><span class="w">
		    </span><span class="s2">"route53:ListHostedZones"</span><span class="p">,</span><span class="w">
		    </span><span class="s2">"route53:ListHostedZonesByName"</span><span class="p">,</span><span class="w">
		    </span><span class="s2">"route53:ListResourceRecordSets"</span><span class="p">,</span><span class="w">
		    </span><span class="s2">"route53:ListTagsForResource"</span><span class="p">,</span><span class="w">
		    </span><span class="s2">"route53:UpdateHostedZoneComment"</span><span class="p">,</span><span class="w">
		    </span><span class="s2">"s3:CreateBucket"</span><span class="p">,</span><span class="w">
		    </span><span class="s2">"s3:DeleteBucket"</span><span class="p">,</span><span class="w">
		    </span><span class="s2">"s3:DeleteObject"</span><span class="p">,</span><span class="w">
		    </span><span class="s2">"s3:GetAccelerateConfiguration"</span><span class="p">,</span><span class="w">
		    </span><span class="s2">"s3:GetBucketAcl"</span><span class="p">,</span><span class="w">
		    </span><span class="s2">"s3:GetBucketCORS"</span><span class="p">,</span><span class="w">
		    </span><span class="s2">"s3:GetBucketLocation"</span><span class="p">,</span><span class="w">
		    </span><span class="s2">"s3:GetBucketLogging"</span><span class="p">,</span><span class="w">
		    </span><span class="s2">"s3:GetBucketObjectLockConfiguration"</span><span class="p">,</span><span class="w">
		    </span><span class="s2">"s3:GetBucketPolicy"</span><span class="p">,</span><span class="w">
		    </span><span class="s2">"s3:GetBucketRequestPayment"</span><span class="p">,</span><span class="w">
		    </span><span class="s2">"s3:GetBucketTagging"</span><span class="p">,</span><span class="w">
		    </span><span class="s2">"s3:GetBucketVersioning"</span><span class="p">,</span><span class="w">
		    </span><span class="s2">"s3:GetBucketWebsite"</span><span class="p">,</span><span class="w">
		    </span><span class="s2">"s3:GetEncryptionConfiguration"</span><span class="p">,</span><span class="w">
		    </span><span class="s2">"s3:GetLifecycleConfiguration"</span><span class="p">,</span><span class="w">
		    </span><span class="s2">"s3:GetObject"</span><span class="p">,</span><span class="w">
		    </span><span class="s2">"s3:GetObjectAcl"</span><span class="p">,</span><span class="w">
		    </span><span class="s2">"s3:GetObjectTagging"</span><span class="p">,</span><span class="w">
		    </span><span class="s2">"s3:GetObjectVersion"</span><span class="p">,</span><span class="w">
		    </span><span class="s2">"s3:GetReplicationConfiguration"</span><span class="p">,</span><span class="w">
		    </span><span class="s2">"s3:ListBucket"</span><span class="p">,</span><span class="w">
		    </span><span class="s2">"s3:ListBucketVersions"</span><span class="p">,</span><span class="w">
		    </span><span class="s2">"s3:PutBucketAcl"</span><span class="p">,</span><span class="w">
		    </span><span class="s2">"s3:PutBucketPolicy"</span><span class="p">,</span><span class="w">
		    </span><span class="s2">"s3:PutBucketTagging"</span><span class="p">,</span><span class="w">
		    </span><span class="s2">"s3:PutEncryptionConfiguration"</span><span class="p">,</span><span class="w">
		    </span><span class="s2">"s3:PutObject"</span><span class="p">,</span><span class="w">
		    </span><span class="s2">"s3:PutObjectAcl"</span><span class="p">,</span><span class="w">
		    </span><span class="s2">"s3:PutObjectTagging"</span><span class="p">,</span><span class="w">
		    </span><span class="s2">"servicequotas:GetServiceQuota"</span><span class="p">,</span><span class="w">
		    </span><span class="s2">"servicequotas:ListAWSDefaultServiceQuotas"</span><span class="p">,</span><span class="w">
		    </span><span class="s2">"sts:AssumeRole"</span><span class="p">,</span><span class="w">
		    </span><span class="s2">"sts:AssumeRoleWithWebIdentity"</span><span class="p">,</span><span class="w">
		    </span><span class="s2">"sts:GetCallerIdentity"</span><span class="p">,</span><span class="w">
		    </span><span class="s2">"tag:GetResources"</span><span class="p">,</span><span class="w">
		    </span><span class="s2">"tag:UntagResources"</span><span class="p">,</span><span class="w">
		    </span><span class="s2">"kms:DescribeKey"</span><span class="p">,</span><span class="w">
		    </span><span class="s2">"cloudwatch:GetMetricData"</span><span class="p">,</span><span class="w">
		    </span><span class="s2">"ec2:CreateRoute"</span><span class="p">,</span><span class="w">
		    </span><span class="s2">"ec2:DeleteRoute"</span><span class="p">,</span><span class="w">
		    </span><span class="s2">"ec2:CreateVpcEndpoint"</span><span class="p">,</span><span class="w">
		    </span><span class="s2">"ec2:DeleteVpcEndpoints"</span><span class="p">,</span><span class="w">
		    </span><span class="s2">"ec2:CreateVpcEndpointServiceConfiguration"</span><span class="p">,</span><span class="w">
		    </span><span class="s2">"ec2:DeleteVpcEndpointServiceConfigurations"</span><span class="p">,</span><span class="w">
		    </span><span class="s2">"ec2:DescribeVpcEndpointServiceConfigurations"</span><span class="p">,</span><span class="w">
		    </span><span class="s2">"ec2:DescribeVpcEndpointServicePermissions"</span><span class="p">,</span><span class="w">
		    </span><span class="s2">"ec2:DescribeVpcEndpointServices"</span><span class="p">,</span><span class="w">
		    </span><span class="s2">"ec2:ModifyVpcEndpointServicePermissions"</span><span class="w">
            </span><span class="p">],</span><span class="w">
            </span><span class="nl">"Resource"</span><span class="p">:</span><span class="w"> </span><span class="s2">"*"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nl">"Effect"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Allow"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"Action"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
                </span><span class="s2">"secretsmanager:GetSecretValue"</span><span class="w">
            </span><span class="p">],</span><span class="w">
            </span><span class="nl">"Resource"</span><span class="p">:</span><span class="w"> </span><span class="s2">"*"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"Condition"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                </span><span class="nl">"StringEquals"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                    </span><span class="nl">"aws:ResourceTag/red-hat-managed"</span><span class="p">:</span><span class="w"> </span><span class="s2">"true"</span><span class="w">
                </span><span class="p">}</span><span class="w">
            </span><span class="p">}</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">]</span><span class="w">
</span><span class="p">}</span></code></pre>
</div>
</div>
</div>
</details>
<div class="admonitionblock important">
<table>
<tr>
<td class="icon">
<i class="fa icon-important" title="Important"></i>
</td>
<td class="content">
<div class="paragraph">
<p>To use the permission boundaries, you will need to prepare the permission boundary policy and add it to your relevant installer role in AWS IAM.
While the ROSA (<code>rosa</code>) CLI offers a permission boundary function, it applies to all roles and not just the installer role, which means it does not work with the provided permission boundary policies (which are only for the installer role).</p>
</div>
</td>
</tr>
</table>
</div>
<div class="ulist">
<div class="title">Prerequisites</div>
<ul>
<li>
<p>You have an AWS account.</p>
</li>
<li>
<p>You have the permissions required to administer AWS roles and policies.</p>
</li>
<li>
<p>You have installed and configured the latest AWS (<code>aws</code>) and ROSA (<code>rosa</code>) CLIs on your workstation.</p>
</li>
<li>
<p>You have already prepared your ROSA account-wide roles, includes the installer role, and the corresponding policies. If these do not exist in your AWS account, see "Creating the account-wide STS roles and policies" in <em>Additional resources</em>.</p>
</li>
</ul>
</div>
<div class="olist arabic">
<div class="title">Procedure</div>
<ol class="arabic">
<li>
<p>Prepare the policy file by entering the following command in the <code>rosa</code> CLI:</p>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="terminal"><span class="gp">$</span><span class="w"> </span>curl <span class="nt">-o</span> ./rosa-installer-core.json https://raw.githubusercontent.com/openshift/managed-cluster-config/master/resources/sts/4.18/sts_installer_core_permission_boundary_policy.json</code></pre>
</div>
</div>
</li>
<li>
<p>Create the policy in AWS and gather its Amazon Resource Name (ARN) by entering the following command:</p>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="terminal"><span class="gp">$</span><span class="w"> </span>aws iam create-policy <span class="se">\</span>
<span class="nt">--policy-name</span> rosa-core-permissions-boundary-policy <span class="se">\</span>
<span class="nt">--policy-document</span> file://./rosa-installer-core.json <span class="se">\</span>
<span class="nt">--description</span> <span class="s2">"ROSA installer core permission boundary policy, the minimum permission set, allows BYO-VPC, disallows PrivateLink"</span></code></pre>
</div>
</div>
<div class="listingblock">
<div class="title">Example output</div>
<div class="content">
<pre class="rouge highlight"><code data-lang="terminal"><span class="go">{
    "Policy": {
        "PolicyName": "rosa-core-permissions-boundary-policy",
</span><span class="gp">        "PolicyId": "&lt;Policy ID&gt;</span><span class="s2">",
</span><span class="gp">        "Arn": "arn:aws:iam::&lt;account ID&gt;</span><span class="s2">:policy/rosa-core-permissions-boundary-policy"</span>,
<span class="go">        "Path": "/",
        "DefaultVersionId": "v1",
        "AttachmentCount": 0,
        "PermissionsBoundaryUsageCount": 0,
        "IsAttachable": true,
</span><span class="gp">        "CreateDate": "&lt;CreateDate&gt;</span><span class="s2">",
</span><span class="gp">        "UpdateDate": "&lt;UpdateDate&gt;</span><span class="s2">"</span>
<span class="go">    }
}</span></code></pre>
</div>
</div>
</li>
<li>
<p>Add the permission boundary policy to the installer role you want to restrict by entering the following command:</p>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="terminal"><span class="gp">$</span><span class="w"> </span>aws iam put-role-permissions-boundary <span class="se">\</span>
<span class="nt">--role-name</span> ManagedOpenShift-Installer-Role <span class="se">\</span>
<span class="nt">--permissions-boundary</span> arn:aws:iam::&lt;account ID&gt;:policy/rosa-core-permissions-boundary-policy</code></pre>
</div>
</div>
</li>
<li>
<p>Display the installer role to validate attached policies (including permissions boundary) by entering the following command in the <code>rosa</code> CLI:</p>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="terminal"><span class="gp">$</span><span class="w"> </span>aws iam get-role <span class="nt">--role-name</span> ManagedOpenShift-Installer-Role <span class="se">\</span>
<span class="nt">--output</span> text | <span class="nb">grep </span>PERMISSIONSBOUNDARY</code></pre>
</div>
</div>
<div class="listingblock">
<div class="title">Example output</div>
<div class="content">
<pre class="rouge highlight"><code data-lang="terminal"><span class="gp">PERMISSIONSBOUNDARY	arn:aws:iam::&lt;account ID&gt;</span>:policy/rosa-core-permissions-boundary-policy	Policy</code></pre>
</div>
</div>
<div class="paragraph">
<p>For more examples of PL and VPC permission boundary policies see:</p>
</div>
<details>
<summary class="title"><code>sts_installer_privatelink_permission_boundary_policy.json</code></summary>
<div class="content">
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="json"><span class="p">{</span><span class="w">
  </span><span class="nl">"Version"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2012-10-17"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"Statement"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nl">"Effect"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Allow"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"Action"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="s2">"ec2:ModifyVpcEndpointServiceConfiguration"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"route53:ListHostedZonesByVPC"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"route53:CreateVPCAssociationAuthorization"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"route53:AssociateVPCWithHostedZone"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"route53:DeleteVPCAssociationAuthorization"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"route53:DisassociateVPCFromHostedZone"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"route53:ChangeResourceRecordSets"</span><span class="w">
      </span><span class="p">],</span><span class="w">
      </span><span class="nl">"Resource"</span><span class="p">:</span><span class="w"> </span><span class="s2">"*"</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">]</span><span class="w">
</span><span class="p">}</span></code></pre>
</div>
</div>
</div>
</details>
<details>
<summary class="title"><code>sts_installer_vpc_permission_boundary_policy.json</code></summary>
<div class="content">
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="json"><span class="p">{</span><span class="w">
    </span><span class="nl">"Version"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2012-10-17"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Statement"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nl">"Effect"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Allow"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"Action"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
		    </span><span class="s2">"ec2:AssociateDhcpOptions"</span><span class="p">,</span><span class="w">
		    </span><span class="s2">"ec2:AssociateRouteTable"</span><span class="p">,</span><span class="w">
		    </span><span class="s2">"ec2:AttachInternetGateway"</span><span class="p">,</span><span class="w">
		    </span><span class="s2">"ec2:CreateDhcpOptions"</span><span class="p">,</span><span class="w">
		    </span><span class="s2">"ec2:CreateInternetGateway"</span><span class="p">,</span><span class="w">
		    </span><span class="s2">"ec2:CreateNatGateway"</span><span class="p">,</span><span class="w">
		    </span><span class="s2">"ec2:CreateRouteTable"</span><span class="p">,</span><span class="w">
		    </span><span class="s2">"ec2:CreateSubnet"</span><span class="p">,</span><span class="w">
		    </span><span class="s2">"ec2:CreateVpc"</span><span class="p">,</span><span class="w">
		    </span><span class="s2">"ec2:DeleteDhcpOptions"</span><span class="p">,</span><span class="w">
		    </span><span class="s2">"ec2:DeleteInternetGateway"</span><span class="p">,</span><span class="w">
		    </span><span class="s2">"ec2:DeleteNatGateway"</span><span class="p">,</span><span class="w">
		    </span><span class="s2">"ec2:DeleteRouteTable"</span><span class="p">,</span><span class="w">
		    </span><span class="s2">"ec2:DeleteSubnet"</span><span class="p">,</span><span class="w">
		    </span><span class="s2">"ec2:DeleteVpc"</span><span class="p">,</span><span class="w">
		    </span><span class="s2">"ec2:DetachInternetGateway"</span><span class="p">,</span><span class="w">
		    </span><span class="s2">"ec2:DisassociateRouteTable"</span><span class="p">,</span><span class="w">
		    </span><span class="s2">"ec2:ModifySubnetAttribute"</span><span class="p">,</span><span class="w">
		    </span><span class="s2">"ec2:ModifyVpcAttribute"</span><span class="p">,</span><span class="w">
		    </span><span class="s2">"ec2:ReplaceRouteTableAssociation"</span><span class="w">
            </span><span class="p">],</span><span class="w">
            </span><span class="nl">"Resource"</span><span class="p">:</span><span class="w"> </span><span class="s2">"*"</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">]</span><span class="w">
</span><span class="p">}</span></code></pre>
</div>
</div>
</div>
</details>
</li>
</ol>
</div>
<div class="ulist _additional-resources">
<div class="title">Additional resources</div>
<ul>
<li>
<p><a href="https://docs.aws.amazon.com/IAM/latest/UserGuide/access_policies_boundaries.html">Permissions boundaries for IAM entities</a> (AWS documentation)</p>
</li>
<li>
<p><a href="../rosa_hcp/rosa-hcp-sts-creating-a-cluster-quickly.html#rosa-sts-creating-account-wide-sts-roles-and-policies_rosa-hcp-sts-creating-a-cluster-quickly">Creating account-wide roles and policies</a></p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect1">
<h2 id="rosa-sts-operator-roles_rosa-sts-about-iam-resources"><a class="anchor" href="#rosa-sts-operator-roles_rosa-sts-about-iam-resources"></a>Cluster-specific Operator IAM role reference</h2>
<div class="sectionbody">
<div class="paragraph">
<p>This section provides details about the Operator IAM roles that are required for Red Hat OpenShift Service on AWS (ROSA) deployments that use STS. The cluster Operators use the Operator roles to obtain the temporary permissions required to carry out cluster operations, such as managing back-end storage, cloud provider credentials, and external access to a cluster.</p>
</div>
<div class="paragraph">
<p>When you create the Operator roles, the account-wide Operator policies for the matching cluster version are attached to the roles. The Operator policies are tagged with the Operator and version they are compatible with. The correct policy for an Operator role is determined by using the tags.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p>If more than one matching policy is available in your account for an Operator role, an interactive list of options is provided when you create the Operator.</p>
</div>
</td>
</tr>
</table>
</div>
<table class="tableblock frame-all grid-all stretch">
<caption class="title">Table 14. ROSA cluster-specific Operator roles</caption>
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 66.6667%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Resource</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>&lt;cluster_name&gt;-&lt;hash&gt;-openshift-cluster-csi-drivers-ebs-cloud-credentials</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">An IAM role required by ROSA to manage back-end storage through the Container Storage Interface (CSI).</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>&lt;cluster_name&gt;-&lt;hash&gt;-openshift-machine-api-aws-cloud-credentials</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">An IAM role required by the ROSA Machine Config Operator to perform core cluster functionality.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>&lt;cluster_name&gt;-&lt;hash&gt;-openshift-cloud-credential-operator-cloud-credentials</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">An IAM role required by the ROSA Cloud Credential Operator to manage cloud provider credentials.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>&lt;cluster_name&gt;-&lt;hash&gt;-openshift-cloud-network-config-controller-credentials</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">An IAM role required by the cloud network config controller to manage cloud network configuration for a cluster.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>&lt;cluster_name&gt;-&lt;hash&gt;-openshift-image-registry-installer-cloud-credentials</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">An IAM role required by the ROSA Image Registry Operator to manage the OpenShift image registry storage in AWS S3 for a cluster.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>&lt;cluster_name&gt;-&lt;hash&gt;-openshift-ingress-operator-cloud-credentials</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">An IAM role required by the ROSA Ingress Operator to manage external access to a cluster.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>&lt;cluster_name&gt;-&lt;hash&gt;-openshift-cloud-network-config-controller-cloud-credentials</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">An IAM role required by the cloud network config controller to manage cloud network credentials for a cluster.</p></td>
</tr>
</tbody>
</table>
<div class="sect2">
<h3 id="rosa-sts-operator-role-aws-cli_rosa-sts-about-iam-resources"><a class="anchor" href="#rosa-sts-operator-role-aws-cli_rosa-sts-about-iam-resources"></a>Operator IAM role AWS CLI reference</h3>
<div class="paragraph">
<p>This section lists the <code>aws</code> CLI commands that are shown in the terminal when you run the following <code>rosa</code> command using <code>manual</code> mode:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="terminal"><span class="gp">$</span><span class="w"> </span>rosa create operator-roles <span class="nt">--mode</span> manual <span class="nt">--cluster</span> &lt;cluster_name&gt;</code></pre>
</div>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p>When using <code>manual</code> mode, the <code>aws</code> commands are printed to the terminal for your review. After reviewing the <code>aws</code> commands, you must run them manually. Alternatively, you can specify <code>--mode auto</code> with the <code>rosa create</code> command to run the <code>aws</code> commands immediately.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="listingblock">
<div class="title">Command output</div>
<div class="content">
<pre class="rouge highlight"><code data-lang="terminal"><span class="gp">aws iam create-role \
	--role-name &lt;cluster_name&gt;</span>-&lt;<span class="nb">hash</span><span class="o">&gt;</span><span class="nt">-openshift-cluster-csi-drivers-ebs-cloud-credent</span> <span class="se">\</span>
	<span class="nt">--assume-role-policy-document</span> file://operator_cluster_csi_drivers_ebs_cloud_credentials_policy.json <span class="se">\</span>
	<span class="nt">--tags</span> <span class="nv">Key</span><span class="o">=</span>rosa_cluster_id,Value<span class="o">=</span>&lt;<span class="nb">id</span><span class="o">&gt;</span> <span class="nv">Key</span><span class="o">=</span>rosa_openshift_version,Value<span class="o">=</span>&lt;openshift_version&gt; <span class="nv">Key</span><span class="o">=</span>rosa_role_prefix,Value<span class="o">=</span> <span class="nv">Key</span><span class="o">=</span>operator_namespace,Value<span class="o">=</span>openshift-cluster-csi-drivers <span class="nv">Key</span><span class="o">=</span>operator_name,Value<span class="o">=</span>ebs-cloud-credentials
<span class="go">
</span><span class="gp">aws iam attach-role-policy \
	--role-name &lt;cluster_name&gt;</span>-&lt;<span class="nb">hash</span><span class="o">&gt;</span><span class="nt">-openshift-cluster-csi-drivers-ebs-cloud-credent</span> <span class="se">\</span>
	<span class="nt">--policy-arn</span> arn:aws:iam::&lt;aws_account_id&gt;:policy/ManagedOpenShift-openshift-cluster-csi-drivers-ebs-cloud-credent
<span class="go">
</span><span class="gp">aws iam create-role \
	--role-name &lt;cluster_name&gt;</span>-&lt;<span class="nb">hash</span><span class="o">&gt;</span><span class="nt">-openshift-machine-api-aws-cloud-credentials</span> <span class="se">\</span>
	<span class="nt">--assume-role-policy-document</span> file://operator_machine_api_aws_cloud_credentials_policy.json <span class="se">\</span>
	<span class="nt">--tags</span> <span class="nv">Key</span><span class="o">=</span>rosa_cluster_id,Value<span class="o">=</span>&lt;<span class="nb">id</span><span class="o">&gt;</span> <span class="nv">Key</span><span class="o">=</span>rosa_openshift_version,Value<span class="o">=</span>&lt;openshift_version&gt; <span class="nv">Key</span><span class="o">=</span>rosa_role_prefix,Value<span class="o">=</span> <span class="nv">Key</span><span class="o">=</span>operator_namespace,Value<span class="o">=</span>openshift-machine-api <span class="nv">Key</span><span class="o">=</span>operator_name,Value<span class="o">=</span>aws-cloud-credentials
<span class="go">
</span><span class="gp">aws iam attach-role-policy \
	--role-name &lt;cluster_name&gt;</span>-&lt;<span class="nb">hash</span><span class="o">&gt;</span><span class="nt">-openshift-machine-api-aws-cloud-credentials</span> <span class="se">\</span>
	<span class="nt">--policy-arn</span> arn:aws:iam::&lt;aws_account_id&gt;:policy/ManagedOpenShift-openshift-machine-api-aws-cloud-credentials
<span class="go">
</span><span class="gp">aws iam create-role \
	--role-name &lt;cluster_name&gt;</span>-&lt;<span class="nb">hash</span><span class="o">&gt;</span><span class="nt">-openshift-cloud-credential-operator-cloud-crede</span> <span class="se">\</span>
	<span class="nt">--assume-role-policy-document</span> file://operator_cloud_credential_operator_cloud_credential_operator_iam_ro_creds_policy.json <span class="se">\</span>
	<span class="nt">--tags</span> <span class="nv">Key</span><span class="o">=</span>rosa_cluster_id,Value<span class="o">=</span>&lt;<span class="nb">id</span><span class="o">&gt;</span> <span class="nv">Key</span><span class="o">=</span>rosa_openshift_version,Value<span class="o">=</span>&lt;openshift_version&gt; <span class="nv">Key</span><span class="o">=</span>rosa_role_prefix,Value<span class="o">=</span> <span class="nv">Key</span><span class="o">=</span>operator_namespace,Value<span class="o">=</span>openshift-cloud-credential-operator <span class="nv">Key</span><span class="o">=</span>operator_name,Value<span class="o">=</span>cloud-credential-operator-iam-ro-creds
<span class="go">
</span><span class="gp">aws iam attach-role-policy \
	--role-name &lt;cluster_name&gt;</span>-&lt;<span class="nb">hash</span><span class="o">&gt;</span><span class="nt">-openshift-cloud-credential-operator-cloud-crede</span> <span class="se">\</span>
	<span class="nt">--policy-arn</span> arn:aws:iam::&lt;aws_account_id&gt;:policy/ManagedOpenShift-openshift-cloud-credential-operator-cloud-crede
<span class="go">
</span><span class="gp">aws iam create-role \
	--role-name &lt;cluster_name&gt;</span>-&lt;<span class="nb">hash</span><span class="o">&gt;</span><span class="nt">-openshift-image-registry-installer-cloud-creden</span> <span class="se">\</span>
	<span class="nt">--assume-role-policy-document</span> file://operator_image_registry_installer_cloud_credentials_policy.json <span class="se">\</span>
	<span class="nt">--tags</span> <span class="nv">Key</span><span class="o">=</span>rosa_cluster_id,Value<span class="o">=</span>&lt;<span class="nb">id</span><span class="o">&gt;</span> <span class="nv">Key</span><span class="o">=</span>rosa_openshift_version,Value<span class="o">=</span>&lt;openshift_version&gt; <span class="nv">Key</span><span class="o">=</span>rosa_role_prefix,Value<span class="o">=</span> <span class="nv">Key</span><span class="o">=</span>operator_namespace,Value<span class="o">=</span>openshift-image-registry <span class="nv">Key</span><span class="o">=</span>operator_name,Value<span class="o">=</span>installer-cloud-credentials
<span class="go">
</span><span class="gp">aws iam attach-role-policy \
	--role-name &lt;cluster_name&gt;</span>-&lt;<span class="nb">hash</span><span class="o">&gt;</span><span class="nt">-openshift-image-registry-installer-cloud-creden</span> <span class="se">\</span>
	<span class="nt">--policy-arn</span> arn:aws:iam::&lt;aws_account_id&gt;:policy/ManagedOpenShift-openshift-image-registry-installer-cloud-creden
<span class="go">
</span><span class="gp">aws iam create-role \
	--role-name &lt;cluster_name&gt;</span>-&lt;<span class="nb">hash</span><span class="o">&gt;</span><span class="nt">-openshift-ingress-operator-cloud-credentials</span> <span class="se">\</span>
	<span class="nt">--assume-role-policy-document</span> file://operator_ingress_operator_cloud_credentials_policy.json <span class="se">\</span>
	<span class="nt">--tags</span> <span class="nv">Key</span><span class="o">=</span>rosa_cluster_id,Value<span class="o">=</span>&lt;<span class="nb">id</span><span class="o">&gt;</span> <span class="nv">Key</span><span class="o">=</span>rosa_openshift_version,Value<span class="o">=</span>&lt;openshift_version&gt; <span class="nv">Key</span><span class="o">=</span>rosa_role_prefix,Value<span class="o">=</span> <span class="nv">Key</span><span class="o">=</span>operator_namespace,Value<span class="o">=</span>openshift-ingress-operator <span class="nv">Key</span><span class="o">=</span>operator_name,Value<span class="o">=</span>cloud-credentials
<span class="go">
</span><span class="gp">aws iam attach-role-policy \
	--role-name &lt;cluster_name&gt;</span>-&lt;<span class="nb">hash</span><span class="o">&gt;</span><span class="nt">-openshift-ingress-operator-cloud-credentials</span> <span class="se">\</span>
	<span class="nt">--policy-arn</span> arn:aws:iam::&lt;aws_account_id&gt;:policy/ManagedOpenShift-openshift-ingress-operator-cloud-credentials</code></pre>
</div>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p>The command examples provided in the table include Operator roles that use the <code>ManagedOpenShift</code> prefix. If you defined a custom prefix when you created the account-wide roles and policies, including the Operator policies, you must reference it by using the <code>--prefix &lt;prefix_name&gt;</code> option when you create the Operator roles.</p>
</div>
</td>
</tr>
</table>
</div>
</div>
<div class="sect2">
<h3 id="rosa-sts-about-operator-role-prefixes_rosa-sts-about-iam-resources"><a class="anchor" href="#rosa-sts-about-operator-role-prefixes_rosa-sts-about-iam-resources"></a>About custom Operator IAM role prefixes</h3>
<div class="paragraph">
<p>Each Red Hat OpenShift Service on AWS (ROSA) cluster that uses the AWS Security Token Service (STS) requires cluster-specific Operator IAM roles.</p>
</div>
<div class="paragraph">
<p>By default, the Operator role names are prefixed with the cluster name and a random 4-digit hash. For example, the Cloud Credential Operator IAM role for a cluster named <code>mycluster</code> has the default name <code>mycluster-&lt;hash&gt;-openshift-cloud-credential-operator-cloud-credentials</code>, where <code>&lt;hash&gt;</code> is a random 4-digit string.</p>
</div>
<div class="paragraph">
<p>This default naming convention enables you to easily identify the Operator IAM roles for a cluster in your AWS account.</p>
</div>
<div class="paragraph">
<p>When you create the Operator roles for a cluster, you can optionally specify a custom prefix to use instead of <code>&lt;cluster_name&gt;-&lt;hash&gt;</code>. By using a custom prefix, you can prepend logical identifiers to your Operator role names to meet the requirements of your environment. For example, you might prefix the cluster name and the environment type, such as <code>mycluster-dev</code>. In that example, the Cloud Credential Operator role name with the custom prefix is <code>mycluster-dev-openshift-cloud-credential-operator-cloud-credenti</code>.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p>The role names are truncated to 64 characters.</p>
</div>
</td>
</tr>
</table>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="rosa-sts-oidc-provider-requirements-for-operators_rosa-sts-about-iam-resources"><a class="anchor" href="#rosa-sts-oidc-provider-requirements-for-operators_rosa-sts-about-iam-resources"></a>Open ID Connect (OIDC) requirements for Operator authentication</h2>
<div class="sectionbody">
<div class="paragraph">
<p>For ROSA installations that use STS, you must create a cluster-specific OIDC provider that is used by the cluster Operators to authenticate or create your own OIDC configuration for your own OIDC provider.</p>
</div>
<div class="sect2">
<h3 id="rosa-sts-oidc-provider-for-operators-aws-cli_rosa-sts-about-iam-resources"><a class="anchor" href="#rosa-sts-oidc-provider-for-operators-aws-cli_rosa-sts-about-iam-resources"></a>Creating an OIDC provider using the CLI</h3>
<div class="paragraph">
<p>You can create an OIDC provider that is hosted in your AWS account with the Red Hat OpenShift Service on AWS (ROSA) CLI, <code>rosa</code>.</p>
</div>
<div class="ulist">
<div class="title">Prerequisites</div>
<ul>
<li>
<p>You have installed the latest version of the ROSA CLI.</p>
</li>
</ul>
</div>
<div class="ulist">
<div class="title">Procedure</div>
<ul>
<li>
<p>To create an OIDC provider, by using an unregistered or a registered OIDC configuration.</p>
<div class="ulist">
<ul>
<li>
<p>Unregistered OIDC configurations require you to create the OIDC provider through the cluster. Run the following to create the OIDC provider:</p>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="terminal"><span class="gp">$</span><span class="w"> </span>rosa create oidc-provider <span class="nt">--mode</span> manual <span class="nt">--cluster</span> &lt;cluster_name&gt;</code></pre>
</div>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p>When using <code>manual</code> mode, the <code>aws</code> command is printed to the terminal for your review. After reviewing the <code>aws</code> command, you must run it manually. Alternatively, you can specify <code>--mode auto</code> with the <code>rosa create</code> command to run the <code>aws</code> command immediately.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="listingblock">
<div class="title">Command output</div>
<div class="content">
<pre class="rouge highlight"><code data-lang="terminal"><span class="gp">aws iam create-open-id-connect-provider \
	--url https://oidc.op1.openshiftapps.com/&lt;oidc_config_id&gt;</span><span class="w"> </span><span class="se">\</span><i class="conum" data-value="1"></i><b>(1)</b>
	<span class="nt">--client-id-list</span> openshift sts.&lt;aws_region&gt;.amazonaws.com <span class="se">\</span>
	<span class="nt">--thumbprint-list</span> &lt;thumbprint&gt; <i class="conum" data-value="2"></i><b>(2)</b></code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>The URL used to reach the OpenID Connect (OIDC) identity provider after the cluster is created.</td>
</tr>
<tr>
<td><i class="conum" data-value="2"></i><b>2</b></td>
<td>The thumbprint is generated automatically when you run the <code>rosa create oidc-provider</code> command. For more information about using thumbprints with AWS Identity and Access Management (IAM) OIDC identity providers, see <a href="https://docs.aws.amazon.com/IAM/latest/UserGuide/id_roles_providers_create_oidc_verify-thumbprint.html">the AWS documentation</a>.</td>
</tr>
</table>
</div>
</li>
<li>
<p>Registered OIDC configurations use an OIDC configuration ID. Run the following command with your OIDC configuration ID:</p>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="terminal"><span class="gp">$</span><span class="w"> </span>rosa create oidc-provider <span class="nt">--oidc-config-id</span> &lt;oidc_config_id&gt; <span class="nt">--mode</span> auto <span class="nt">-y</span></code></pre>
</div>
</div>
<div class="listingblock">
<div class="title">Command output</div>
<div class="content">
<pre class="rouge highlight"><code data-lang="terminal"><span class="go">I: Creating OIDC provider using 'arn:aws:iam::4540112244:user/userName'
I: Created OIDC provider with ARN 'arn:aws:iam::4540112244:oidc-provider/dvbwgdztaeq9o.cloudfront.net/241rh9ql5gpu99d7leokhvkp8icnalpf'</span></code></pre>
</div>
</div>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="rosa-byo-odic-overview_rosa-sts-about-iam-resources"><a class="anchor" href="#rosa-byo-odic-overview_rosa-sts-about-iam-resources"></a>Creating an OpenID Connect Configuration</h3>
<div class="paragraph">
<p>When using a cluster hosted by Red&#160;Hat, you can create a managed or unmanaged OpenID Connect (OIDC) configuration by using the Red Hat OpenShift Service on AWS (ROSA) CLI, <code>rosa</code>. A managed OIDC configuration is stored within Red&#160;Hat&#8217;s AWS account, while a generated unmanaged OIDC configuration is stored within your AWS account. The OIDC configuration is registered to be used with OpenShift Cluster Manager. When creating an unmanaged OIDC configuration, the CLI provides the private key for you.</p>
</div>
<h4 id="rosa-sts-byo-oidc_rosa-sts-about-iam-resources" class="discrete">Creating an OpenID Connect configuration</h4>
<div class="paragraph">
<p>When using a
ROSA with HCP cluster, you must
create the OpenID Connect (OIDC) configuration prior to creating your cluster. This configuration is registered to be used with OpenShift Cluster Manager.</p>
</div>
<div class="ulist">
<div class="title">Prerequisites</div>
<ul>
<li>
<p>You have completed the AWS prerequisites for ROSA with HCP.</p>
</li>
<li>
<p>You have installed and configured the latest Red Hat OpenShift Service on AWS (ROSA) CLI, <code>rosa</code>, on your installation host.</p>
</li>
</ul>
</div>
<div class="olist arabic">
<div class="title">Procedure</div>
<ol class="arabic">
<li>
<p>To create your OIDC configuration alongside the AWS resources, run the following command:</p>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="terminal"><span class="gp">$</span><span class="w"> </span>rosa create oidc-config <span class="nt">--mode</span><span class="o">=</span>auto <span class="nt">--yes</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>This command returns the following information.</p>
</div>
<div class="listingblock">
<div class="title">Example output</div>
<div class="content">
<pre class="rouge highlight"><code data-lang="terminal"><span class="go">? Would you like to create a Managed (Red Hat hosted) OIDC Configuration Yes
I: Setting up managed OIDC configuration
</span><span class="gp">I: To create Operator Roles for this OIDC Configuration, run the following command and remember to replace &lt;user-defined&gt;</span><span class="w"> </span>with a prefix of your choice:
<span class="gp">	rosa create operator-roles --prefix &lt;user-defined&gt;</span><span class="w"> </span><span class="nt">--oidc-config-id</span> 13cdr6b
<span class="go">If you are going to create a Hosted Control Plane cluster please include '--hosted-cp'
I: Creating OIDC provider using 'arn:aws:iam::4540112244:user/userName'
? Create the OIDC provider? Yes
I: Created OIDC provider with ARN 'arn:aws:iam::4540112244:oidc-provider/dvbwgdztaeq9o.cloudfront.net/13cdr6b'</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>When creating your cluster, you must supply the OIDC config ID. The CLI output provides this value for <code>--mode auto</code>, otherwise you must determine these values based on <code>aws</code> CLI output for <code>--mode manual</code>.</p>
</div>
</li>
<li>
<p>Optional: you can save the OIDC configuration ID as a variable to use later. Run the following command to save the variable:</p>
<div class="openblock">
<div class="content">
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="terminal"><span class="gp">$</span><span class="w"> </span><span class="nb">export </span><span class="nv">OIDC_ID</span><span class="o">=</span>&lt;oidc_config_id&gt;<i class="conum" data-value="1"></i><b>(1)</b></code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>In the example output above, the OIDC configuration ID is 13cdr6b.</td>
</tr>
</table>
</div>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p>View the value of the variable by running the following command:</p>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="terminal"><span class="gp">$</span><span class="w"> </span><span class="nb">echo</span> <span class="nv">$OIDC_ID</span></code></pre>
</div>
</div>
<div class="listingblock">
<div class="title">Example output</div>
<div class="content">
<pre class="rouge highlight"><code data-lang="terminal"><span class="go">13cdr6b</span></code></pre>
</div>
</div>
</li>
</ul>
</div>
</li>
</ol>
</div>
<div class="ulist">
<div class="title">Verification</div>
<ul>
<li>
<p>You can list the possible OIDC configurations available for your clusters that are associated with your user organization. Run the following command:</p>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="terminal"><span class="gp">$</span><span class="w"> </span>rosa list oidc-config</code></pre>
</div>
</div>
<div class="listingblock">
<div class="title">Example output</div>
<div class="content">
<pre class="rouge highlight"><code data-lang="terminal"><span class="go">ID                                MANAGED  ISSUER URL                                                             SECRET ARN
2330dbs0n8m3chkkr25gkkcd8pnj3lk2  true     https://dvbwgdztaeq9o.cloudfront.net/2330dbs0n8m3chkkr25gkkcd8pnj3lk2
233hvnrjoqu14jltk6lhbhf2tj11f8un  false    https://oidc-r7u1.s3.us-east-1.amazonaws.com                           aws:secretsmanager:us-east-1:242819244:secret:rosa-private-key-oidc-r7u1-tM3MDN
</span></code></pre>
</div>
</div>
</li>
</ul>
</div>
<h4 id="rosa-sts-byo-oidc-options_rosa-sts-about-iam-resources" class="discrete">Parameter options for creating your own OpenID Connect configuration</h4>
<div class="paragraph">
<p>The following options may be added to the <code>rosa create oidc-config</code> command. All of these parameters are optional. Running the <code>rosa create oidc-config</code> command without parameters creates an unmanaged OIDC configuration.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p>You are required to register the unmanaged OIDC configuration by posting a request to <code>/oidc_configs</code> through OpenShift Cluster Manager. You receive an ID in the response. Use this ID to create a cluster.</p>
</div>
</td>
</tr>
</table>
</div>
<h5 id="rosa-sts-byo-oidc-raw-files_rosa-sts-about-iam-resources" class="discrete">raw-files</h5>
<div class="paragraph">
<p>Allows you to provide raw files for the private RSA key. This key is named <code>rosa-private-key-oidc-&lt;random_label_of_length_4&gt;.key</code>. You also receive a discovery document, named <code>discovery-document-oidc-&lt;random_label_of_length_4&gt;.json</code>, and a JSON Web Key Set, named <code>jwks-oidc-&lt;random_label_of_length_4&gt;.json</code>.</p>
</div>
<div class="paragraph">
<p>You use these files to set up the endpoint. This endpoint responds to <code>/.well-known/openid-configuration</code> with the discovery document and on <code>keys.json</code> with the JSON Web Key Set. The private key is stored in Amazon Web Services (AWS) Secrets Manager Service (SMS) as plaintext.</p>
</div>
<div class="listingblock">
<div class="title">Example</div>
<div class="content">
<pre class="rouge highlight"><code data-lang="terminal"><span class="gp">$</span><span class="w"> </span>rosa create oidc-config <span class="nt">--raw-files</span></code></pre>
</div>
</div>
<h5 id="rosa-sts-byo-oidc-mode_rosa-sts-about-iam-resources" class="discrete">mode</h5>
<div class="paragraph">
<p>Allows you to specify the mode to create your OIDC configuration. With the <code>manual</code> option, you receive AWS commands that set up the OIDC configuration in an S3 bucket. This option stores the private key in the Secrets Manager. With the <code>manual</code> option, the OIDC Endpoint URL is the URL for the S3 bucket. You must retrieve the Secrets Manager ARN to register the OIDC configuration with OpenShift Cluster Manager.</p>
</div>
<div class="paragraph">
<p>You receive the same OIDC configuration and AWS resources as the <code>manual</code> mode when using the <code>auto</code> option. A significant difference between the two options is that when using the <code>auto</code> option, ROSA calls AWS, so you do not need to take any further actions. The OIDC Endpoint URL is the URL for the S3 bucket. The CLI retrieves the Secrets Manager ARN, registers the OIDC configuration with OpenShift Cluster Manager, and reports the second <code>rosa</code> command that the user can run to continue with the creation of the STS cluster.</p>
</div>
<div class="listingblock">
<div class="title">Example</div>
<div class="content">
<pre class="rouge highlight"><code data-lang="terminal"><span class="gp">$</span><span class="w"> </span>rosa create oidc-config <span class="nt">--mode</span><span class="o">=</span>&lt;auto|manual&gt;</code></pre>
</div>
</div>
<h5 id="rosa-sts-byo-oidc-managed_rosa-sts-about-iam-resources" class="discrete">managed</h5>
<div class="paragraph">
<p>Creates an OIDC configuration that is hosted under Red&#160;Hat&#8217;s AWS account. This command creates a private key that responds directly with an OIDC Config ID for you to use when creating the STS cluster.</p>
</div>
<div class="listingblock">
<div class="title">Example</div>
<div class="content">
<pre class="rouge highlight"><code data-lang="terminal"><span class="gp">$</span><span class="w"> </span>rosa create oidc-config <span class="nt">--managed</span></code></pre>
</div>
</div>
<div class="listingblock">
<div class="title">Example output</div>
<div class="content">
<pre class="rouge highlight"><code data-lang="terminal"><span class="go">W: For a managed OIDC Config only auto mode is supported. However, you may choose the provider creation mode
? OIDC Provider creation mode: auto
I: Setting up managed OIDC configuration
I: Please run the following command to create a cluster with this oidc config
rosa create cluster --sts --oidc-config-id 233jnu62i9aphpucsj9kueqlkr1vcgra
I: Creating OIDC provider using 'arn:aws:iam::242819244:user/userName'
? Create the OIDC provider? Yes
I: Created OIDC provider with ARN 'arn:aws:iam::242819244:oidc-provider/dvbwgdztaeq9o.cloudfront.net/233jnu62i9aphpucsj9kueqlkr1vcgra'</span></code></pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="rosa-minimum-scp_rosa-sts-about-iam-resources"><a class="anchor" href="#rosa-minimum-scp_rosa-sts-about-iam-resources"></a>Minimum set of effective permissions for service control policies (SCP)</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Service control policies (SCP) are a type of organization policy that manages permissions within your organization. SCPs ensure that accounts within your organization stay within your defined access control guidelines. These policies are maintained in AWS Organizations and control the services that are available within the attached AWS accounts. SCP management is the responsibility of the customer.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p>When using AWS Security Token Service (STS), you must ensure that the service control policy does not block the following resources:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>ec2:{}</code></p>
</li>
<li>
<p><code>iam:{}</code></p>
</li>
<li>
<p><code>tag:*</code></p>
</li>
</ul>
</div>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Verify that your service control policy (SCP) does not restrict any of these required permissions.</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top"></th>
<th class="tableblock halign-left valign-top">Service</th>
<th class="tableblock halign-left valign-top">Actions</th>
<th class="tableblock halign-left valign-top">Effect</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top" rowspan="18"><div class="content"><div class="paragraph">
<p>Required</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Amazon EC2</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>All</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Allow</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Amazon EC2 Auto Scaling</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>All</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Allow</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Amazon S3</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>All</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Allow</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Identity And Access Management</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>All</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Allow</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Elastic Load Balancing</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>All</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Allow</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Elastic Load Balancing V2</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>All</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Allow</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Amazon CloudWatch</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>All</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Allow</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Amazon CloudWatch Events</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>All</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Allow</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Amazon CloudWatch Logs</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>All</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Allow</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>AWS EC2 Instance Connect</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>SendSerialConsoleSSHPublicKey</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Allow</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>AWS Support</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>All</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Allow</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>AWS Key Management Service</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>All</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Allow</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>AWS Security Token Service</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>All</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Allow</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>AWS Tiro</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>CreateQuery</p>
</div>
<div class="paragraph">
<p>GetQueryAnswer</p>
</div>
<div class="paragraph">
<p>GetQueryExplanation</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Allow</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>AWS Marketplace</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Subscribe</p>
</div>
<div class="paragraph">
<p>Unsubscribe</p>
</div>
<div class="paragraph">
<p>View Subscriptions</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Allow</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>AWS Resource Tagging</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>All</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Allow</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>AWS Route53 DNS</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>All</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Allow</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>AWS Service Quotas</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>ListServices</p>
</div>
<div class="paragraph">
<p>GetRequestedServiceQuotaChange</p>
</div>
<div class="paragraph">
<p>GetServiceQuota</p>
</div>
<div class="paragraph">
<p>RequestServiceQuotaIncrease</p>
</div>
<div class="paragraph">
<p>ListServiceQuotas</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Allow</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" rowspan="3"><div class="content"><div class="paragraph">
<p>Optional</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>AWS Billing</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>ViewAccount</p>
</div>
<div class="paragraph">
<p>Viewbilling</p>
</div>
<div class="paragraph">
<p>ViewUsage</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Allow</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>AWS Cost and Usage Report</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>All</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Allow</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>AWS Cost Explorer Services</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>All</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Allow</p>
</div></div></td>
</tr>
</tbody>
</table>
<div class="ulist _additional-resources">
<div class="title">Additional resources</div>
<ul>
<li>
<p><a href="https://docs.aws.amazon.com/organizations/latest/userguide/orgs_manage_policies_scps.html">Service control policies</a></p>
</li>
<li>
<p><a href="https://docs.aws.amazon.com/organizations/latest/userguide/orgs_manage_policies_scps.html#scp-effects-on-permissions">SCP effects on permissions</a></p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect1">
<h2 id="rosa-aws-customer-managed-policies_rosa-sts-about-iam-resources"><a class="anchor" href="#rosa-aws-customer-managed-policies_rosa-sts-about-iam-resources"></a>Customer-managed policies</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Red Hat OpenShift Service on AWS (ROSA) users are able to attach customer-managed policies to the IAM roles required to run and maintain ROSA clusters. This capability is not uncommon with AWS IAM roles.
The ability to attach these policies to ROSA-specific IAM roles extends a ROSA cluster’s permission capabilities; for example, as a way to allow cluster components to access additional AWS resources that are otherwise not part of the ROSA-specific IAM policies.</p>
</div>
<div class="paragraph">
<p>To ensure that any critical customer applications that rely on customer-managed policies are not modified in any way during cluster or role upgrades, ROSA utilizes the <code>ListAttachedRolesPolicies</code> permission to retrieve the list of permission policies from roles and the <code>ListRolePolicies</code> permission to retrieve the list of policies from ROSA-specific roles. This information ensures that customer-managed policies are not impacted during cluster events, and allows Red Hat SREs to monitor both ROSA and customer-managed policies attached to ROSA-specific IAM roles, enhancing their ability to troubleshoot any cluster issues more effectively.</p>
</div>
<div class="admonitionblock warning">
<table>
<tr>
<td class="icon">
<i class="fa icon-warning" title="Warning"></i>
</td>
<td class="content">
<div class="paragraph">
<p>Attaching permission boundary policies to IAM roles that restrict ROSA-specific policies is not supported, as these policies could interrupt the functionality of the basic permissions necessary to successfully run and maintain your ROSA cluster. There are prepared permissions boundary policies for the ROSA (classic architecture) installer role. See the Additional resources section for more information.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="ulist _additional-resources">
<div class="title">Additional resources</div>
<ul>
<li>
<p><a href="../rosa_architecture/rosa-sts-about-iam-resources.html#rosa-sts-aws-requirements-attaching-boundary-policy_rosa-sts-about-iam-resources">Permission boundaries for the installer role</a></p>
</li>
<li>
<p><a href="https://docs.aws.amazon.com/IAM/latest/UserGuide/access_policies_boundaries.html">Permissions boundaries for IAM entities</a></p>
</li>
</ul>
</div>
</div>
</div>
      </div>
    </div>
  </div>
  <script src="https://assets.openshift.net/content/modernizr.js" type="text/javascript"></script>
  <script src="https://assets.openshift.net/content/subdomain.js" type="text/javascript"></script>
  <script src="https://assets.openshift.net/content/nav-tertiary.js" type="text/javascript"></script>
  <script src="https://docs.okd.io/latest/_javascripts/bootstrap-offcanvas.js" type="text/javascript"></script>
  <script src="https://docs.okd.io/latest/_javascripts/reformat-html.js" type="text/javascript"></script>
  <script src="https://docs.okd.io/latest/_javascripts/hc-search.js" type="text/javascript"></script>
  <script src="https://docs.okd.io/latest/_javascripts/page-loader.js" type="text/javascript"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" type="text/javascript"></script>
  <script src="https://docs.okd.io/latest/_javascripts/clipboard.js" type="text/javascript"></script>
  <script src="https://docs.okd.io/latest/_javascripts/collapsible.js" type="text/javascript"></script>
  <script>
  var dk = 'openshift-rosa-hcp';
  var version = '';

  var distros = {
    'openshift-origin': ['docs_origin', version],
    // specific labels are used for OSD instead of the URL filter, due to its unusual URL structure; assume v4
    'openshift-dedicated': ['docs_dedicated_v4'],
    'openshift-online': ['docs_online', version],
    'openshift-enterprise': ['docs_cp', version],
    'openshift-telco': ['docs_telco', version],
    'openshift-aro' : ['docs_aro', version],
    'openshift-rosa' : ['docs_rosa'],
    'openshift-acs' : ['docs_acs', version],
    'openshift-serverless' : ['docs_serverless', version],
    'openshift-pipelines' : ['docs_pipelines', version],
    'openshift-builds' : ['docs_builds', version],
    'openshift-gitops' : ['docs_gitops', version],
    'openshift-lightspeed' : ['docs_lightspeed', version],
    'openshift-service-mesh' : ['docs_service_mesh', version]
  };

  // only OSD v3 docs have the version variable specified
  if (dk == "openshift-dedicated" && version == "3") {
    distros['openshift-dedicated'] = ['docs_dedicated_v3']
  }

  distros[dk] ? hcSearchCategory.apply(null, distros[dk]) : hcSearchCategory("docs");
  </script>
  <script type="text/javascript">
  /*<![CDATA[*/
  $(document).ready(function() {
    $("[id^='topicGroup']").on('show.bs.collapse', function(event) {
      if (!($(event.target).attr('id').match(/^topicSubGroup/))) {
        $(this).parent().find("[id^='tgSpan']").toggleClass("fa-angle-right fa-angle-down");
      }
    });
    $("[id^='topicGroup']").on('hide.bs.collapse', function(event) {
      if (!($(event.target).attr('id').match(/^topicSubGroup/))) {
        $(this).parent().find("[id^='tgSpan']").toggleClass("fa-angle-right fa-angle-down");
      }
    });
    $("[id^='topicSubGroup']").on('show.bs.collapse', function() {
      $(this).parent().find("[id^='sgSpan']").toggleClass("fa-caret-right fa-caret-down");
    });
    $("[id^='topicSubGroup']").on('hide.bs.collapse', function() {
      $(this).parent().find("[id^='sgSpan']").toggleClass("fa-caret-right fa-caret-down");
    });
    $("[id^='topicSubSubGroup']").on('show.bs.collapse', function() {
      $(this).parent().find("[id^='ssgSpan']").toggleClass("fa-caret-right fa-caret-down");
    });
    $("[id^='topicSubSubGroup']").on('hide.bs.collapse', function() {
      $(this).parent().find("[id^='ssgSpan']").toggleClass("fa-caret-right fa-caret-down");
    });

    const collapsibleContent = document.getElementsByTagName("details");
    for (var i = 0; i < collapsibleContent.length; i++) {
      collapsibleContent[i].setAttribute("open", "");
    }

  });
  /*]]>*/
  </script>

  <footer id="rh">

    <div class="container">
        <div class="row">

            <div class="col-sm-2">
                <img src="https://assets.openshift.net/content/img/Logo-Red_Hat-OpenShift-A-Reverse-RGB.svg" class="img-fluid" alt="Red Hat" style="height: 30px;">
            </div>

            <div class="col-sm-3">
              <p class="text-nowrap">Copyright © 2025 Red Hat, Inc.</p>
            </div>



            <div class="col">
                <nav class="nav">
                    <a target="_blank" href="https://www.redhat.com/en/about/privacy-policy" class="nav-link">Privacy statement</a>
                    <a target="_blank" href="https://www.openshift.com/legal/terms/" class="nav-link">Terms of use</a>
                    <a target="_blank" href="https://www.redhat.com/en/about/all-policies-guidelines" class="nav-link">All policies and guidelines</a>
                    <a id="teconsent"></a>
                </nav>
            </div>
        </div>
    </div>
</footer>
<div id="consent_blackbar" style="z-index: 100; position: fixed"></div>



<!-- Adobe DTM -->
<script type="text/javascript">
if (("undefined" !== typeof _satellite) && ("function" === typeof _satellite.pageBottom)) {
   _satellite.pageBottom();
}
</script>
<!-- End Adobe DTM -->

  <!-- adjust page css based on breadcrumb and/or resize -->
  <script type="text/javascript">
    window.addEventListener('DOMContentLoaded', () => {
      if ($(window).width() >= 1008) {
        adjustSide();
        adjustToc();
        adjustMain();
      }
    });

    window.addEventListener('resize', () => {
      if ($(window).width() >= 1008) {
        adjustSide();
        adjustToc();
        adjustMain();
      } else if ($(window).width() < 1008) {
        sidebar.classList.remove('wide');
        document.querySelector('#hc-search').classList.remove('wide');
        if (sidebar.classList.contains('open')) {
          sidebar.style.display = 'block';
        } else {
          sidebar.style.display = 'none';
        }
        document.querySelector('.main').style.paddingTop = '0px';
      }
    });

    function adjustSide() {
      sidebar.classList.add('wide');
      document.querySelector('#hc-search').classList.add('wide');
      sidebar.style.display = 'block';
      document.querySelector('.sidebar').style.top = parseInt((document.querySelector('.breadcrumb').offsetHeight + 125), 10) + "px";
      document.querySelector('#hc-search').style.top = parseInt((document.querySelector('.breadcrumb').offsetHeight + 95), 10) + "px";
    }

    function adjustToc() {
      if (document.querySelector('#toc') !== null) {
        document.querySelector('#toc').style.top = parseInt((document.querySelector('.breadcrumb').offsetHeight + 90), 10) + "px";
      }
    }

    function adjustMain() {
      document.querySelector('html').style.scrollPaddingTop = parseInt((document.querySelector('.breadcrumb').offsetHeight + 90), 10) + "px";
      document.querySelector('.main').style.paddingTop = parseInt((document.querySelector('.breadcrumb').offsetHeight - 70), 10) + "px";
    }

  </script>

  <!-- remove toc active class when page is loaded -->
  <script type="text/javascript">
    window.addEventListener('DOMContentLoaded', () => {
      var tocItems = $("#toc a");

      for (let i = 0; i < tocItems.length; i++) {
        tocItems[i].classList.remove("toc-active");
      }
    })
  </script>

  <!-- maintain sidebar scroll position between page loads -->
  <script type="text/javascript">
    let sidebar = document.querySelector(".sidebar");
    let scrolltop = localStorage.getItem("sidebar-scroll");

    if (scrolltop == null) {
      sidebar.scrollTop = parseInt(top, 10);
    }

    window.addEventListener("beforeunload", () => {
      localStorage.setItem("sidebar-scroll", sidebar.scrollTop);
    });

    window.addEventListener('load', () => {
      sidebar.scrollTo(0, scrolltop)
    })
  </script>

  <!-- open/close the nav -->
  <script type="text/javascript">
    function closeNav() {
      let sidebar = document.querySelector(".sidebar");
      sidebar.style.display = "none";
      sidebar.classList.remove('open');
    }

    function openNav() {
      let sidebar = document.querySelector(".sidebar");
      let hc_search = document.querySelector('#hc-search');
      sidebar.style.display = "block";
      sidebar.style.top = "0px";
      hc_search.style.top = 'unset';
      sidebar.classList.add('open');
    }
  </script>

  <!-- clear and add toc-active to clicked toc link -->
  <script type="text/javascript">
  $("#toc a").click(function() {
    var tocItems = $("#toc a");
    for (let i = 0; i < tocItems.length; i++) {
      tocItems[i].classList.remove("toc-active");
    }
    this.classList.add("toc-active");
  });
  </script>

  <!-- update active toc class when mouse scrolls -->
  <script type="text/javascript">
    window.addEventListener('DOMContentLoaded', () => {
      window.addEventListener("wheel", () => {

        const ioConfiguration = {
          "rootMargin": "-120px 0px -400px 0px",
          "threshold": 0
        };

        const observer = new IntersectionObserver(setCurrent, ioConfiguration, entries => {
          entries.forEach(entry => {
            var id = entry.target.getAttribute('id');
            //fight with js
            document.querySelector(`#toc li a[href="#${id}"]`).classList.remove('toc-active');
          });
        });

        //track all h1-4 headings that have an id
        document.querySelectorAll('.main h2[id], .main h3[id]').forEach((h) => {
          observer.observe(h);
        });

        //runs when the IntersectionObserver fires
        function setCurrent(e) {
          var allTocLinks = document.querySelectorAll("#toc li a");
          if (allTocLinks !== undefined) {
            e.map(i => {
              if (i.isIntersecting && i.intersectionRatio >= 1) {
                allTocLinks.forEach(link => link.classList.remove("toc-active"));
                document.querySelector(`#toc li a[href="#${i.target.id}"]`).classList.add('toc-active')
              }
            })
          }
        };

        //make clicked toc item active and stop IntersectionObserver
        $("#toc a").click(function() {
          //stop tracking all h1-4 headings that have an id
          document.querySelectorAll('.main h2[id], .main h3[id]').forEach((h) => {
            observer.unobserve(h);
          });
          var tocItems = $("#toc a");
          if (tocItems !== undefined) {
            for (let i = 0; i < tocItems.length; i++) {
              tocItems[i].classList.remove("toc-active");
            };
            this.classList.add("toc-active");
          }
        })
      })
    })
  </script>

  <!--handle page scroll top and bottom, add toc-active -->
  <script type="text/javascript">
    document.addEventListener('scroll', () => {
      //scroll to bottom
      if(document.documentElement.scrollHeight === window.pageYOffset + window.innerHeight) {
        var tocItems = $("#toc a");
        for (let i = 0; i < tocItems.length; i++) {
          tocItems[i].classList.remove("toc-active")
          };
          tocItems[tocItems.length - 1].classList.add("toc-active");
        };
      //scroll to top
      if(window.pageYOffset === 0) {
        var tocItems = $("#toc a");
        for (let i = 0; i < tocItems.length; i++) {
          tocItems[i].classList.remove("toc-active");
          };
          tocItems[0].classList.add("toc-active");
        };
      })
  </script>

  <!-- adjust alerts on mobile -->
  <script type="text/javascript">
    alert = document.querySelector('#support-alert')
    window.addEventListener("wheel", () => {
      if ($(window).width() < 1008) {
        //adjust alert
        if(window.pageYOffset > 0) {
          if(alert !== null) {
            document.querySelector('#support-alert').style.position = "fixed";
            document.querySelector('#support-alert').style.bottom = "0px";
            document.querySelector('#support-alert').style.margin = "5px";
            document.querySelector('#support-alert').style.zIndex = "9999999";
          }
        }
      }
   });
    window.addEventListener('resize', () => {
      if ($(window).width() >= 1008) {
        if(alert !== null) {
          document.querySelector('#support-alert').style.removeProperty('position');
          document.querySelector('#support-alert').style.removeProperty('bottom');
          document.querySelector('#support-alert').style.removeProperty('margin');
          document.querySelector('#support-alert').style.removeProperty('zIndex');
        }
      }
    })
  </script>

  <!-- hide footer after 3 seconds -->
  <script type="text/javascript">
    const hideFooter = () => {
      document.querySelector('footer#rh, footer.footer-origin-docs').style.display = "none";
    };

    window.addEventListener('load', function() {
      setTimeout(hideFooter, 3000);
    });
  </script>
</body>
</html>